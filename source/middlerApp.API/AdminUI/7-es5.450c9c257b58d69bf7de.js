!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{zvh3:function(t,n,a){"use strict";a.r(n),a.d(n,"GlobalVariablesModule",(function(){return wt}));var o,l=a("2kYt"),s=a("sEIs"),c=a("EM62"),u=a("ZF+8"),d=a("YtkY"),f=a("xVbo"),h=a("NWgr"),b=function e(){r(this,e)},p=a("cJ9h"),m=a("J+dc"),g=a("8j5Y"),v=a("TLy2"),x=a("C05f"),S=function e(){r(this,e)},C=((o=function(){function e(t){var n=this;r(this,e),this.messages=t,this.rootNodeSubject$=new x.a(new b),this.rootNode$=this.rootNodeSubject$.asObservable(),this.SelectedFolderSubject$=new x.a(null),this.SelectedFolder$=this.SelectedFolderSubject$.asObservable(),this.SelectedFolderItemsSubject$=new x.a(null),this.SelectedFolderItems$=this.SelectedFolderItemsSubject$.asObservable(),this.messages.RunOnEveryReconnect((function(){return n.GetFolderTree().subscribe()})),this.messages.Stream("Variables.Subscribe").pipe(Object(p.b)((function(e){return n.GetFolderTree()}))).subscribe(),this.GetFolderTree().subscribe()}return i(e,[{key:"GetFolderTree",value:function(){var e=this;return this.messages.Invoke("Variables.GetFolderTree").pipe(Object(m.a)(1),Object(g.a)((function(t){e.rootNodeSubject$.next(t)})))}},{key:"GetVariablesInSelectedFolder",value:function(){var e=this;return this.messages.Invoke("Variables.GetVariablesInParent",this.SelectedFolderSubject$.getValue().Path).pipe(Object(m.a)(1),Object(g.a)((function(t){return e.SelectedFolderItemsSubject$.next(t)})))}},{key:"NewFolder",value:function(e,t){return console.log(e,t),this.messages.Invoke("Variables.NewFolder",e,t).pipe(Object(m.a)(1))}},{key:"RenameFolder",value:function(e,t,n){return this.messages.Invoke("Variables.RenameFolder",e,t,n).pipe(Object(m.a)(1))}},{key:"RemoveFolder",value:function(e,t){return this.messages.Invoke("Variables.RemoveFolder",e,t).pipe(Object(m.a)(1))}},{key:"GetVariable",value:function(e,t){return this.messages.Invoke("Variables.GetVariable",e,t).pipe(Object(m.a)(1))}},{key:"UpdateVariableContent",value:function(e,t,n){var i=this;return console.log("Variables.UpdateVariableContent",e,t,n),this.messages.Invoke("Variables.UpdateVariableContent",e,t,n).pipe(Object(m.a)(1),Object(v.a)((function(e){return i.GetVariablesInSelectedFolder()})))}},{key:"CreateVariable",value:function(e){var t=this;return this.messages.Invoke("Variables.CreateVariable",e).pipe(Object(m.a)(1),Object(v.a)((function(e){return t.GetVariablesInSelectedFolder()})))}},{key:"RemoveVariable",value:function(e,t){var n=this;return this.messages.Invoke("Variables.RemoveVariable",e,t).pipe(Object(m.a)(1),Object(v.a)((function(e){return n.GetVariablesInSelectedFolder()})))}},{key:"GetTypings",value:function(){return this.messages.Invoke("Variables.GetTypings").pipe(Object(m.a)(1))}},{key:"SetSelectedFolder",value:function(e){this.SelectedFolderSubject$.next(e)}}]),e}()).\u0275fac=function(e){return new(e||o)(c.Xb(u.d))},o.\u0275prov=c.Jb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),y=a("5m6l"),z=a("B0q8"),P=a("ZTXN"),k=a("IdLP"),O=a("mWib"),M=["gutterEls"];function A(e,t){if(1&e){var n=c.Ub();c.Tb(0,"div",2,3),c.bc("mousedown",(function(e){c.vc(n);var t=c.ec().index;return c.ec().startDragging(e,2*t+1,t+1)}))("touchstart",(function(e){c.vc(n);var t=c.ec().index;return c.ec().startDragging(e,2*t+1,t+1)}))("mouseup",(function(e){c.vc(n);var t=c.ec().index;return c.ec().clickGutter(e,t+1)}))("touchend",(function(e){c.vc(n);var t=c.ec().index;return c.ec().clickGutter(e,t+1)})),c.Ob(2,"div",4),c.Sb()}if(2&e){var i=c.ec().index,r=c.ec();c.Bc("flex-basis",r.gutterSize,"px")("order",2*i+1)}}function w(e,t){1&e&&c.Dc(0,A,3,4,"div",1),2&e&&c.lc("ngIf",!1===t.last)}var _=["*"];function T(e){return void 0!==e.changedTouches&&e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:void 0!==e.clientX&&void 0!==e.clientY?{x:e.clientX,y:e.clientY}:null}function F(e,t){var n=e.nativeElement.getBoundingClientRect();return"horizontal"===t?n.width:n.height}function N(e){return"boolean"==typeof e?e:"false"!==e}function D(e,t){return null==e?t:(e=Number(e),!isNaN(e)&&e>=0?e:t)}function E(e,t){if("percent"===e){var n=t.reduce((function(e,t){return null!==t?e+t:e}),0);return t.every((function(e){return null!==e}))&&n>99.9&&n<100.1}if("pixel"===e)return 1===t.filter((function(e){return null===e})).length}function I(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.minSize?null:e.component.minSize>e.size?e.size:e.component.minSize}function V(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.maxSize?null:e.component.maxSize<e.size?e.size:e.component.maxSize}function R(e,t,n,i){return t.reduce((function(t,n){var r=function(e,t,n,i){return 0===n?{areaSnapshot:t,pixelAbsorb:0,percentAfterAbsorption:t.sizePercentAtStart,pixelRemain:0}:0===t.sizePixelAtStart&&n<0?{areaSnapshot:t,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:n}:"percent"===e?function(e,t,n){var i=(e.sizePixelAtStart+t)/n*100;if(t>0){if(null!==e.area.maxSize&&i>e.area.maxSize){var r=e.area.maxSize/100*n;return{areaSnapshot:e,pixelAbsorb:r,percentAfterAbsorption:e.area.maxSize,pixelRemain:e.sizePixelAtStart+t-r}}return{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:i>100?100:i,pixelRemain:0}}if(t<0){if(null!==e.area.minSize&&i<e.area.minSize){var a=e.area.minSize/100*n;return{areaSnapshot:e,pixelAbsorb:a,percentAfterAbsorption:e.area.minSize,pixelRemain:e.sizePixelAtStart+t-a}}return i<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:t+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:i,pixelRemain:0}}}(t,n,i):"pixel"===e?function(e,t,n){var i=e.sizePixelAtStart+t;return t>0?null!==e.area.maxSize&&i>e.area.maxSize?{areaSnapshot:e,pixelAbsorb:e.area.maxSize-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:i-e.area.maxSize}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:-1,pixelRemain:0}:t<0?null!==e.area.minSize&&i<e.area.minSize?{areaSnapshot:e,pixelAbsorb:e.area.minSize+t-i,percentAfterAbsorption:-1,pixelRemain:i-e.area.minSize}:i<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:t+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(t,n):void 0}(e,n,t.remain,i);return t.list.push(r),t.remain=r.pixelRemain,t}),{remain:n,list:[]})}function G(e,t){"percent"===e?t.areaSnapshot.area.size=t.percentAfterAbsorption:"pixel"===e&&null!==t.areaSnapshot.area.size&&(t.areaSnapshot.area.size=t.areaSnapshot.sizePixelAtStart+t.pixelAbsorb)}var j,$,H,L,U=((H=function(){function t(e,n,i,a){r(this,t),this.ngZone=e,this.elRef=n,this.cdRef=i,this.renderer=a,this._direction="horizontal",this._unit="percent",this._gutterSize=11,this._gutterStep=1,this._restrictMove=!1,this._useTransition=!1,this._disabled=!1,this._dir="ltr",this._gutterDblClickDuration=0,this.dragStart=new c.n(!1),this.dragEnd=new c.n(!1),this.gutterClick=new c.n(!1),this.gutterDblClick=new c.n(!1),this.dragProgressSubject=new P.a,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hidedAreas=[],this._clickTimeout=null,this.direction=this._direction}return i(t,[{key:"ngAfterViewInit",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){setTimeout((function(){return e.renderer.addClass(e.elRef.nativeElement,"as-init")}))}))}},{key:"getNbGutters",value:function(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}},{key:"addArea",value:function(e){var t={component:e,order:0,size:0,minSize:null,maxSize:null};!0===e.visible?(this.displayedAreas.push(t),this.build(!0,!0)):this.hidedAreas.push(t)}},{key:"removeArea",value:function(e){if(this.displayedAreas.some((function(t){return t.component===e}))){var t=this.displayedAreas.find((function(t){return t.component===e}));this.displayedAreas.splice(this.displayedAreas.indexOf(t),1),this.build(!0,!0)}else if(this.hidedAreas.some((function(t){return t.component===e}))){var n=this.hidedAreas.find((function(t){return t.component===e}));this.hidedAreas.splice(this.hidedAreas.indexOf(n),1)}}},{key:"updateArea",value:function(e,t,n){!0===e.visible&&this.build(t,n)}},{key:"showArea",value:function(t){var n,i=this.hidedAreas.find((function(e){return e.component===t}));if(void 0!==i){var r=this.hidedAreas.splice(this.hidedAreas.indexOf(i),1);(n=this.displayedAreas).push.apply(n,e(r)),this.build(!0,!0)}}},{key:"hideArea",value:function(t){var n,i=this.displayedAreas.find((function(e){return e.component===t}));if(void 0!==i){var r=this.displayedAreas.splice(this.displayedAreas.indexOf(i),1);r.forEach((function(e){e.order=0,e.size=0})),(n=this.hidedAreas).push.apply(n,e(r)),this.build(!0,!0)}}},{key:"getVisibleAreaSizes",value:function(){return this.displayedAreas.map((function(e){return null===e.size?"*":e.size}))}},{key:"setVisibleAreaSizes",value:function(e){if(e.length!==this.displayedAreas.length)return!1;var t=e.map((function(e){return D(e,null)}));return!1!==E(this.unit,t)&&(this.displayedAreas.forEach((function(e,n){return e.component._size=t[n]})),this.build(!1,!0),!0)}},{key:"build",value:function(e,t){if(this.stopDragging(),!0===e&&(this.displayedAreas.every((function(e){return null!==e.component.order}))&&this.displayedAreas.sort((function(e,t){return e.component.order-t.component.order})),this.displayedAreas.forEach((function(e,t){e.order=2*t,e.component.setStyleOrder(e.order)}))),!0===t){var n=E(this.unit,this.displayedAreas.map((function(e){return e.component.size})));switch(this.unit){case"percent":var i=100/this.displayedAreas.length;this.displayedAreas.forEach((function(e){e.size=n?e.component.size:i,e.minSize=I(e),e.maxSize=V(e)}));break;case"pixel":if(n)this.displayedAreas.forEach((function(e){e.size=e.component.size,e.minSize=I(e),e.maxSize=V(e)}));else{var r=this.displayedAreas.filter((function(e){return null===e.component.size}));if(0===r.length&&this.displayedAreas.length>0)this.displayedAreas.forEach((function(e,t){e.size=0===t?null:e.component.size,e.minSize=0===t?null:I(e),e.maxSize=0===t?null:V(e)}));else if(r.length>1){var a=!1;this.displayedAreas.forEach((function(e){null===e.component.size?!1===a?(e.size=null,e.minSize=null,e.maxSize=null,a=!0):(e.size=100,e.minSize=null,e.maxSize=null):(e.size=e.component.size,e.minSize=I(e),e.maxSize=V(e))}))}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}},{key:"refreshStyleSizes",value:function(){var e=this;if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{var t=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach((function(e){e.component.setStyleFlex(0,0,"calc( ".concat(e.size,"% - ").concat(e.size/100*t,"px )"),null!==e.minSize&&e.minSize===e.size,null!==e.maxSize&&e.maxSize===e.size)}))}else"pixel"===this.unit&&this.displayedAreas.forEach((function(t){null===t.size?t.component.setStyleFlex(1,1,1===e.displayedAreas.length?"100%":"auto",!1,!1):1===e.displayedAreas.length?t.component.setStyleFlex(0,0,"100%",!1,!1):t.component.setStyleFlex(0,0,t.size+"px",null!==t.minSize&&t.minSize===t.size,null!==t.maxSize&&t.maxSize===t.size)}))}},{key:"clickGutter",value:function(e,t){var n=this,i=T(e);this.startPoint&&this.startPoint.x===i.x&&this.startPoint.y===i.y&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",t),this.stopDragging()):this._clickTimeout=window.setTimeout((function(){n._clickTimeout=null,n.notify("click",t),n.stopDragging()}),this.gutterDblClickDuration))}},{key:"startDragging",value:function(t,n,i){var r=this;t.preventDefault(),t.stopPropagation(),this.startPoint=T(t),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.snapshot={gutterNum:i,lastSteppedOffset:0,allAreasSizePixel:F(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach((function(e){var t={area:e,sizePixelAtStart:F(e.component.elRef,r.direction),sizePercentAtStart:"percent"===r.unit?e.size:-1};e.order<n?!0===r.restrictMove?r.snapshot.areasBeforeGutter=[t]:r.snapshot.areasBeforeGutter.unshift(t):e.order>n&&(!0===r.restrictMove?0===r.snapshot.areasAfterGutter.length&&(r.snapshot.areasAfterGutter=[t]):r.snapshot.areasAfterGutter.push(t))})),this.snapshot.allInvolvedAreasSizePercent=[].concat(e(this.snapshot.areasBeforeGutter),e(this.snapshot.areasAfterGutter)).reduce((function(e,t){return e+t.sizePercentAtStart}),0),0!==this.snapshot.areasBeforeGutter.length&&0!==this.snapshot.areasAfterGutter.length&&(this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular((function(){r.dragListeners.push(r.renderer.listen("document","mousemove",r.dragEvent.bind(r))),r.dragListeners.push(r.renderer.listen("document","touchmove",r.dragEvent.bind(r)))})),this.displayedAreas.forEach((function(e){return e.component.lockEvents()})),this.isDragging=!0,this.renderer.addClass(this.elRef.nativeElement,"as-dragging"),this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.notify("start",this.snapshot.gutterNum)))}},{key:"dragEvent",value:function(t){var n=this;if(t.preventDefault(),t.stopPropagation(),null!==this._clickTimeout&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=T(t),null!==this.endPoint)){var i="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&(i=-i);var r=Math.round(i/this.gutterStep)*this.gutterStep;if(r!==this.snapshot.lastSteppedOffset){this.snapshot.lastSteppedOffset=r;var a=R(this.unit,this.snapshot.areasBeforeGutter,-r,this.snapshot.allAreasSizePixel),o=R(this.unit,this.snapshot.areasAfterGutter,r,this.snapshot.allAreasSizePixel);if(0!==a.remain&&0!==o.remain?Math.abs(a.remain)===Math.abs(o.remain)||(Math.abs(a.remain)>Math.abs(o.remain)?o=R(this.unit,this.snapshot.areasAfterGutter,r+a.remain,this.snapshot.allAreasSizePixel):a=R(this.unit,this.snapshot.areasBeforeGutter,-(r-o.remain),this.snapshot.allAreasSizePixel)):0!==a.remain?o=R(this.unit,this.snapshot.areasAfterGutter,r+a.remain,this.snapshot.allAreasSizePixel):0!==o.remain&&(a=R(this.unit,this.snapshot.areasBeforeGutter,-(r-o.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){var l=[].concat(e(a.list),e(o.list)),s=l.find((function(e){return 0!==e.percentAfterAbsorption&&e.percentAfterAbsorption!==e.areaSnapshot.area.minSize&&e.percentAfterAbsorption!==e.areaSnapshot.area.maxSize}));s&&(s.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-l.filter((function(e){return e!==s})).reduce((function(e,t){return e+t.percentAfterAbsorption}),0))}a.list.forEach((function(e){return G(n.unit,e)})),o.list.forEach((function(e){return G(n.unit,e)})),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}}}},{key:"stopDragging",value:function(e){var t=this;if(e&&(e.preventDefault(),e.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach((function(e){return e.component.unlockEvents()}));this.dragListeners.length>0;){var n=this.dragListeners.pop();n&&n()}this.isDragging=!1,!this.endPoint||this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y||this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular((function(){setTimeout((function(){t.startPoint=null,t.endPoint=null,t.isWaitingClear=!1}))}))}}},{key:"notify",value:function(e,t){var n=this,i=this.getVisibleAreaSizes();"start"===e?this.dragStart.emit({gutterNum:t,sizes:i}):"end"===e?this.dragEnd.emit({gutterNum:t,sizes:i}):"click"===e?this.gutterClick.emit({gutterNum:t,sizes:i}):"dblclick"===e?this.gutterDblClick.emit({gutterNum:t,sizes:i}):"transitionEnd"===e?this.transitionEndSubscriber&&this.ngZone.run((function(){return n.transitionEndSubscriber.next(i)})):"progress"===e&&this.dragProgressSubject.next({gutterNum:t,sizes:i})}},{key:"ngOnDestroy",value:function(){this.stopDragging()}},{key:"direction",set:function(e){this._direction="vertical"===e?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,"as-"+this._direction),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)},get:function(){return this._direction}},{key:"unit",set:function(e){this._unit="pixel"===e?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,"as-"+this._unit),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)},get:function(){return this._unit}},{key:"gutterSize",set:function(e){this._gutterSize=D(e,11),this.build(!1,!1)},get:function(){return this._gutterSize}},{key:"gutterStep",set:function(e){this._gutterStep=D(e,1)},get:function(){return this._gutterStep}},{key:"restrictMove",set:function(e){this._restrictMove=N(e)},get:function(){return this._restrictMove}},{key:"useTransition",set:function(e){this._useTransition=N(e),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")},get:function(){return this._useTransition}},{key:"disabled",set:function(e){this._disabled=N(e),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")},get:function(){return this._disabled}},{key:"dir",set:function(e){this._dir="rtl"===e?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)},get:function(){return this._dir}},{key:"gutterDblClickDuration",set:function(e){this._gutterDblClickDuration=D(e,0)},get:function(){return this._gutterDblClickDuration}},{key:"transitionEnd",get:function(){var e=this;return new k.a((function(t){return e.transitionEndSubscriber=t})).pipe(Object(O.a)(20))}}]),t}()).\u0275fac=function(e){return new(e||H)(c.Nb(c.z),c.Nb(c.l),c.Nb(c.h),c.Nb(c.E))},H.\u0275cmp=c.Hb({type:H,selectors:[["as-split"]],viewQuery:function(e,t){var n;1&e&&c.Jc(M,!0),2&e&&c.sc(n=c.cc())&&(t.gutterEls=n)},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration"},outputs:{dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick",transitionEnd:"transitionEnd"},exportAs:["asSplit"],ngContentSelectors:_,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],["class","as-split-gutter",3,"flex-basis","order","mousedown","touchstart","mouseup","touchend",4,"ngIf"],[1,"as-split-gutter",3,"mousedown","touchstart","mouseup","touchend"],["gutterEls",""],[1,"as-split-gutter-icon"]],template:function(e,t){1&e&&(c.kc(),c.jc(0),c.Dc(1,w,1,1,"ng-template",0)),2&e&&(c.zb(1),c.lc("ngForOf",t.displayedAreas))},directives:[l.n,l.o],styles:['[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url("")}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area, .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%]{transition:flex-basis .3s}'],changeDetection:0}),H),B=(($=function(){function e(t,n,i,a){r(this,e),this.ngZone=t,this.elRef=n,this.renderer=i,this.split=a,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.split.addArea(this),this.ngZone.runOutsideAngular((function(){e.transitionListener=e.renderer.listen(e.elRef.nativeElement,"transitionend",(function(t){"flex-basis"===t.propertyName&&e.split.notify("transitionEnd",-1)}))}))}},{key:"setStyleOrder",value:function(e){this.renderer.setStyle(this.elRef.nativeElement,"order",e)}},{key:"setStyleFlex",value:function(e,t,n,i,r){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",e),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",t),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",n),!0===i?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===r?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}},{key:"lockEvents",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.lockListeners.push(e.renderer.listen(e.elRef.nativeElement,"selectstart",(function(e){return!1}))),e.lockListeners.push(e.renderer.listen(e.elRef.nativeElement,"dragstart",(function(e){return!1})))}))}},{key:"unlockEvents",value:function(){for(;this.lockListeners.length>0;){var e=this.lockListeners.pop();e&&e()}}},{key:"ngOnDestroy",value:function(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}},{key:"order",set:function(e){this._order=D(e,null),this.split.updateArea(this,!0,!1)},get:function(){return this._order}},{key:"size",set:function(e){this._size=D(e,null),this.split.updateArea(this,!1,!0)},get:function(){return this._size}},{key:"minSize",set:function(e){this._minSize=D(e,null),this.split.updateArea(this,!1,!0)},get:function(){return this._minSize}},{key:"maxSize",set:function(e){this._maxSize=D(e,null),this.split.updateArea(this,!1,!0)},get:function(){return this._maxSize}},{key:"lockSize",set:function(e){this._lockSize=N(e),this.split.updateArea(this,!1,!0)},get:function(){return this._lockSize}},{key:"visible",set:function(e){this._visible=N(e),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))},get:function(){return this._visible}}]),e}()).\u0275fac=function(e){return new(e||$)(c.Nb(c.z),c.Nb(c.l),c.Nb(c.E),c.Nb(U))},$.\u0275dir=c.Ib({type:$,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),$),q=((j=function(){function e(){r(this,e)}return i(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[]}}},{key:"forChild",value:function(){return{ngModule:e,providers:[]}}}]),e}()).\u0275mod=c.Lb({type:j}),j.\u0275inj=c.Kb({factory:function(e){return new(e||j)},imports:[[l.c]]}),j),Z=a("Pq5H"),J=a("1spV"),W=a("JbzU"),Y=a("l+TO"),X=a("aZpo"),K=a("nIj0"),Q=a("kuMc"),ee=a("duTG"),te=a("ZTwM"),ne=["*"],ie=((L=function e(){r(this,e),this.ok=new c.n,this.cancel=new c.n}).\u0275fac=function(e){return new(e||L)},L.\u0275cmp=c.Hb({type:L,selectors:[["basic-modal"]],hostAttrs:[1,"flex-grow-column"],inputs:{variable:"variable",form:"form"},outputs:{ok:"ok",cancel:"cancel"},ngContentSelectors:ne,decls:17,vars:1,consts:[[1,"ui","top","attached","segment","modal-header",2,"padding","10px !important","display","flex"],[2,"color","whitesmoke","margin","auto"],[2,"font-size","2em","font-weight","bold","min-height","1.4285em","line-height","1.4285em","color","whitesmoke","margin","auto"],["dbPortal","VariableModalHeader-Left"],["left","dbPortal"],[2,"font-size","0.8em","line-height","initial","color","#bbbbbb"],["dbPortal","ModalSubHeader"],[2,"flex-grow","1"],[2,"display","flex","flex-direction","column","justify-content","center"],["dbPortal","VariableModalHeader-Right"],[1,"ui","attached","segment","modal-content"],[1,"ui","bottom","attached","segment","modal-footer",2,"margin-bottom","0px"],["nz-button","","nzType","primary","nzBlock","",2,"margin-right","1px",3,"disabled","click"],["nz-button","","nzType","default","nzBlock","",1,"secondary",2,"margin-left","1px",3,"click"]],template:function(e,t){1&e&&(c.kc(),c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Pb(3,3,4),c.Sb(),c.Tb(5,"div",5),c.Pb(6,6),c.Sb(),c.Sb(),c.Ob(7,"div",7),c.Tb(8,"div",8),c.Pb(9,9),c.Sb(),c.Sb(),c.Tb(10,"div",10),c.jc(11),c.Sb(),c.Tb(12,"div",11),c.Tb(13,"button",12),c.bc("click",(function(){return t.ok.next()})),c.Fc(14,"Save"),c.Sb(),c.Tb(15,"button",13),c.bc("click",(function(){return t.cancel.next()})),c.Fc(16,"Cancel"),c.Sb(),c.Sb()),2&e&&(c.zb(13),c.lc("disabled",!t.form.valid))},directives:[Y.d,ee.a,te.a,J.a],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),L),re=a("PlhU"),ae=a("mybp"),oe=a("Mr8s");function le(e,t){if(1&e&&c.Fc(0),2&e){var n=c.ec();c.Hc(" ",n.form.value.Name," ")}}function se(e,t){if(1&e&&c.Fc(0),2&e){var n=c.ec();c.Hc(" ",n.variable.Parent," ")}}function ce(e,t){1&e&&(c.Tb(0,"div",8),c.Tb(1,"nz-form-item"),c.Ob(2,"input",9),c.Sb(),c.Sb()),2&e&&(c.zb(2),c.lc("dbAllowedCharacters","[a-zA-Z0-9_]"))}function ue(e,t){if(1&e&&(c.Tb(0,"div"),c.Fc(1),c.Sb()),2&e){var n=c.ec();c.zb(1),c.Hc(" ",n.error," ")}}var de,fe=((de=function(){function e(t,n){var i=this;r(this,e),this.fb=t,this.context=n,this.destroy$=new P.a,this.variable=n.data,this.create=!!this.context.metaData.create,this.form=this.fb.group({Name:[null,K.q.required],Content:[]}),this.form.patchValue(this.variable||{}),this.form.get("Name").valueChanges.pipe(Object(Q.a)(this.destroy$)).subscribe((function(e){i.context.invoke("changed",null)}))}return i(e,[{key:"ngOnInit",value:function(){}},{key:"ok",value:function(){var e=this;this.context.invoke("ok",this.form.value).subscribe((function(){e.context.handle.Close()}))}},{key:"cancel",value:function(){this.context.handle.Close()}}]),e}()).\u0275fac=function(e){return new(e||de)(c.Nb(K.e),c.Nb(y.d))},de.\u0275cmp=c.Hb({type:de,selectors:[["ng-component"]],decls:10,vars:5,consts:[[3,"variable","form","ok","cancel"],["nz-form","",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["class","required field",4,"ngIf"],[1,"field",2,"flex-grow","1","display","flex","flex-direction","column"],["nz-input","","formControlName","Content"],[4,"ngIf"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(c.Tb(0,"basic-modal",0),c.bc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),c.Tb(1,"form",1),c.Dc(2,le,1,1,"ng-template",2),c.Dc(3,se,1,1,"ng-template",3),c.Dc(4,ce,3,1,"div",4),c.Tb(5,"div",5),c.Tb(6,"label"),c.Fc(7,"Value"),c.Sb(),c.Ob(8,"input",6),c.Sb(),c.Dc(9,ue,2,1,"div",7),c.Sb(),c.Sb()),2&e&&(c.lc("variable",t.variable)("form",t.form),c.zb(1),c.lc("formGroup",t.form),c.zb(3),c.lc("ngIf",t.create),c.zb(5),c.lc("ngIf",t.error))},directives:[ie,K.r,K.n,re.b,K.h,Y.e,l.o,ae.b,K.d,K.m,K.g,oe.c,re.c,Y.a,Y.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),de),he=a("kZjU"),be=a("ox+w");function pe(e,t){if(1&e&&c.Fc(0),2&e){var n=c.ec();c.Hc(" ",n.form.value.Name," ")}}function me(e,t){if(1&e&&c.Fc(0),2&e){var n=c.ec();c.Hc(" ",n.variable.Parent," ")}}function ge(e,t){1&e&&(c.Tb(0,"div",8),c.Tb(1,"div",9),c.Fc(2," Type: "),c.Sb(),c.Tb(3,"div",10),c.Tb(4,"nz-select",11),c.Ob(5,"nz-option",12),c.Ob(6,"nz-option",13),c.Ob(7,"nz-option",14),c.Ob(8,"nz-option",15),c.Sb(),c.Sb(),c.Sb())}function ve(e,t){1&e&&(c.Tb(0,"div",16),c.Tb(1,"nz-form-item"),c.Ob(2,"input",17),c.Sb(),c.Sb()),2&e&&(c.zb(2),c.lc("dbAllowedCharacters","[a-zA-Z0-9_]"))}var xe,Se=((xe=function(){function e(t,n){r(this,e),this.fb=t,this.context=n,this.variable=n.data,this.create=!!this.context.metaData.create,this.raw=!!this.context.metaData.raw,this.form=this.fb.group({Name:[null,K.q.required],Content:[],Extension:[],Language:[{value:null,disabled:!(this.create||this.raw)}]}),null==this.variable.Content?this.variable.Content="":"object"==typeof this.variable.Content||this.variable.Content instanceof Array?this.variable.Content=JSON.stringify(this.variable.Content):"string"!=typeof this.variable.Content&&(this.variable.Content=""+this.variable.Content),this.form.patchValue(this.variable),this.form.get("Language").patchValue(this.getLanguage(this.variable.Extension))}return i(e,[{key:"ngOnInit",value:function(){}},{key:"ok",value:function(){var e=this;this.context.invoke("ok",this.form.value).subscribe((function(){e.context.handle.Close()}))}},{key:"cancel",value:function(){this.context.handle.Close()}},{key:"getLanguage",value:function(e){return e?e.startsWith(".")?he.d.GetLanguageFromFileExtension(e)||"plaintext":e.toLowerCase():"plaintext"}}]),e}()).\u0275fac=function(e){return new(e||xe)(c.Nb(K.e),c.Nb(y.d))},xe.\u0275cmp=c.Hb({type:xe,selectors:[["ng-component"]],decls:8,vars:5,consts:[[3,"variable","form","ok","cancel"],[1,"ui","form",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["dbPortalTemplate","VariableModalHeader-Right"],["class","required field",4,"ngIf"],[1,"field","flex-grow-column"],["formControlName","Content",3,"language"],[2,"display","flex"],[2,"padding-right","10px","margin","auto"],[2,"width","180px"],["formControlName","Language",2,"width","100%"],["nzLabel","Plaintext","nzValue","plaintext"],["nzLabel","Json","nzValue","json"],["nzLabel","Xml","nzValue","xml"],["nzLabel","Html","nzValue","html"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(c.Tb(0,"basic-modal",0),c.bc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),c.Tb(1,"form",1),c.Dc(2,pe,1,1,"ng-template",2),c.Dc(3,me,1,1,"ng-template",3),c.Dc(4,ge,9,0,"ng-template",4),c.Dc(5,ve,3,1,"div",5),c.Tb(6,"div",6),c.Ob(7,"db-editor",7),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.lc("variable",t.variable)("form",t.form),c.zb(1),c.lc("formGroup",t.form),c.zb(4),c.lc("ngIf",t.create),c.zb(2),c.lc("language",t.form.value.Language))},directives:[ie,K.r,K.n,K.h,Y.e,l.o,he.a,K.m,K.g,be.b,be.a,oe.c,re.c,ae.b,K.d,Y.a,Y.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),xe);function Ce(e,t){if(1&e&&c.Fc(0),2&e){var n=c.ec();c.Hc(" ",n.form.value.Name," ")}}function ye(e,t){if(1&e&&c.Fc(0),2&e){var n=c.ec();c.Hc(" ",n.variable.Parent," ")}}function ze(e,t){1&e&&(c.Tb(0,"div",12),c.Tb(1,"nz-form-item"),c.Ob(2,"input",13),c.Sb(),c.Sb()),2&e&&(c.zb(2),c.lc("dbAllowedCharacters","[a-zA-Z0-9_]"))}var Pe,ke=((Pe=function(){function e(t,n){r(this,e),this.fb=t,this.context=n,this.variable=n.data,this.create=!!this.context.metaData.create,this.form=this.fb.group({Name:[null,K.q.required],Content:this.fb.group({UserName:[],Domain:[],Password:[]})}),this.form.patchValue(this.variable||{})}return i(e,[{key:"ngOnInit",value:function(){}},{key:"ok",value:function(){var e=this;this.context.invoke("ok",this.form.value).subscribe((function(){e.context.handle.Close()}))}},{key:"cancel",value:function(){this.context.handle.Close()}}]),e}()).\u0275fac=function(e){return new(e||Pe)(c.Nb(K.e),c.Nb(y.d))},Pe.\u0275cmp=c.Hb({type:Pe,selectors:[["ng-component"]],decls:21,vars:5,consts:[[3,"variable","form","ok","cancel"],["nz-form","",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["class","required field",4,"ngIf"],["formGroupName","Content"],["nzRequired","","nzFor","Username",3,"nzSpan"],["nz-input","","formControlName","UserName","id","Username",2,"width","100%"],["nzSpan","5","nzFor","Domain"],["nz-input","","formControlName","Domain","id","Domain",2,"width","100%"],["nzSpan","5","nzRequired","","nzFor","Password"],["nz-input","","formControlName","Password","id","Password",2,"width","100%"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(c.Tb(0,"basic-modal",0),c.bc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),c.Tb(1,"form",1),c.Dc(2,Ce,1,1,"ng-template",2),c.Dc(3,ye,1,1,"ng-template",3),c.Dc(4,ze,3,1,"div",4),c.Tb(5,"div",5),c.Tb(6,"nz-form-item"),c.Tb(7,"nz-form-label",6),c.Fc(8,"Username"),c.Sb(),c.Tb(9,"nz-form-control"),c.Ob(10,"input",7),c.Sb(),c.Sb(),c.Tb(11,"nz-form-item"),c.Tb(12,"nz-form-label",8),c.Fc(13,"Domain"),c.Sb(),c.Tb(14,"nz-form-control"),c.Ob(15,"input",9),c.Sb(),c.Sb(),c.Tb(16,"nz-form-item"),c.Tb(17,"nz-form-label",10),c.Fc(18,"Password"),c.Sb(),c.Tb(19,"nz-form-control"),c.Ob(20,"input",11),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.lc("variable",t.variable)("form",t.form),c.zb(1),c.lc("formGroup",t.form),c.zb(3),c.lc("ngIf",t.create),c.zb(3),c.lc("nzSpan",5))},directives:[ie,K.r,K.n,re.b,K.h,Y.e,l.o,K.i,oe.c,re.c,oe.a,re.d,re.a,ae.b,K.d,K.m,K.g,Y.a,Y.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),Pe),Oe=a("rHEU");function Me(e,t){if(1&e&&c.Fc(0),2&e){var n=c.ec();c.Hc(" ",n.form.value.Name," ")}}function Ae(e,t){if(1&e&&c.Fc(0),2&e){var n=c.ec();c.Hc(" ",n.variable.Parent," ")}}function we(e,t){1&e&&(c.Tb(0,"div",7),c.Tb(1,"nz-form-item"),c.Ob(2,"input",8),c.Sb(),c.Sb()),2&e&&(c.zb(2),c.lc("dbAllowedCharacters","[a-zA-Z0-9_]"))}var _e,Te=((_e=function(){function e(t,n){var i=this;r(this,e),this.fb=t,this.context=n,this.destroy$=new P.a,this.variable=n.data,this.create=!!this.context.metaData.create,this.form=this.fb.group({Name:[null,K.q.required],Content:[]}),this.form.patchValue(this.variable||{}),this.form.get("Name").valueChanges.pipe(Object(Q.a)(this.destroy$)).subscribe((function(e){i.context.invoke("changed",null)}))}return i(e,[{key:"ngOnInit",value:function(){}},{key:"ok",value:function(){var e=this;this.context.invoke("ok",this.form.value).subscribe((function(){e.context.handle.Close()}))}},{key:"cancel",value:function(){this.context.handle.Close()}}]),e}()).\u0275fac=function(e){return new(e||_e)(c.Nb(K.e),c.Nb(y.d))},_e.\u0275cmp=c.Hb({type:_e,selectors:[["ng-component"]],decls:9,vars:5,consts:[[3,"variable","form","ok","cancel"],[1,"ui","form",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["class","required field",4,"ngIf"],[1,"field",2,"flex-grow","1","display","flex","flex-direction","column"],["formControlName","Content",2,"width","100%",3,"nzStep"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(c.Tb(0,"basic-modal",0),c.bc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),c.Tb(1,"form",1),c.Dc(2,Me,1,1,"ng-template",2),c.Dc(3,Ae,1,1,"ng-template",3),c.Dc(4,we,3,1,"div",4),c.Tb(5,"div",5),c.Tb(6,"label"),c.Fc(7,"Value"),c.Sb(),c.Ob(8,"nz-input-number",6),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.lc("variable",t.variable)("form",t.form),c.zb(1),c.lc("formGroup",t.form),c.zb(3),c.lc("ngIf",t.create),c.zb(4),c.lc("nzStep",1))},directives:[ie,K.r,K.n,K.h,Y.e,l.o,Oe.a,K.m,K.g,oe.c,re.c,ae.b,K.d,Y.a,Y.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),_e),Fe=a("MaY1");function Ne(e,t){if(1&e&&c.Fc(0),2&e){var n=c.ec();c.Hc(" ",n.form.value.Name," ")}}function De(e,t){if(1&e&&c.Fc(0),2&e){var n=c.ec();c.Hc(" ",n.variable.Parent," ")}}function Ee(e,t){1&e&&(c.Tb(0,"div",7),c.Tb(1,"nz-form-item"),c.Ob(2,"input",8),c.Sb(),c.Sb()),2&e&&(c.zb(2),c.lc("dbAllowedCharacters","[a-zA-Z0-9_]"))}var Ie,Ve,Re=((Ve=function(){function e(t,n){var i=this;r(this,e),this.fb=t,this.context=n,this.destroy$=new P.a,this.variable=n.data,this.create=!!this.context.metaData.create,this.form=this.fb.group({Name:[null,K.q.required],Content:[]}),this.form.patchValue(this.variable||{}),this.form.get("Name").valueChanges.pipe(Object(Q.a)(this.destroy$)).subscribe((function(e){i.context.invoke("changed",null)}))}return i(e,[{key:"ngOnInit",value:function(){}},{key:"ok",value:function(){var e=this;this.context.invoke("ok",this.form.value).subscribe((function(){e.context.handle.Close()}))}},{key:"cancel",value:function(){this.context.handle.Close()}}]),e}()).\u0275fac=function(e){return new(e||Ve)(c.Nb(K.e),c.Nb(y.d))},Ve.\u0275cmp=c.Hb({type:Ve,selectors:[["ng-component"]],decls:8,vars:5,consts:[[3,"variable","form","ok","cancel"],[1,"ui","form",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["class","required field",4,"ngIf"],[1,"field"],["nz-checkbox","","formControlName","Content"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(c.Tb(0,"basic-modal",0),c.bc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),c.Tb(1,"form",1),c.Dc(2,Ne,1,1,"ng-template",2),c.Dc(3,De,1,1,"ng-template",3),c.Dc(4,Ee,3,1,"div",4),c.Tb(5,"div",5),c.Tb(6,"label",6),c.Fc(7),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.lc("variable",t.variable)("form",t.form),c.zb(1),c.lc("formGroup",t.form),c.zb(3),c.lc("ngIf",t.create),c.zb(3),c.Hc("Value: ",t.form.value.Content||!1,""))},directives:[ie,K.r,K.n,K.h,Y.e,l.o,Fe.a,K.m,K.g,oe.c,re.c,ae.b,K.d,Y.a,Y.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),Ve),Ge=((Ie=function(){function e(t,n){r(this,e),this.modal=t,this.componentFactoryResolver=n,this.AvailabeModalTypes=[{type:Se,overlayConfig:{width:"80%",height:"90%"}}],this.ExtensionMapping={raw:Se,string:fe,number:Te,boolean:Re,json:Se,credential:ke}}return i(e,[{key:"GetModal",value:function(e){var t=this.ExtensionMapping[e]||this.ExtensionMapping.raw,n=this.AvailabeModalTypes.find((function(e){return e.type===t}))||{type:t,overlayConfig:{width:"50%",maxWidth:"500px"}};return this.modal.FromComponent(n.type).SetModalOptions({componentFactoryResolver:this.componentFactoryResolver,overlayConfig:n.overlayConfig}).CloseOnOutsideClick()}}]),e}()).\u0275fac=function(e){return new(e||Ie)(c.Xb(y.b),c.Xb(c.j))},Ie.\u0275prov=c.Jb({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie),je=a("4e/d"),$e=a("W6oE"),He=a("XS/p"),Le=a("2rm1"),Ue=["itemsContextMenu"],Be=["viewportContextMenu"];function qe(e,t){if(1&e&&(c.Tb(0,"div",11),c.Fc(1),c.Sb()),2&e){var n=c.ec().$implicit;c.zb(1),c.Hc(" ",n.First.Name," ")}}function Ze(e,t){if(1&e){var n=c.Ub();c.Tb(0,"li",9),c.bc("click",(function(){c.vc(n);var e=c.ec().$implicit;return c.ec().OpenEditVariableModal(e.First)})),c.Ob(1,"db-icon",12),c.Fc(2," Edit "),c.Sb()}}function Je(e,t){if(1&e){var n=c.Ub();c.Tb(0,"li",9),c.bc("click",(function(){c.vc(n);var e=c.ec().$implicit;return c.ec().RemoveVariable(e.SelectedData)})),c.Ob(1,"db-icon",13),c.Fc(2," Delete "),c.Sb()}}function We(e,t){1&e&&c.Ob(0,"li",6)}function Ye(e,t){if(1&e){var n=c.Ub();c.Tb(0,"li",9),c.bc("click",(function(){c.vc(n);var e=c.ec().$implicit;return c.ec().OpenEditVariableModal(e.First,!0)})),c.Fc(1," Edit Raw "),c.Sb()}}function Xe(e,t){if(1&e){var n=c.Ub();c.Tb(0,"ul",3),c.Dc(1,qe,2,1,"div",4),c.Dc(2,Ze,3,0,"li",5),c.Dc(3,Je,3,0,"li",5),c.Ob(4,"li",6),c.Tb(5,"li",7),c.Tb(6,"ul",8),c.Tb(7,"li",9),c.bc("click",(function(){return c.vc(n),c.ec().createVariable("string")})),c.Fc(8,"String"),c.Sb(),c.Tb(9,"li",9),c.bc("click",(function(){return c.vc(n),c.ec().createVariable("number")})),c.Fc(10,"Number"),c.Sb(),c.Tb(11,"li",9),c.bc("click",(function(){return c.vc(n),c.ec().createVariable("boolean")})),c.Fc(12,"Boolean"),c.Sb(),c.Tb(13,"li",9),c.bc("click",(function(){return c.vc(n),c.ec().createVariable("credential")})),c.Fc(14,"Credential"),c.Sb(),c.Tb(15,"li",9),c.bc("click",(function(){return c.vc(n),c.ec().createVariable("raw")})),c.Fc(16,"Raw"),c.Sb(),c.Sb(),c.Sb(),c.Dc(17,We,1,0,"li",10),c.Dc(18,Ye,2,0,"li",5),c.Sb()}if(2&e){var i=t.$implicit;c.zb(1),c.lc("ngIf",i.Single),c.zb(1),c.lc("ngIf",i.Single),c.zb(1),c.lc("ngIf",i.Any),c.zb(14),c.lc("ngIf",i.Single&&i.IsShiftPressed),c.zb(1),c.lc("ngIf",i.Single&&i.IsShiftPressed)}}function Ke(e,t){if(1&e){var n=c.Ub();c.Tb(0,"ul",3),c.Tb(1,"li",7),c.Tb(2,"ul",8),c.Tb(3,"li",9),c.bc("click",(function(){return c.vc(n),c.ec().createVariable("string")})),c.Fc(4,"String"),c.Sb(),c.Tb(5,"li",9),c.bc("click",(function(){return c.vc(n),c.ec().createVariable("number")})),c.Fc(6,"Number"),c.Sb(),c.Tb(7,"li",9),c.bc("click",(function(){return c.vc(n),c.ec().createVariable("boolean")})),c.Fc(8,"Boolean"),c.Sb(),c.Tb(9,"li",9),c.bc("click",(function(){return c.vc(n),c.ec().createVariable("credential")})),c.Fc(10,"Credential"),c.Sb(),c.Tb(11,"li",9),c.bc("click",(function(){return c.vc(n),c.ec().createVariable("raw")})),c.Fc(12,"Raw"),c.Sb(),c.Sb(),c.Sb(),c.Sb()}}var Qe,et=((Qe=function(){function e(t,n,i,a){var o=this;r(this,e),this.overlay=t,this.viewContainerRef=n,this.variables=i,this.modalService=a,this.grid=(new X.d).SetColumns((function(e){return e.Default("Name")}),(function(e){return e.Default("Extension").SetHeader("Type").SetValueFormatter((function(e){return e.value})).SetMinWidth(120).SetMaxWidth(120)}),(function(e){return e.Date("CreatedAt",!0).SetMinWidth(140).SetMaxWidth(140)}),(function(e){return e.Date("UpdatedAt",!0).SetMinWidth(140).SetMaxWidth(140)})).SetGridOptions({rowSelection:"multiple",colResizeDefault:"shift"}).OnCellContextMenu((function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.api.selectNode(e.node);var n=new tt(e.api,e.event);o.contextMenu=o.overlay.OpenContextMenu(e.event,o.itemsContextMenu,o.viewContainerRef,n)})).OnViewPortContextMenu((function(e,t){o.contextMenu=o.overlay.OpenContextMenu(e,o.viewportContextMenu,o.viewContainerRef,{})})).OnRowDoubleClicked((function(e){o.OpenEditVariableModal(e.data)})).OnGridSizeChange((function(e){return e.api.sizeColumnsToFit()}))}return i(e,[{key:"OpenEditVariableModal",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.variables.GetVariable(e.Parent,e.Name).subscribe((function(i){t.modalService.GetModal(n?"raw":i.Extension).SetData(i).SetMetaData({raw:n}).AddEventHandler("ok",(function(r){var a=r.payload.Content;if(n)switch(e.Extension){case"credential":a=JSON.parse(a)}return t.variables.UpdateVariableContent(i.Parent,i.Name,a).pipe(Object(je.a)((function(e){throw e})))})).Open()}))}},{key:"createVariable",value:function(e){var t,n=this,i=new S;i.Parent=this.Path,this.modalService.GetModal(e).SetData(i).SetMetaData({create:!0}).OnClose((function(){n.nameAlreadyExistsErrorToast=null})).AddEventHandler("ok",(function(t){var i=t.payload;return i.Parent=n.Path,i.Extension?i.Extension.startsWith(".")||(i.Extension=he.d.GetDefaultFileExtension(i.Extension)):i.Extension=e,n.variables.CreateVariable(i).pipe(Object(je.a)((function(e){throw e})))})).Open(),null===(t=this.contextMenu)||void 0===t||t.Close()}},{key:"RemoveVariable",value:function(e){var t=this;e.forEach((function(e){t.variables.RemoveVariable(e.Parent,e.Name).subscribe()})),this.contextMenu.Close()}},{key:"Items",set:function(e){var t;null===(t=this.grid)||void 0===t||t.SetData(e)}}]),e}()).\u0275fac=function(e){return new(e||Qe)(c.Nb(y.c),c.Nb(c.P),c.Nb(C),c.Nb(Ge))},Qe.\u0275cmp=c.Hb({type:Qe,selectors:[["variables-folder-content"]],viewQuery:function(e,t){var n;1&e&&(c.Jc(Ue,!0),c.Jc(Be,!0)),2&e&&(c.sc(n=c.cc())&&(t.itemsContextMenu=n.first),c.sc(n=c.cc())&&(t.viewportContextMenu=n.first))},hostAttrs:[1,""],inputs:{Items:"Items",Path:"Path"},features:[c.yb([Ge])],decls:5,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["viewportContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["class","context-menu-header",4,"ngIf"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-divider",""],["nz-submenu","","nzTitle","New Variable","nzIcon","field-binary"],[1,"context-menu"],["nz-menu-item","",3,"click"],["nz-menu-divider","",4,"ngIf"],[1,"context-menu-header"],["icon","edit"],["icon","delete"]],template:function(e,t){1&e&&(c.Ob(0,"ag-grid-angular",0),c.Dc(1,Xe,19,5,"ng-template",null,1,c.Ec),c.Dc(3,Ke,13,0,"ng-template",null,2,c.Ec)),2&e&&c.lc("dbGrid",t.grid)},directives:[$e.a,X.b,He.c,l.o,He.d,J.a,He.g,He.e,Le.c],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1}"]}),Qe),tt=function(){function e(t,n){r(this,e),this.mEvent=n,this.SelectedData=t.getSelectedNodes().map((function(e){return e.data}))}return i(e,[{key:"SelectedCount",get:function(){return this.SelectedData.length}},{key:"Any",get:function(){return this.SelectedCount>0}},{key:"Single",get:function(){return 1===this.SelectedCount}},{key:"First",get:function(){return this.SelectedCount>0?this.SelectedData[0]:null}},{key:"IsShiftPressed",get:function(){return this.mEvent.shiftKey}}]),e}(),nt=["tree"],it=["folderContextMenu"],rt=function(){return["fas","angle-right"]};function at(e,t){1&e&&c.Ob(0,"fa-icon",21),2&e&&c.lc("icon",c.nc(1,rt))}var ot=function(){return["fas","angle-down"]};function lt(e,t){1&e&&c.Ob(0,"fa-icon",21),2&e&&c.lc("icon",c.nc(1,ot))}function st(e,t){if(1&e){var n=c.Ub();c.Tb(0,"div",19),c.bc("click",(function(e){c.vc(n);var t=c.ec().$implicit;return c.ec().clickFolderExpander(t,e)})),c.Dc(1,at,1,2,"fa-icon",20),c.Dc(2,lt,1,2,"fa-icon",20),c.Sb()}if(2&e){var i=c.ec().$implicit;c.zb(1),c.lc("ngIf",!i.isExpanded),c.zb(1),c.lc("ngIf",i.isExpanded)}}function ct(e,t){1&e&&c.Ob(0,"div",22)}function ut(e,t){if(1&e){var n=c.Ub();c.Tb(0,"div",23),c.Tb(1,"input",24,25),c.bc("keydown.enter",(function(e){c.vc(n);var t=c.tc(2),i=c.ec().$implicit;return c.ec().saveName(i,t,e)}))("keydown.escape",(function(e){c.vc(n);var t=c.ec().$implicit;return c.ec().cancelCreateOrRenameFolder(t,e)}))("focus",(function(e){c.vc(n);var t=c.ec().$implicit;return c.ec().SelectIfCreateFolder(t,e)})),c.Sb(),c.Sb()}if(2&e){var i=c.ec().$implicit;c.zb(1),c.lc("value",i.data.Name)("dbAllowedCharacters","[a-zA-Z0-9_]")}}function dt(e,t){if(1&e&&(c.Ob(0,"tree-node-content",26),c.fc(1,"async")),2&e){var n,i=c.ec(),r=i.$implicit,a=i.index,o=c.ec();c.Fb("selected",(null==(n=c.gc(1,4,o.variablesService.SelectedFolder$))?null:n.Path)==r.data.Path),c.lc("node",r)("index",a)}}function ft(e,t){if(1&e){var n=c.Ub();c.Tb(0,"div",12),c.bc("click",(function(e){return c.vc(n),t.$implicit.mouseAction("click",e)}))("contextmenu",(function(e){return c.vc(n),t.$implicit.mouseAction("contextMenu",e)})),c.fc(1,"async"),c.Tb(2,"div",13),c.Dc(3,st,3,2,"div",14),c.Dc(4,ct,1,0,"div",15),c.Tb(5,"div",16),c.bc("dblclick",(function(e){return c.vc(n),t.$implicit.mouseAction("dblClick",e)}))("contextmenu",(function(e){return c.vc(n),t.$implicit.mouseAction("contextMenu",e)}))("treeDrop",(function(e){return c.vc(n),t.$implicit.onDrop(e)})),c.Dc(6,ut,3,2,"div",17),c.Dc(7,dt,2,6,"tree-node-content",18),c.Sb(),c.Sb(),c.Sb()}if(2&e){var i,r=t.$implicit,a=c.ec();c.Bc("padding-left",r.getNodePadding()),c.Fb("selected",(null==(i=c.gc(1,15,a.variablesService.SelectedFolder$))?null:i.Path)==r.data.Path),c.zb(3),c.lc("ngIf",r.hasChildren),c.zb(1),c.lc("ngIf",!r.hasChildren),c.zb(1),c.Fb("node-content-wrapper-active",r.isActive)("node-content-wrapper-focused",r.isFocused),c.lc("treeAllowDrop",r.allowDrop)("treeDrag",r)("treeDragEnabled",r.allowDrag()),c.zb(1),c.lc("ngIf",r.data.edit),c.zb(1),c.lc("ngIf",!r.data.edit)}}function ht(e,t){if(1&e&&(c.Ob(0,"variables-folder-content",27),c.fc(1,"async")),2&e){var n=t.$implicit,i=c.ec();c.lc("Items",c.gc(1,2,i.ItemsInPath$))("Path",n)}}function bt(e,t){1&e&&(c.Tb(0,"div",28),c.Fc(1," No Variables found in folder... "),c.Sb())}function pt(e,t){if(1&e){var n=c.Ub();c.Tb(0,"li",31),c.bc("click",(function(){c.vc(n);var e=c.ec().$implicit;return c.ec().RenameFolder(e.Node)})),c.Ob(1,"db-icon",34),c.Fc(2," Rename Folder "),c.Sb()}}function mt(e,t){if(1&e){var n=c.Ub();c.Tb(0,"li",31),c.bc("click",(function(){c.vc(n);var e=c.ec().$implicit;return c.ec().DeleteDirectory(e.Folder)})),c.Ob(1,"db-icon",35),c.Fc(2," Delete Folder "),c.Sb()}}function gt(e,t){if(1&e){var n=c.Ub();c.Tb(0,"ul",29),c.Tb(1,"div",30),c.Fc(2),c.Sb(),c.Tb(3,"li",31),c.bc("click",(function(){c.vc(n);var e=t.$implicit;return c.ec().CreateSubFolder(e.Node)})),c.Ob(4,"db-icon",32),c.Rb(5),c.Fc(6,"New Folder"),c.Qb(),c.Sb(),c.Dc(7,pt,3,0,"li",33),c.Dc(8,mt,3,0,"li",33),c.Sb()}if(2&e){var i=t.$implicit;c.zb(2),c.Hc(" ",(null==i.Folder?null:i.Folder.Name)||"/"," "),c.zb(5),c.lc("ngIf",i.Folder),c.zb(1),c.lc("ngIf",i.Folder)}}var vt,xt,St,Ct,yt,zt=function(){return[]},Pt=((vt=function(){function t(e,n,i,a,o,l){var s=this;r(this,t),this.ui=e,this.viewContainerRef=n,this.variablesService=i,this.cref=a,this.overlay=o,this.nzContextMenuService=l,this.nodes$=this.variablesService.rootNode$.pipe(Object(d.a)((function(e){return e.Children}))),this.ItemsInPath$=this.variablesService.SelectedFolderItems$,this.SelectedFolderPath$=this.variablesService.SelectedFolder$.pipe(Object(f.a)((function(e){return!!e})),Object(d.a)((function(e){return e.Path}))),this.actionMapping={mouse:{click:function(e,t,n){s.variablesService.SetSelectedFolder(t.data),s.variablesService.GetVariablesInSelectedFolder().subscribe()},dblClick:function(e,t,n){h.a.TOGGLE_EXPANDED(e,t,n)},contextMenu:function(e,t,n){n.preventDefault(),n.stopPropagation(),s.variablesService.SetSelectedFolder(t.data),s.openFolderContextMenu(n,t)}}},this.options={idField:"Path",displayField:"Name",childrenField:"Children",actionMapping:this.actionMapping,levelPadding:10}}return i(t,[{key:"NormalizeTreeNode",value:function(e){var t=this,n=Object.assign(Object.assign({},e),{key:e.Path,title:e.Name,children:null});return e.Children?n.children=e.Children.map((function(e){return t.NormalizeTreeNode(e)})):n.isLeaf=!0,n}},{key:"clickTreeNode",value:function(e){console.log(e),this.variablesService.SetSelectedFolder(e.node.origin),this.variablesService.GetVariablesInSelectedFolder().subscribe()}},{key:"openFolderContextMenu",value:function(e,t){var n;null===(n=this.FolderContextMenu)||void 0===n||n.Close(),this.FolderContextMenu=this.overlay.OpenContextMenu(e,this.folderContextMenu,this.viewContainerRef,this.BuildContext(t))}},{key:"BuildContext",value:function(e){return{Node:e,Folder:null==e?void 0:e.data}}},{key:"clickFolderExpander",value:function(e,t){t.stopPropagation(),t.preventDefault(),this.CloseContextMenu(),e.toggleExpanded()}},{key:"CloseContextMenu",value:function(){var e;null===(e=this.FolderContextMenu)||void 0===e||e.Close()}},{key:"CreateSubFolder",value:function(t){var n=new b;n.Name="NewFolder",n.edit="create",t?(t.data.Children||(t.children=[],t.data.Children=[]),t.data.Children=[n].concat(e(t.data.Children))):this.tree.treeModel.nodes=[n].concat(e(this.tree.treeModel.nodes)),this.tree.treeModel.update(),this.CloseContextMenu(),this.cref.detectChanges(),t&&this.tree.treeModel.getNodeById(t.id).expand()}},{key:"saveName",value:function(e,t,n){var i,r;if(t.value){switch(e.data.edit){case"create":e.data.Name=t.value,this.variablesService.NewFolder("".concat((null===(i=e.realParent)||void 0===i?void 0:i.data.Parent)||"","/").concat((null===(r=e.realParent)||void 0===r?void 0:r.data.Name)||""),e.data.Name).subscribe();break;case"rename":console.log(e.data.Parent,e.data.Name,t.value),this.variablesService.RenameFolder(e.data.Parent,e.data.Name,t.value).subscribe(),e.data.Name=t.value,e.data.edit=null}e.data.edit=null,this.cref.detectChanges()}}},{key:"cancelCreateOrRenameFolder",value:function(e,t){switch(e.data.edit){case"create":e.realParent?e.realParent.data.Children=e.realParent.data.Children.filter((function(t){return t.Path!=e.data.Path})):this.tree.treeModel.nodes=this.tree.treeModel.nodes.filter((function(t){return t.Path!=e.data.Path})),this.tree.treeModel.update()}e.data.edit=null,this.cref.detectChanges()}},{key:"RenameFolder",value:function(e){e.data.edit="rename",this.CloseContextMenu(),this.cref.detectChanges()}},{key:"DeleteDirectory",value:function(e){this.variablesService.RemoveFolder(e.Parent,e.Name).subscribe(),this.CloseContextMenu()}},{key:"SelectIfCreateFolder",value:function(e,t){"create"===e.data.edit&&t.target.select(),e.parent.expand()}},{key:"contextMenu",value:function(e,t){this.nzContextMenuService.create(e,t)}},{key:"closeMenu",value:function(){this.nzContextMenuService.close()}},{key:"nzEvent",value:function(e){console.log(e)}},{key:"FolderTreeState",get:function(){return this.variablesService.FolderTreeState},set:function(e){this.variablesService.FolderTreeState=e}}]),t}()).\u0275fac=function(e){return new(e||vt)(c.Nb(u.a),c.Nb(c.P),c.Nb(C),c.Nb(c.h),c.Nb(y.c),c.Nb(z.a))},vt.\u0275cmp=c.Hb({type:vt,selectors:[["global-variables-explorer"]],viewQuery:function(e,t){var n;1&e&&(c.Jc(nt,!0),c.Jc(it,!0)),2&e&&(c.sc(n=c.cc())&&(t.tree=n.first),c.sc(n=c.cc())&&(t.folderContextMenu=n.first))},decls:19,vars:12,consts:[[2,"flex-grow","1"],["direction","horizontal","unit","pixel","gutterSize","5"],["minSize","200","size","200",2,"display","flex","flex-direction","column","flex-grow","1","overflow","hidden","background-color","#d6d6d6"],[2,"display","flex","flex-direction","column","flex-grow","1","overflow","hidden"],[2,"flex-grow","1","overflow","hidden",3,"state","nodes","options","stateChange","contextmenu"],["tree",""],["treeNodeWrapperTemplate",""],["size","*",2,"display","flex","flex-direction","column","flex-grow","1","overflow","hidden","padding","4px 4px 4px 0px"],[2,"background-color","#292f3b","color","white","font-weight","bold","font-size","1.2rem","line-height","2rem","padding-left","14px"],[3,"Items","Path",4,"ngIf"],["empty",""],["folderContextMenu",""],["xaStopClickPropagation","",1,"node-wrapper",3,"click","contextmenu"],[2,"display","flex","flex-direction","row","padding-left","5px"],["class","expander-area","style","width: 20px; padding-left: 6px;",3,"click",4,"ngIf"],["style","width: 20px; padding-left: 6px;",4,"ngIf"],[1,"node-content-wrapper",3,"treeAllowDrop","treeDrag","treeDragEnabled","dblclick","contextmenu","treeDrop"],["class","ui input",4,"ngIf"],[3,"selected","node","index",4,"ngIf"],[1,"expander-area",2,"width","20px","padding-left","6px",3,"click"],["nz-icon","","style","margin-top:6px; width: 8px;",3,"icon",4,"ngIf"],["nz-icon","",2,"margin-top","6px","width","8px",3,"icon"],[2,"width","20px","padding-left","6px"],[1,"ui","input"],[2,"width","95%","padding","2px 5px",3,"value","dbSetFocus","dbAllowedCharacters","keydown.enter","keydown.escape","focus"],["nameinput",""],[3,"node","index"],[3,"Items","Path"],[1,"ui","header",2,"margin","auto","margin-top","10%","color","#969696"],["nz-menu","","nzMode","vertical",1,"context-menu"],[1,"context-menu-header"],["nz-menu-item","",3,"click"],["icon","folder"],["nz-menu-item","",3,"click",4,"ngIf"],["icon","edit"],["icon","delete"]],template:function(e,t){1&e&&(c.Tb(0,"div",0),c.Tb(1,"as-split",1),c.Tb(2,"as-split-area",2),c.Tb(3,"div",3),c.Tb(4,"tree-root",4,5),c.bc("stateChange",(function(e){return t.FolderTreeState=e}))("contextmenu",(function(e){return t.openFolderContextMenu(e)})),c.fc(6,"async"),c.Dc(7,ft,8,17,"ng-template",null,6,c.Ec),c.Sb(),c.Sb(),c.Sb(),c.Tb(9,"as-split-area",7),c.Tb(10,"div",8),c.Fc(11),c.fc(12,"async"),c.Sb(),c.Dc(13,ht,2,4,"variables-folder-content",9),c.fc(14,"async"),c.Sb(),c.Sb(),c.Sb(),c.Dc(15,bt,2,0,"ng-template",null,10,c.Ec),c.Dc(17,gt,9,3,"ng-template",null,11,c.Ec)),2&e&&(c.zb(4),c.lc("state",t.FolderTreeState)("nodes",c.gc(6,5,t.nodes$)||c.nc(11,zt))("options",t.options),c.zb(7),c.Hc(" ",c.gc(12,7,t.SelectedFolderPath$),""),c.zb(2),c.lc("ngIf",c.gc(14,9,t.SelectedFolderPath$)))},directives:[U,B,h.b,l.o,h.c,h.d,Z.b,J.a,W.a,Y.a,Y.c,h.f,et,He.c,He.e,Le.c],pipes:[l.b],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex;overflow:hidden}.node-content-wrapper[_ngcontent-%COMP%]{padding-left:0}.node-content-wrapper-active[_ngcontent-%COMP%], .node-content-wrapper-focused[_ngcontent-%COMP%], .node-content-wrapper[_ngcontent-%COMP%]:hover{box-shadow:none}.node-content-wrapper[_ngcontent-%COMP%]:hover{background:none}tree-node-content.selected[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 1px #fff}.node-wrapper[_ngcontent-%COMP%]{padding:.3em}.node-wrapper[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.node-wrapper.selected[_ngcontent-%COMP%]{background-color:#525e76;color:#fff}.node-wrapper.selected[_ngcontent-%COMP%]:hover{background-color:rgba(82,94,118,.8313725490196079);color:#fff}.expander-area[_ngcontent-%COMP%]:hover   .ng-fa-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px #525e76)}.node-wrapper.selected[_ngcontent-%COMP%]   .expander-area[_ngcontent-%COMP%]:hover   .ng-fa-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px white)}.folder-context[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:0!important}"],changeDetection:0}),vt),kt=[{path:"",component:(xt=function e(t){r(this,e),this.uiService=t,t.Set((function(e){e.Header.Title="Global Variables",e.Content.Scrollable=!1,e.Content.Container=!1,e.Header.Icon="folder"}))},xt.\u0275fac=function(e){return new(e||xt)(c.Nb(u.a))},xt.\u0275cmp=c.Hb({type:xt,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&c.Ob(0,"global-variables-explorer")},directives:[Pt],styles:[""]}),xt)}],Ot=((Ct=function e(){r(this,e)}).\u0275mod=c.Lb({type:Ct}),Ct.\u0275inj=c.Kb({factory:function(e){return new(e||Ct)},imports:[[s.l.forChild(kt)],s.l]}),Ct),Mt=((St=function e(){r(this,e)}).\u0275mod=c.Lb({type:St}),St.\u0275inj=c.Kb({factory:function(e){return new(e||St)},imports:[[l.c,K.p,y.a,he.c,Y.b,re.e,ae.e,ee.c,Oe.b,Fe.b,be.c]]}),St),At=a("YPwk"),wt=((yt=function e(){r(this,e)}).\u0275mod=c.Lb({type:yt}),yt.\u0275inj=c.Kb({factory:function(e){return new(e||yt)},imports:[[l.c,K.p,Ot,h.e,q,Y.b,y.a,X.c,Z.d,Mt,At.a]]}),yt)}}])}();
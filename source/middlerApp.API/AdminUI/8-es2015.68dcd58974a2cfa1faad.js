(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"9aLq":function(e,t,n){"use strict";n.r(t),n.d(t,"IDPModule",function(){return Ci});var i=n("ofXK"),o=n("3Pt+"),s=n("tyNb"),r=n("ycP/"),c=n("lJxs"),a=n("2Vo4"),l=n("XNiG"),d=n("1G5W"),b=n("fXoL"),u=n("h0m+"),h=n("ocnv"),p=n("B+r4"),m=n("PTRe"),f=n("TaO5"),g=n("OzZK"),C=n("RwU8"),v=n("C2AL");let z=(()=>{class e{constructor(e,t){this.fb=e,this.context=t,this.clearPassword$=new a.a(!1),this.destroy$=new l.a,this.form=this.fb.group({Password:[null,o.q.required],ConfirmPassword:[null,o.q.required],ClearPassword:[null]},{validator:this.checkPasswords})}ngOnInit(){this.form.get("ClearPassword").valueChanges.pipe(Object(d.a)(this.destroy$)).subscribe(e=>{this.form.patchValue({Password:null,ConfirmPassword:null}),e?(this.form.get("Password").disable(),this.form.get("ConfirmPassword").disable()):(this.form.get("Password").enable(),this.form.get("ConfirmPassword").enable())})}ngOnDestroy(){this.destroy$.next()}ok(){this.form.value.ClearPassword?this.ClearPassword():this.SetPassword({Password:this.form.value.Password,ConfirmPassword:this.form.value.ConfirmPassword})}SetPassword(e){this.context.invoke("SetPassword",e).subscribe(()=>{this.context.handle.Close()})}ClearPassword(){this.context.invoke("ClearPassword",null).subscribe(()=>{this.context.handle.Close()})}cancel(){this.context.handle.Close()}checkPasswords(e){return e.get("Password").value===e.get("ConfirmPassword").value?null:{notSame:!0}}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(o.e),b.Pb(u.d))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],decls:22,vars:2,consts:[[1,"ui","top","attached","segment","modal-header",2,"padding","10px !important","display","flex"],[2,"color","whitesmoke","margin","auto"],[2,"font-size","2em","font-weight","bold","min-height","1.4285em","line-height","1.4285em","color","whitesmoke","margin","auto"],[2,"font-size","0.8em","line-height","initial","color","#bbbbbb"],[2,"flex-grow","1"],[2,"display","flex","flex-direction","column","justify-content","center"],[1,"ui","attached","segment","modal-content"],["nz-form","",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["nz-input","","formControlName","Password","placeholder","Password",2,"width","100%"],["nz-input","","formControlName","ConfirmPassword","placeholder","Confirm Password",2,"width","100%"],["nz-checkbox","","formControlName","ClearPassword"],[1,"ui","bottom","attached","segment","modal-footer",2,"margin-bottom","0px"],["nz-button","","nzType","primary","nzBlock","",2,"margin-right","1px",3,"disabled","click"],["nz-button","","nzType","default","nzBlock","",1,"secondary",2,"margin-left","1px",3,"click"]],template:function(e,t){1&e&&(b.Vb(0,"div",0),b.Vb(1,"div",1),b.Vb(2,"div",2),b.Hc(3," Set Password "),b.Ub(),b.Qb(4,"div",3),b.Ub(),b.Qb(5,"div",4),b.Qb(6,"div",5),b.Ub(),b.Vb(7,"div",6),b.Vb(8,"form",7),b.Vb(9,"nz-form-item"),b.Vb(10,"nz-form-control"),b.Qb(11,"input",8),b.Ub(),b.Ub(),b.Vb(12,"nz-form-item"),b.Vb(13,"nz-form-control"),b.Qb(14,"input",9),b.Ub(),b.Ub(),b.Vb(15,"label",10),b.Hc(16," Clear Password "),b.Ub(),b.Ub(),b.Ub(),b.Vb(17,"div",11),b.Vb(18,"button",12),b.dc("click",function(){return t.ok()}),b.Hc(19,"Save"),b.Ub(),b.Vb(20,"button",13),b.dc("click",function(){return t.cancel()}),b.Hc(21,"Cancel"),b.Ub(),b.Ub()),2&e&&(b.Bb(8),b.nc("formGroup",t.form),b.Bb(10),b.nc("disabled",!t.form.valid))},directives:[o.r,o.n,h.b,o.h,p.c,h.c,p.a,h.a,m.b,o.d,o.m,o.g,f.a,g.a,C.a,v.a],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}.secretCalendar[_ngcontent-%COMP%]  .ant-picker-calendar-mode-switch{display:none}"]}),e})();var S=n("mElL"),y=n("tk/3"),x=n("vkgz"),U=n("mrSG"),w=n("4ZtF");let V=(()=>{let e=class extends w.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(U.a)([Object(w.e)({name:"identity-roles",idKey:"Id"})],e),e})(),R=(()=>{class e extends w.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(b.Zb(V))},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),P=(()=>{let e=class extends w.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(U.a)([Object(w.e)({name:"identity-users",idKey:"Id"})],e),e})(),O=(()=>{class e extends w.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(b.Zb(P))},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),A=(()=>{let e=class extends w.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(U.a)([Object(w.e)({name:"identity-clients",idKey:"Id"})],e),e})(),I=(()=>{class e extends w.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(b.Zb(A))},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),M=(()=>{let e=class extends w.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(U.a)([Object(w.e)({name:"identity-api-resources",idKey:"Id"})],e),e})(),D=(()=>{class e extends w.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(b.Zb(M))},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),k=(()=>{let e=class extends w.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(U.a)([Object(w.e)({name:"identity-api-scopes",idKey:"Id"})],e),e})(),T=(()=>{class e extends w.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(b.Zb(k))},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),H=(()=>{let e=class extends w.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(U.a)([Object(w.e)({name:"identity-resources",idKey:"Id"})],e),e})(),B=(()=>{class e extends w.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(b.Zb(H))},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),F=(()=>{let e=class extends w.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(U.a)([Object(w.e)({name:"authentication-providers",idKey:"Id"})],e),e})(),N=(()=>{class e extends w.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(b.Zb(F))},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Q=n("LgUO");let G=(()=>{class e{constructor(e,t,n,i,o,s,r,c,a,l,d,b,u,h,p,m,f){this.identityRolesStore=e,this.identityRolesQuery=t,this.identityUsersStore=n,this.identityUsersQuery=i,this.identityClientsStore=o,this.identityClientsQuery=s,this.identityApiResourcesStore=r,this.identityApiResourcesQuery=c,this.identityApiScopesStore=a,this.identityApiScopesQuery=l,this.identityResourcesStore=d,this.identityResourcesQuery=b,this.authenticationProvidersStore=u,this.authenticationProvidersQuery=h,this.http=p,this.message=m,this.auth=f,this.message.RunOnEveryReconnect(()=>{this.SubscribeToAll()}),this.SubscribeToAll()}SubscribeToAll(){this.SubscribeUserEvents(),this.SubscribeRoleEvents(),this.SubscribeClientsEvents(),this.SubscribeApiResourcesEvents(),this.SubscribeIdentityResourcesEvents()}getHeaders(){return new y.e({Authorization:"Bearer "+this.auth.getAccessToken()})}SubscribeUserEvents(){this.message.Stream("IDPUsers.Subscribe").pipe(Object(x.a)(e=>{switch(console.log(e),e.Action){case"Created":this.identityUsersStore.add(e.Payload);break;case"Updated":this.identityUsersStore.update(e.Payload.Id,t=>e.Payload);break;case"Deleted":this.identityUsersStore.update(e.Payload,e=>Object.assign(Object.assign({},e),{Deleted:!0}))}})).subscribe()}ReLoadUsers(){this.http.get("api/idp/users",{headers:this.getHeaders()}).pipe(Object(x.a)(e=>this.identityUsersStore.set(e))).subscribe()}GetAllUsers(e){return!e&&this.identityUsersQuery.getHasCache()||this.ReLoadUsers(),this.identityUsersQuery.selectAll()}GetUser(e){return this.http.get(`api/idp/users/${e}`,{headers:this.getHeaders()})}CreateUser(e){return this.http.post("api/idp/users",e,{headers:this.getHeaders()})}UpdateUser(e){return this.http.put("api/idp/users",e,{headers:this.getHeaders()})}DeleteUser(...e){const t={body:e,headers:this.getHeaders()};return this.http.request("delete","api/idp/users",t)}SetPassword(e,t){return this.http.post(`api/idp/users/${e}/password`,t,{headers:this.getHeaders()})}ClearPassword(e){return this.http.delete(`api/idp/users/${e}/password`,{headers:this.getHeaders()})}SubscribeRoleEvents(){console.log("IDPRoles.Subscribe"),this.message.Stream("IDPRoles.Subscribe").pipe(Object(x.a)(e=>{switch(console.log(e),e.Action){case"Created":this.identityRolesStore.add(e.Payload);break;case"Updated":this.identityRolesStore.update(e.Payload.Id,t=>e.Payload);break;case"Deleted":this.identityRolesStore.update(e.Payload,e=>Object.assign(Object.assign({},e),{Deleted:!0}))}})).subscribe()}ReLoadRoles(){this.message.Invoke("IDPRoles.GetRolesList").pipe(Object(x.a)(e=>this.identityRolesStore.set(e))).subscribe()}GetAllRoles(e){return!e&&this.identityRolesQuery.getHasCache()||this.ReLoadRoles(),this.identityRolesQuery.selectAll()}GetRole(e){return this.http.get(`api/idp/roles/${e}`,{headers:this.getHeaders()})}CreateRole(e){return this.http.post("api/idp/roles",e,{headers:this.getHeaders()})}UpdateRole(e){return this.http.put("api/idp/roles",e,{headers:this.getHeaders()})}DeleteRole(...e){const t={body:e,headers:this.getHeaders()};return this.http.request("delete","api/idp/roles",t)}SubscribeClientsEvents(){this.message.Stream("IDPClients.Subscribe").pipe(Object(x.a)(e=>{switch(console.log(e),e.Action){case"Created":this.identityClientsStore.add(e.Payload);break;case"Updated":this.identityClientsStore.update(e.Payload.Id,t=>e.Payload);break;case"Deleted":this.identityClientsStore.update(e.Payload,e=>Object.assign(Object.assign({},e),{Deleted:!0}))}})).subscribe()}ReLoadClients(){this.http.get("api/idp/clients",{headers:this.getHeaders()}).pipe(Object(x.a)(e=>this.identityClientsStore.set(e))).subscribe()}GetAllClients(e){return!e&&this.identityClientsQuery.getHasCache()||this.ReLoadClients(),this.identityClientsQuery.selectAll()}GetClient(e){return this.http.get(`api/idp/clients/${e}`,{headers:this.getHeaders()})}CreateClient(e){return this.http.post("api/idp/clients",e,{headers:this.getHeaders()})}UpdateClient(e){return this.http.put("api/idp/clients",e,{headers:this.getHeaders()})}DeleteClient(...e){const t={body:e,headers:this.getHeaders()};return this.http.request("delete","api/idp/clients",t)}SubscribeApiResourcesEvents(){this.message.Stream("IDPApiResources.Subscribe").pipe(Object(x.a)(e=>{switch(console.log(e),e.Action){case"Created":this.identityApiResourcesStore.add(e.Payload);break;case"Updated":this.identityApiResourcesStore.update(e.Payload.Id,t=>e.Payload);break;case"Deleted":this.identityApiResourcesStore.update(e.Payload,e=>Object.assign(Object.assign({},e),{Deleted:!0}))}})).subscribe()}ReLoadApiResources(){this.http.get("api/idp/api-resources",{headers:this.getHeaders()}).pipe(Object(x.a)(e=>this.identityApiResourcesStore.set(e))).subscribe()}GetAllApiResources(e){return!e&&this.identityApiResourcesQuery.getHasCache()||this.ReLoadApiResources(),this.identityApiResourcesQuery.selectAll()}GetApiResource(e){return this.http.get(`api/idp/api-resources/${e}`,{headers:this.getHeaders()})}CreateApiResource(e){return this.http.post("api/idp/api-resources",e,{headers:this.getHeaders()})}UpdateApiResource(e){return this.http.put("api/idp/api-resources",e,{headers:this.getHeaders()})}DeleteApiResource(...e){const t={body:e,headers:this.getHeaders()};return this.http.request("delete","api/idp/api-resources",t)}SubscribeIdentityResourcesEvents(){this.message.Stream("IDPIdentityResources.Subscribe").pipe(Object(x.a)(e=>{switch(console.log(e),e.Action){case"Created":this.identityResourcesStore.add(e.Payload);break;case"Updated":this.identityResourcesStore.update(e.Payload.Id,t=>e.Payload);break;case"Deleted":this.identityResourcesStore.update(e.Payload,e=>Object.assign(Object.assign({},e),{Deleted:!0}))}})).subscribe()}ReLoadIdentityResources(){this.http.get("api/idp/identity-resources",{headers:this.getHeaders()}).pipe(Object(x.a)(e=>this.identityResourcesStore.set(e))).subscribe()}GetAllIdentityResources(e){return!e&&this.identityResourcesQuery.getHasCache()||this.ReLoadIdentityResources(),this.identityResourcesQuery.selectAll()}GetIdentityResource(e){return this.http.get(`api/idp/identity-resources/${e}`,{headers:this.getHeaders()})}CreateIdentityResource(e){return this.http.post("api/idp/identity-resources",e,{headers:this.getHeaders()})}UpdateIdentityResource(e){return this.http.put("api/idp/identity-resources",e,{headers:this.getHeaders()})}DeleteIdentityResource(...e){const t={body:e,headers:this.getHeaders()};return this.http.request("delete","api/idp/identity-resources",t)}SubscribeApiScopesEvents(){this.message.Stream("IDPApiScopes.Subscribe").pipe(Object(x.a)(e=>{switch(console.log(e),e.Action){case"Created":this.identityApiScopesStore.add(e.Payload);break;case"Updated":this.identityApiScopesStore.update(e.Payload.Id,t=>e.Payload);break;case"Deleted":this.identityApiScopesStore.update(e.Payload,e=>Object.assign(Object.assign({},e),{Deleted:!0}))}})).subscribe()}ReLoadApiScopes(){this.http.get("api/idp/api-scopes",{headers:this.getHeaders()}).pipe(Object(x.a)(e=>this.identityApiScopesStore.set(e))).subscribe()}GetAllApiScopes(e){return!e&&this.identityApiScopesQuery.getHasCache()||this.ReLoadApiScopes(),this.identityApiScopesQuery.selectAll()}GetApiScope(e){return this.http.get(`api/idp/api-scopes/${e}`,{headers:this.getHeaders()})}CreateApiScope(e){return this.http.post("api/idp/api-scopes",e,{headers:this.getHeaders()})}UpdateApiScope(e){return this.http.put("api/idp/api-scopes",e,{headers:this.getHeaders()})}DeleteApiScope(...e){const t={body:e,headers:this.getHeaders()};return this.http.request("delete","api/idp/api-scopes",t)}SubscribeAuthenticationProvidersEvents(){this.message.Stream("AuthenticationProviders.Subscribe").pipe(Object(x.a)(e=>{switch(console.log(e),e.Action){case"Created":this.authenticationProvidersStore.add(e.Payload);break;case"Updated":this.authenticationProvidersStore.update(e.Payload.Id,t=>e.Payload);break;case"Deleted":this.authenticationProvidersStore.update(e.Payload,e=>Object.assign(Object.assign({},e),{Deleted:!0}))}})).subscribe()}ReLoadAuthenticationProviders(){this.http.get("api/idp/authentication-provider",{headers:this.getHeaders()}).pipe(Object(x.a)(e=>this.authenticationProvidersStore.set(e))).subscribe()}GetAllAuthenticationProvidersList(e){return!e&&this.authenticationProvidersQuery.getHasCache()||this.ReLoadAuthenticationProviders(),this.authenticationProvidersQuery.selectAll()}GetAuthenticationProvider(e){return this.http.get(`api/idp/authentication-provider/${e}`,{headers:this.getHeaders()})}CreateAuthenticationProvider(e){return this.http.post("api/idp/authentication-provider",e,{headers:this.getHeaders()})}UpdateAuthenticationProvider(e){return this.http.put("api/idp/authentication-provider",e,{headers:this.getHeaders()})}DeleteAuthenticationProvider(...e){const t={body:e,headers:this.getHeaders()};return this.http.request("delete","api/idp/authentication-provider",t)}}return e.\u0275fac=function(t){return new(t||e)(b.Zb(V),b.Zb(R),b.Zb(P),b.Zb(O),b.Zb(A),b.Zb(I),b.Zb(M),b.Zb(D),b.Zb(k),b.Zb(T),b.Zb(H),b.Zb(B),b.Zb(F),b.Zb(N),b.Zb(y.c),b.Zb(S.d),b.Zb(Q.b))},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var _=n("gwh1"),L=n("t7qs"),E=n("Q8cG"),j=n("FwiY"),$=n("gPmL");const W=["itemsContextMenu"];function q(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",6),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().EditUser(t.First)}),b.Qb(1,"i",8),b.Hc(2," Edit User "),b.Ub()}}function J(e,t){1&e&&(b.Tb(0),b.Hc(1,"Set Password"),b.Sb())}function Z(e,t){1&e&&(b.Tb(0),b.Hc(1,"Reset Password"),b.Sb())}function K(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",6),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().SetPassword(t.First)}),b.Qb(1,"db-icon",9),b.Fc(2,J,2,0,"ng-container",10),b.Fc(3,Z,2,0,"ng-container",10),b.Ub()}if(2&e){const e=b.gc().$implicit;b.Bb(2),b.nc("ngIf",!e.First.HasPassword),b.Bb(1),b.nc("ngIf",e.First.HasPassword)}}function X(e,t){1&e&&b.Qb(0,"li",11)}function Y(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",6),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().RemoveUser(t.SelectedData)}),b.Qb(1,"i",12),b.Hc(2," Delete User "),b.Ub()}}function ee(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",3),b.Fc(1,q,3,0,"li",4),b.Fc(2,K,4,2,"li",4),b.Fc(3,X,1,0,"li",5),b.Vb(4,"li",6),b.dc("click",function(){return b.yc(e),b.gc().AddUser()}),b.Qb(5,"i",7),b.Hc(6," Add User "),b.Ub(),b.Fc(7,Y,3,0,"li",4),b.Ub()}if(2&e){const e=t.$implicit;b.Bb(1),b.nc("ngIf",e.Single),b.Bb(1),b.nc("ngIf",e.Single),b.Bb(1),b.nc("ngIf",e.Single),b.Bb(4),b.nc("ngIf",e.Any)}}function te(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",13),b.dc("click",function(){return b.yc(e),b.gc().ReloadUsersList()}),b.Qb(1,"i",14),b.Hc(2,"Reload Users"),b.Ub()}}let ne=(()=>{class e{constructor(e,t,n,i,o,s,a){this.uiService=e,this.idService=t,this.router=n,this.route=i,this.overlay=o,this.modal=s,this.viewContainerRef=a,this.users$=this.idService.GetAllUsers().pipe(Object(c.a)(e=>(console.log(e),e.map(e=>{var t;let n=null!==(t=e.Logins)&&void 0!==t?t:[];return e.HasPassword&&(n=["Local",...n]),Object.assign(Object.assign({},e),{Logins:n})})))),this.grid=(new r.d).SetColumns(e=>e.Default("UserName").SetHeader("Username").SetInitialWidth(200,!0).SetLeftFixed().SetCssClass("pValue"),e=>e.Default("FirstName").SetHeader("Firstname").SetInitialWidth(200,!0),e=>e.Default("LastName").SetHeader("Lastname").SetInitialWidth(200,!0),e=>e.Default("Email").AddClassRule("not-confirmed","!data.EmailConfirmed").AddClassRule("confirmed1","data.EmailConfirmed"),e=>e.Default("PhoneNumber").SetHeader("Phone").AddClassRule("not-confirmed","!data.PhoneNumberConfirmed").AddClassRule("confirmed1","data.PhoneNumberConfirmed"),e=>e.Label("Logins").SetInitialWidth(200,!0).SetRendererParams({labelClass:()=>"ant-tag"})).SetData(this.users$).WithRowSelection("multiple").WithShiftResizeMode().OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.EditUser(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetRowClassRules({"not-confirmed":"!data.Active"}).SetDataImmutable(e=>e.Id),e.Set(e=>{e.Header.Title="IDP / Users",e.Content.Scrollable=!1,e.Header.Icon="fa#user"})}AddUser(){this.router.navigate(["create"],{relativeTo:this.route})}EditUser(e){this.router.navigate([e.Id],{relativeTo:this.route})}RemoveUser(e){this.idService.DeleteUser(...e.map(e=>e.Id)).subscribe()}ReloadUsersList(){this.idService.ReLoadUsers()}SetPassword(e){var t;this.modal.FromComponent(z).SetData({}).SetModalOptions({overlayConfig:{width:"400px"}}).OnClose(()=>{}).AddEventHandler("SetPassword",t=>this.idService.SetPassword(e.Id,t.payload)).AddEventHandler("ClearPassword",t=>this.idService.ClearPassword(e.Id)).Open(),null===(t=this.contextMenu)||void 0===t||t.Close()}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(G),b.Pb(s.i),b.Pb(s.a),b.Pb(u.c),b.Pb(u.b),b.Pb(b.Q))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&b.Lc(W,1),2&e){let e;b.uc(e=b.ec())&&(t.itemsContextMenu=e.first)}},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-divider","",4,"ngIf"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-icon","","nzType","edit","nzTheme","outline"],["icon","fa#key"],[4,"ngIf"],["nz-menu-divider",""],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Qb(0,"ag-grid-angular",0),b.Fc(1,ee,8,4,"ng-template",null,1,b.Gc),b.Fc(3,te,3,0,"ng-template",2)),2&e&&b.nc("dbGrid",t.grid)},directives:[_.a,r.b,L.e,E.c,i.o,v.a,E.e,j.a,$.c,E.d,g.a,C.a],styles:["[_nghost-%COMP%]{padding:10px 0}"],changeDetection:0}),e})();const ie=["itemsContextMenu"];function oe(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().EditRole(t.First)}),b.Qb(1,"i",7),b.Hc(2," Edit Role "),b.Ub()}}function se(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().RemoveRole(t.SelectedData)}),b.Qb(1,"i",8),b.Hc(2," Delete Role "),b.Ub()}}function re(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",3),b.Vb(1,"li",4),b.dc("click",function(){return b.yc(e),b.gc().AddRole()}),b.Qb(2,"i",5),b.Hc(3," Add Role "),b.Ub(),b.Fc(4,oe,3,0,"li",6),b.Fc(5,se,3,0,"li",6),b.Ub()}if(2&e){const e=t.$implicit;b.Bb(4),b.nc("ngIf",e.Single),b.Bb(1),b.nc("ngIf",e.Any)}}function ce(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",9),b.dc("click",function(){return b.yc(e),b.gc().ReloadRolesList()}),b.Qb(1,"i",10),b.Hc(2,"Reload Roles"),b.Ub()}}let ae=(()=>{class e{constructor(e,t,n,i,o,s,c){this.uiService=e,this.idService=t,this.router=n,this.route=i,this.overlay=o,this.viewContainerRef=s,this.identityRolesQuery=c,this.grid=(new r.d).SetColumns(e=>e.Default("Name").SetInitialWidth(200,!0).SetLeftFixed().SetCssClass("pValue"),e=>e.Default("DisplayName").SetInitialWidth(300,!0),e=>e.Default("Description")).SetData(this.idService.GetAllRoles()).WithRowSelection("multiple").WithShiftResizeMode().OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.EditRole(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetDataImmutable(e=>e.Id),e.Set(e=>{e.Header.Title="IDP / Roles",e.Content.Scrollable=!1,e.Header.Icon="fa#user-tag"})}AddRole(){var e;this.router.navigate(["create"],{relativeTo:this.route}),null===(e=this.contextMenu)||void 0===e||e.Close()}EditRole(e){var t;this.router.navigate([e.Id],{relativeTo:this.route}),null===(t=this.contextMenu)||void 0===t||t.Close()}RemoveRole(e){var t;this.idService.DeleteRole(...e.map(e=>e.Id)).subscribe(),null===(t=this.contextMenu)||void 0===t||t.Close()}ReloadRolesList(){this.idService.ReLoadRoles()}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(G),b.Pb(s.i),b.Pb(s.a),b.Pb(u.c),b.Pb(b.Q),b.Pb(R))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&b.Lc(ie,1),2&e){let e;b.uc(e=b.ec())&&(t.itemsContextMenu=e.first)}},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Qb(0,"ag-grid-angular",0),b.Fc(1,re,6,2,"ng-template",null,1,b.Gc),b.Fc(3,ce,3,0,"ng-template",2)),2&e&&b.nc("dbGrid",t.grid)},directives:[_.a,r.b,L.e,E.c,v.a,E.e,j.a,i.o,g.a,C.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),e})();const le=["itemsContextMenu"];function de(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().EditClient(t.First)}),b.Qb(1,"i",7),b.Hc(2," Edit Client "),b.Ub()}}function be(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().RemoveClient(t.SelectedData)}),b.Qb(1,"i",8),b.Hc(2," Delete Client "),b.Ub()}}function ue(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",3),b.Vb(1,"li",4),b.dc("click",function(){return b.yc(e),b.gc().AddClient()}),b.Qb(2,"i",5),b.Hc(3," Add Client "),b.Ub(),b.Fc(4,de,3,0,"li",6),b.Fc(5,be,3,0,"li",6),b.Ub()}if(2&e){const e=t.$implicit;b.Bb(4),b.nc("ngIf",e.Single),b.Bb(1),b.nc("ngIf",e.Any)}}function he(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",9),b.dc("click",function(){return b.yc(e),b.gc().ReloadClientsList()}),b.Qb(1,"i",10),b.Hc(2,"Reload Clients"),b.Ub()}}let pe=(()=>{class e{constructor(e,t,n,i,o,s){this.uiService=e,this.idService=t,this.router=n,this.route=i,this.overlay=o,this.viewContainerRef=s,this.grid=(new r.d).SetColumns(e=>e.Default("ClientId").SetInitialWidth(180,!0).SetLeftFixed().SetCssClass("pValue"),e=>e.Default("ClientName").SetInitialWidth(240,!0),e=>e.Default("Description"),e=>e.Label("AllowedGrantTypes").SetRendererParams({labelClass:"ant-tag"})).SetData(this.idService.GetAllClients()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.EditClient(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}),e.Set(e=>{e.Header.Title="IDP / Clients",e.Content.Scrollable=!1,e.Header.Icon="fa#desktop"})}AddClient(){this.router.navigate(["create"],{relativeTo:this.route})}EditClient(e){this.router.navigate([e.Id],{relativeTo:this.route})}RemoveClient(e){var t;this.idService.DeleteClient(...e.map(e=>e.Id)).subscribe(),null===(t=this.contextMenu)||void 0===t||t.Close()}ReloadClientsList(){this.idService.ReLoadClients()}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(G),b.Pb(s.i),b.Pb(s.a),b.Pb(u.c),b.Pb(b.Q))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&b.Lc(le,1),2&e){let e;b.uc(e=b.ec())&&(t.itemsContextMenu=e.first)}},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Qb(0,"ag-grid-angular",0),b.Fc(1,ue,6,2,"ng-template",null,1,b.Gc),b.Fc(3,he,3,0,"ng-template",2)),2&e&&b.nc("dbGrid",t.grid)},directives:[_.a,r.b,L.e,E.c,v.a,E.e,j.a,i.o,g.a,C.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),e})();var me=n("itXk"),fe=n("bHdf"),ge=n("oyxB"),Ce=n("IvDN"),ve=n("0lU3");function ze(e,t){if(1&e&&(b.Vb(0,"div",1),b.Vb(1,"div",2),b.Vb(2,"div",3),b.Hc(3),b.Ub(),b.Vb(4,"div",4),b.Hc(5),b.Ub(),b.Ub(),b.Vb(6,"div",5),b.Hc(7),b.Ub(),b.Ub()),2&e){const e=t.$implicit;b.Bb(3),b.Ic(e.DisplayName),b.Bb(2),b.Jc("(",e.Name,")"),b.Bb(2),b.Ic(e.Description)}}let Se=(()=>{class e{constructor(){this.roleSubject$=new a.a(null),this.role$=this.roleSubject$.pipe(Object(c.a)(e=>{var t,n=null===(t=e.Description)||void 0===t?void 0:t.replace(/\r/g,"").split(/\n/);return Object.assign(Object.assign({},e),{Description:n&&n[0]})}))}agInit(e){this.roleSubject$.next(e.data)}refresh(e){return!1}afterGuiAttached(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b.Jb({type:e,selectors:[["role-cell"]],decls:2,vars:3,consts:[["class","role",4,"ngIf"],[1,"role"],[1,"first-row"],[1,"displayname"],[1,"name"],[1,"description"]],template:function(e,t){1&e&&(b.Fc(0,ze,8,3,"div",0),b.hc(1,"async")),2&e&&b.nc("ngIf",b.ic(1,1,t.role$))},directives:[i.o],pipes:[i.b],styles:[".displayname[_ngcontent-%COMP%]{font-weight:700;padding-right:4px}.name[_ngcontent-%COMP%]{font-size:x-small}.description[_ngcontent-%COMP%]{font-size:smaller;line-height:normal}.role[_ngcontent-%COMP%]{height:50px}.first-row[_ngcontent-%COMP%]{display:flex}"]}),e})(),ye=(()=>{class e{constructor(){this.iconSubject$=new a.a(null)}agInit(e){this._params=e;const t=e.icon;this.iconSubject$.next(void 0!==t&&null!=t?t:e.value);const n=e.onClick;void 0!==n&&null!=n&&(this.onClick=n)}Click(e){if(this.onClick)return this.onClick(e,this._params.node)}refresh(e){return!1}afterGuiAttached(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b.Jb({type:e,selectors:[["icon-cell"]],decls:3,vars:3,consts:[[1,"center",3,"click"],[3,"icon"]],template:function(e,t){1&e&&(b.Vb(0,"div",0),b.dc("click",function(e){return t.Click(e)}),b.Qb(1,"db-icon",1),b.hc(2,"async"),b.Ub()),2&e&&(b.Bb(1),b.nc("icon",b.ic(2,1,t.iconSubject$)))},directives:[$.c],pipes:[i.b],styles:[".center[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;top:0;left:0;right:0;bottom:0;justify-content:center}.center[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{height:auto;margin-left:auto;margin-right:auto}"],changeDetection:0}),e})();const xe=["itemsContextMenu"],Ue=["availableContextMenu"];function we(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",9),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().Remove(t.SelectedData)}),b.Qb(1,"i",10),b.Hc(2," Remove "),b.Ub()}}function Ve(e,t){if(1&e&&(b.Vb(0,"ul",7),b.Fc(1,we,3,0,"li",8),b.Ub()),2&e){const e=t.$implicit;b.Bb(1),b.nc("ngIf",e.Any)}}function Re(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",9),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().Add(t.SelectedData)}),b.Qb(1,"i",10),b.Hc(2," Add "),b.Ub()}}function Pe(e,t){if(1&e&&(b.Vb(0,"ul",7),b.Fc(1,Re,3,0,"li",8),b.Ub()),2&e){const e=t.$implicit;b.Bb(1),b.nc("ngIf",e.Any)}}let Oe=(()=>{class e{constructor(e,t,n){this.idService=e,this.overlay=t,this.viewContainerRef=n,this.assignedRolesSubject$=new a.a([]),this._disabled=!1,this.assignedRolesChange=new b.n,this.availableRoles$=this.idService.GetAllRoles().pipe(Object(c.a)(e=>e.sort((e,t)=>e.Name>t.Name?1:e.Name<t.Name?-1:0))),this.filteredAvailableRoles$=Object(me.a)(this.availableRoles$,this.assignedRolesSubject$).pipe(Object(c.a)(([e,t])=>e.filter(e=>-1===t.map(e=>e.Id).indexOf(e.Id)))),this.normalizedAssignedRoles$=this.assignedRolesSubject$.pipe(Object(c.a)(e=>e.sort((e,t)=>e.Name>t.Name?1:e.Name<t.Name?-1:0))),this.grid=(new r.d).SetColumns(e=>e.Default("Type").SetRenderer(ye).SetCssClass("scope-type").SetRendererParams({icon:"fa#user-tag"}).SetFixedWidth(50),e=>e.Default("Name").SetRenderer(Se).Set(e=>{e.autoHeight=!0}),e=>e.Default("").SetCssClass("action-column").SetRenderer(ye).SetRendererParams({icon:"delete",onClick:(e,t)=>{const n=this.grid.GetGridApi(),i=this.grid.GetSelectedData();this.Remove(!i||i.length<=1?[t.data]:i),n.deselectAll()}}).SetFixedWidth(50)).WithRowSelection("multiple").OnDataUpdate(e=>{this.propagateChange(e)}).SetData(this.normalizedAssignedRoles$).OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortClick((e,t)=>{t.deselectAll()}).SetDataImmutable(e=>e.Id),this.availablegrid=(new r.d).SetColumns(e=>e.Default("").SetRenderer(ye).SetCssClass("action-column").SetRendererParams({icon:"left",onClick:(e,t)=>{const n=this.availablegrid.GetGridApi(),i=n.getSelectedNodes().map(e=>e.data);this.Add(!i||i.length<=1?[t.data]:i),n.deselectAll()}}).SetFixedWidth(50),e=>e.Default("Type").SetRenderer(ye).SetCssClass("scope-type").SetRendererParams({icon:"fa#user-tag"}).SetFixedWidth(50),e=>e.Default("Name").SetRenderer(Se).Set(e=>{e.autoHeight=!0})).WithRowSelection("multiple").OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.availableContextMenu,this.viewContainerRef,n)}).SetData(this.filteredAvailableRoles$).OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetDataImmutable(e=>e.Id),this.registered=[],this.onTouched=()=>{}}set assignedRoles(e){let t=e||[];0==t.length&&(t=[]),this.assignedRolesSubject$.next(e)}get assignedRoles(){return this.assignedRolesSubject$.value}get disabled(){return this._disabled}set disabled(e){this._disabled=null!=e&&!1!==e&&!!e}Remove(e){var t;this.assignedRoles=this.grid.GetData().filter(t=>!e.map(e=>e.Id).includes(t.Id)),null===(t=this.contextMenu)||void 0===t||t.Close()}Add(e){var t;this.assignedRoles=[...this.assignedRoles,...e.filter(e=>!this.assignedRoles.map(e=>e.Id).includes(e.Id))],null===(t=this.contextMenu)||void 0===t||t.Close()}propagateChange(e){this.assignedRolesChange.emit(e),this.registered.forEach(t=>{t(e)})}writeValue(e){this.assignedRoles=e}registerOnChange(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(G),b.Pb(u.c),b.Pb(b.Q))},e.\u0275cmp=b.Jb({type:e,selectors:[["roles-manager"]],viewQuery:function(e,t){if(1&e&&(b.Lc(xe,1),b.Lc(Ue,1)),2&e){let e;b.uc(e=b.ec())&&(t.itemsContextMenu=e.first),b.uc(e=b.ec())&&(t.availableContextMenu=e.first)}},inputs:{assignedRoles:"assignedRoles",disabled:"disabled"},outputs:{assignedRolesChange:"assignedRolesChange"},features:[b.Ab([{provide:o.k,useExisting:e,multi:!0}])],decls:14,vars:2,consts:[[2,"display","flex","flex-direction","row","padding","3px","height","100%","width","100%"],[2,"flex-grow","1","display","flex","flex-direction","column"],[2,"text-align","center"],[1,"ag-theme-balham","no-header","no-scrollbar",3,"dbGrid"],[2,"width","30px"],["itemsContextMenu",""],["availableContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(b.Vb(0,"div",0),b.Vb(1,"div",1),b.Vb(2,"h3",2),b.Hc(3,"Assigned Roles"),b.Ub(),b.Qb(4,"ag-grid-angular",3),b.Ub(),b.Qb(5,"div",4),b.Vb(6,"div",1),b.Vb(7,"h3",2),b.Hc(8,"Available Roles"),b.Ub(),b.Qb(9,"ag-grid-angular",3),b.Ub(),b.Ub(),b.Fc(10,Ve,2,1,"ng-template",null,5,b.Gc),b.Fc(12,Pe,2,1,"ng-template",null,6,b.Gc)),2&e&&(b.Bb(4),b.nc("dbGrid",t.grid),b.Bb(5),b.nc("dbGrid",t.availablegrid))},directives:[_.a,r.b,E.c,i.o,v.a,E.e,j.a],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex}.ag-theme-balham[_ngcontent-%COMP%]   .scopes-manager-list[_ngcontent-%COMP%], [_nghost-%COMP%]{height:100%}.ag-center-cols-viewport[_ngcontent-%COMP%] {overflow-x:hidden!important}"],changeDetection:0}),e})();class Ae{constructor(){this.Type=null,this.Value=null}}var Ie=n("6NWb");const Me=["itemsContextMenu"],De=function(){return["far","plus-square"]};function ke(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",3),b.Vb(1,"li",4),b.dc("click",function(){return b.yc(e),b.gc().AddClaim()}),b.Qb(2,"fa-icon",5),b.Hc(3," Add Claim "),b.Ub(),b.Ub()}2&e&&(b.Bb(2),b.nc("icon",b.pc(1,De)))}function Te(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){return b.yc(e),b.gc(2).AddClaim()}),b.Qb(1,"fa-icon",5),b.Hc(2," Add Claim "),b.Ub()}2&e&&(b.Bb(1),b.nc("icon",b.pc(1,De)))}function He(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().RemoveClaim(t.SelectedData)}),b.Qb(1,"i",7),b.Hc(2," Delete "),b.Ub()}}function Be(e,t){if(1&e&&(b.Vb(0,"ul",3),b.Fc(1,Te,3,2,"li",6),b.Fc(2,He,3,0,"li",6),b.Ub()),2&e){const e=t.$implicit,n=b.gc();b.Bb(1),b.nc("ngIf",n.HasAction("add")),b.Bb(1),b.nc("ngIf",e.Any)}}let Fe=(()=>{class e{constructor(e,t){this.overlay=e,this.viewContainerRef=t,this._claims=[],this._disabled=!1,this.showIssuer=!1,this.allowedActions=["add","edit","remove"],this.claimsChange=new b.n,this.grid=null,this.i=0,this.registered=[],this.onTouched=()=>{}}set claims(e){var t;let n=e||[];0==n.length&&(n=[]),this._claims=n,null===(t=this.grid)||void 0===t||t.SetData(this._claims)}get claims(){return this._claims}get disabled(){return this._disabled}set disabled(e){this._disabled=null!=e&&!1!==e&&!!e}buildGrid(){return(new r.d).SetColumns(e=>e.Default("Type").Editable(this.allowedActions.includes("edit")).SetInitialWidth(300,!0).Set(e=>{e.filter="agTextColumnFilter",e.filterParams={buttons:["reset","apply"]}}),e=>e.Default("Value").Editable(this.allowedActions.includes("edit")),e=>e.Default("Issuer").SetHidden(!this.showIssuer)).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnDataUpdate(e=>this.propagateChange(e)).OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{if(!this.allowedActions.includes("add"))return;t.deselectAll();let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()})}ngOnInit(){this.grid=this.buildGrid()}buildNextClaim(){var e=new Ae;return this.i++,e}HasAction(e){return this.allowedActions.includes(e)}AddClaim(){this.claims=[...this.claims,this.buildNextClaim()],this.contextMenu.Close()}RemoveClaim(e){this.claims=this.claims.filter(t=>!e.includes(t)),this.contextMenu.Close()}propagateChange(e){this.claimsChange.emit(e),this.registered.forEach(t=>{t(e)})}writeValue(e){this.claims=e}registerOnChange(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(u.c),b.Pb(b.Q))},e.\u0275cmp=b.Jb({type:e,selectors:[["claims-manager"]],viewQuery:function(e,t){if(1&e&&b.Lc(Me,1),2&e){let e;b.uc(e=b.ec())&&(t.itemsContextMenu=e.first)}},inputs:{claims:"claims",disabled:"disabled",showIssuer:"showIssuer",allowedActions:"allowedActions"},outputs:{claimsChange:"claimsChange"},features:[b.Ab([{provide:o.k,useExisting:e,multi:!0}])],decls:5,vars:1,consts:[[1,"ag-theme-balham","no-scrollbar",3,"dbGrid"],["viewportContextMenu",""],["itemsContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","",3,"icon"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(b.Qb(0,"ag-grid-angular",0),b.Fc(1,ke,4,2,"ng-template",null,1,b.Gc),b.Fc(3,Be,3,2,"ng-template",null,2,b.Gc)),2&e&&b.nc("dbGrid",t.grid)},directives:[_.a,r.b,E.c,v.a,E.e,Ie.b,j.a,i.o],styles:["[_nghost-%COMP%]{width:100%;flex-grow:1;display:flex;flex-direction:column}.editable-cell[_ngcontent-%COMP%]{position:relative;padding:5px 12px;cursor:pointer;min-height:32px}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px;padding:4px 11px}.editable-row[_ngcontent-%COMP%]{height:49px}nz-table[_ngcontent-%COMP%]{flex-grow:1}"]}),e})();function Ne(e,t){1&e&&(b.Qb(0,"i",38),b.Hc(1,"Basic "))}function Qe(e,t){1&e&&(b.Qb(0,"db-icon",39),b.Hc(1,"Member Of "))}function Ge(e,t){1&e&&(b.Vb(0,"div",40),b.Qb(1,"roles-manager",41),b.Ub())}function _e(e,t){1&e&&(b.Qb(0,"i",38),b.Hc(1,"Claims "))}function Le(e,t){1&e&&(b.Vb(0,"div",40),b.Qb(1,"claims-manager",42),b.Ub())}function Ee(e,t){1&e&&(b.Qb(0,"i",38),b.Hc(1,"External Claims "))}const je=function(){return["remove"]};function $e(e,t){1&e&&(b.Vb(0,"div",40),b.Qb(1,"claims-manager",43),b.Ub()),2&e&&(b.Bb(1),b.nc("showIssuer",!0)("allowedActions",b.pc(2,je)))}function We(e,t){1&e&&(b.Qb(0,"i",46),b.Hc(1,"Debug"))}function qe(e,t){if(1&e&&(b.Vb(0,"nz-tab",4),b.Fc(1,We,2,0,"ng-template",null,44,b.Gc),b.Vb(3,"div",45),b.Vb(4,"pre"),b.Hc(5),b.hc(6,"json"),b.Ub(),b.Ub(),b.Ub()),2&e){const e=b.vc(2),t=b.gc(2);b.nc("nzTitle",e),b.Bb(5),b.Ic(b.ic(6,2,t.form.value))}}const Je=function(){return{inkBar:!0,tabPane:!1}};function Ze(e,t){if(1&e){const e=b.Wb();b.Tb(0),b.Vb(1,"form",2),b.Vb(2,"nz-tabset",3),b.Vb(3,"nz-tab",4),b.Fc(4,Ne,2,0,"ng-template",null,5,b.Gc),b.Vb(6,"div",6),b.Vb(7,"div",7),b.Vb(8,"div",8),b.Vb(9,"div",9),b.Vb(10,"nz-form-label",10),b.Hc(11,"UserName"),b.Ub(),b.Vb(12,"nz-form-control"),b.Qb(13,"input",11),b.Ub(),b.Ub(),b.Ub(),b.Vb(14,"div",8),b.Vb(15,"div",12),b.Vb(16,"div",13),b.Vb(17,"nz-form-label",14),b.Hc(18,"Email"),b.Ub(),b.Qb(19,"div",7),b.Vb(20,"label",15),b.Hc(21,"Email Confirmed"),b.Ub(),b.Ub(),b.Vb(22,"nz-form-control"),b.Qb(23,"input",16),b.Ub(),b.Ub(),b.Vb(24,"div",12),b.Vb(25,"div",13),b.Vb(26,"nz-form-label",17),b.Hc(27,"Phone"),b.Ub(),b.Qb(28,"div",7),b.Vb(29,"label",18),b.Hc(30,"Phone Confirmed"),b.Ub(),b.Ub(),b.Vb(31,"nz-form-control"),b.Qb(32,"input",19),b.Ub(),b.Ub(),b.Ub(),b.Vb(33,"div",8),b.Vb(34,"div",12),b.Vb(35,"nz-form-label",20),b.Hc(36,"Firstname"),b.Ub(),b.Vb(37,"nz-form-control"),b.Qb(38,"input",21),b.Ub(),b.Ub(),b.Vb(39,"div",12),b.Vb(40,"nz-form-label",22),b.Hc(41,"Lastname"),b.Ub(),b.Vb(42,"nz-form-control"),b.Qb(43,"input",23),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Qb(44,"div",24),b.Vb(45,"div",25),b.Vb(46,"nz-collapse",26),b.Vb(47,"nz-collapse-panel",27),b.Vb(48,"label",28),b.Hc(49," Active "),b.Ub(),b.Qb(50,"br"),b.Vb(51,"label",29),b.Hc(52," TwoFactorEnabled "),b.Ub(),b.Qb(53,"br"),b.Vb(54,"label",30),b.Hc(55," LockoutEnabled "),b.Ub(),b.Qb(56,"br"),b.Ub(),b.Vb(57,"nz-collapse-panel",31),b.Vb(58,"nz-date-picker",32),b.dc("ngModelChange",function(t){return b.yc(e),b.gc().onOk(t)}),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(59,"nz-tab",4),b.Fc(60,Qe,2,0,"ng-template",null,33,b.Gc),b.Fc(62,Ge,2,0,"ng-template",34),b.Ub(),b.Vb(63,"nz-tab",4),b.Fc(64,_e,2,0,"ng-template",null,35,b.Gc),b.Fc(66,Le,2,0,"ng-template",34),b.Ub(),b.Vb(67,"nz-tab",4),b.Fc(68,Ee,2,0,"ng-template",null,36,b.Gc),b.Fc(70,$e,2,3,"ng-template",34),b.Ub(),b.Fc(71,qe,7,4,"nz-tab",37),b.hc(72,"async"),b.Ub(),b.Ub(),b.Sb()}if(2&e){const e=b.vc(5),t=b.vc(61),n=b.vc(65),i=b.vc(69),o=b.gc();b.Bb(1),b.nc("formGroup",o.form),b.Bb(1),b.nc("nzAnimated",b.pc(16,Je)),b.Bb(1),b.nc("nzTitle",e),b.Bb(5),b.nc("nzGutter",8),b.Bb(6),b.nc("nzGutter",8),b.Bb(19),b.nc("nzGutter",8),b.Bb(13),b.nc("nzBordered",!0),b.Bb(1),b.nc("nzActive",!0),b.Bb(10),b.nc("nzActive",!0),b.Bb(1),b.nc("nzFormat","dd.MM.yyyy 23:59"),b.Bb(1),b.nc("nzTitle",t),b.Bb(4),b.nc("nzTitle",n),b.Bb(4),b.nc("nzTitle",i),b.Bb(4),b.nc("ngIf",b.ic(72,14,o.showDebugInformations$))}}function Ke(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",47),b.dc("click",function(){return b.yc(e),b.gc().Reload()}),b.Qb(1,"i",48),b.Hc(2,"Reload"),b.Ub()}}let Xe=(()=>{class e{constructor(e,t,n,i,o){this.uiService=e,this.fb=t,this.route=n,this.idService=i,this.cref=o,this.user$=Object(me.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(c.a)(([e,t,n])=>(this.Id=e.get("id"),this.idService.GetUser(this.Id))),Object(fe.a)(),Object(x.a)(e=>this.setUser(e))),this.showDebugInformations$=this.uiService.showDebugInformations$,e.Set(e=>{e.Header.Title="Identity User",e.Content.Scrollable=!1,e.Header.Icon="fa#user",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=()=>this.Save(),e.Footer.Button2.OnClick=()=>{this.form.reset(this.BaseUser)}})}ngOnInit(){this.form=this.fb.group({Id:[null],UserName:[null,o.q.required],Email:[null,o.q.required],FirstName:[null],LastName:[null],PhoneNumber:[null],EmailConfirmed:[!1],PhoneNumberConfirmed:[!1],TwoFactorEnabled:[!1],LockoutEnabled:[!1],ExpiresOn:[null],Active:[null],Claims:[[]],ExternalClaims:[[]],Roles:[[]]})}setUser(e){this.BaseUser||(this.BaseUser=e),this.uiService.Set(t=>{t.Header.Title="Identity User",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create User",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}onOk(e){null==e||e.setHours(23,59,0,0)}Save(){console.log(this),"create"==this.Id?this.idService.CreateUser(this.form.value).subscribe():this.idService.UpdateUser(this.form.value).subscribe()}Reload(){this.idService.GetUser(this.Id).subscribe(e=>{this.setUser(e),this.idService.ReLoadRoles()})}set BaseUser(e){this._baseUser=JSON.parse(JSON.stringify(e))}get BaseUser(){return this._baseUser}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(o.e),b.Pb(s.a),b.Pb(G),b.Pb(b.h))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","UserName"],["nz-input","","formControlName","UserName","id","UserName",2,"width","100%"],["nz-col","","nzSpan","12"],[2,"display","flex","flex-direction","row","width","100%"],["nzRequired","","nzFor","Email"],["nz-checkbox","","formControlName","EmailConfirmed",2,"white-space","nowrap","margin","auto"],["nz-input","","formControlName","Email","id","Email",2,"flex-grow","1"],["nzFor","PhoneNumber"],["nz-checkbox","","formControlName","PhoneNumberConfirmed",2,"white-space","nowrap","margin","auto"],["nz-input","","formControlName","PhoneNumber","id","PhoneNumber",2,"flex-grow","1"],["nzFor","FirstName"],["nz-input","","formControlName","FirstName","id","FirstName",2,"width","100%"],["nzFor","LastName"],["nz-input","","formControlName","LastName","id","LastName",2,"width","100%"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],[3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Active"],["nz-checkbox","","formControlName","TwoFactorEnabled"],["nz-checkbox","","formControlName","LockoutEnabled"],["nzHeader","Expires On",3,"nzActive"],["formControlName","ExpiresOn","nzAllowClear","",2,"width","100%",3,"nzFormat","ngModelChange"],["MemberOfTitle",""],["nz-tab",""],["ClaimsTitle",""],["ExternalClaimsTitle",""],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["icon","fa#users-cog"],[2,"display","flex","flex-direction","row","padding","3px 0px","flex-grow","1"],["formControlName","Roles"],["formControlName","Claims"],["formControlName","ExternalClaims",3,"showIssuer","allowedActions"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Fc(0,Ze,73,17,"ng-container",0),b.hc(1,"async"),b.Fc(2,Ke,3,0,"ng-template",1)),2&e&&b.nc("ngIf",b.ic(1,1,t.user$))},directives:[i.o,L.e,o.r,o.n,h.b,o.h,ge.c,ge.a,p.c,p.a,h.d,h.a,m.b,o.d,o.m,o.g,f.a,Ce.a,Ce.c,ve.b,ge.b,v.a,j.a,$.c,Oe,Fe,g.a,C.a],pipes:[i.b,i.i],styles:[""],changeDetection:0}),e})();function Ye(e,t){var n,i,o,s;return(null===(n=e.UserName)||void 0===n?void 0:n.toLowerCase())<(null===(i=t.UserName)||void 0===i?void 0:i.toLowerCase())?-1:(null===(o=e.UserName)||void 0===o?void 0:o.toLowerCase())>(null===(s=t.UserName)||void 0===s?void 0:s.toLowerCase())?1:0}var et=n("F6ss"),tt=n("5+WD"),nt=n("VRyK"),it=n("LRne");function ot(e,t){if(1&e){const e=b.Wb();b.Vb(0,"i",16),b.dc("click",function(){return b.yc(e),b.gc(2).form.get("Filter").patchValue("")}),b.Ub()}}function st(e,t){if(1&e&&(b.Fc(0,ot,1,0,"i",15),b.hc(1,"async")),2&e){const e=b.gc();b.nc("ngIf",b.ic(1,1,e.form.get("Filter").valueChanges))}}const rt=function(){return["fas","chevron-left"]},ct=function(){return["fas","chevron-right"]};function at(e,t){if(1&e){const e=b.Wb();b.Vb(0,"div",17),b.Vb(1,"div",18),b.Vb(2,"div",19),b.Qb(3,"fa-icon",20),b.Ub(),b.Vb(4,"div",21),b.dc("click",function(){b.yc(e);const n=t.$implicit;return b.gc().ToggleUser(n)}),b.Vb(5,"div",22),b.Hc(6),b.Ub(),b.Vb(7,"div"),b.Hc(8),b.Ub(),b.Vb(9,"div"),b.Hc(10),b.Ub(),b.Ub(),b.Vb(11,"div",19),b.Qb(12,"fa-icon",20),b.Ub(),b.Ub(),b.Ub()}if(2&e){const e=t.$implicit;b.Hb("deleted",e.Deleted),b.Bb(2),b.Hb("shrinked",e.Selected),b.Bb(1),b.nc("icon",b.pc(14,rt)),b.Bb(1),b.Hb("isSelected",e.Selected),b.Bb(2),b.Ic(e.UserName),b.Bb(2),b.Kc("",e.FirstName," ",e.LastName,""),b.Bb(2),b.Ic(e.Email),b.Bb(1),b.Hb("shrinked",!e.Selected),b.Bb(1),b.nc("icon",b.pc(15,ct))}}const lt=function(){return["fas","angle-double-right"]};let dt=(()=>{class e{constructor(e,t,n){this.identityUsersQuery=e,this.identityService=t,this.fb=n,this.selectedUsersSubject$=new a.a([]),this.selectedUsersChanged=new b.n,this.closeSidebar=new b.n,this.form=this.fb.group({Filter:[null]}),this.filter$=Object(nt.a)(Object(it.a)(null),this.form.get("Filter").valueChanges),this.availableUsers$=Object(me.a)(this.identityService.GetAllUsers(),this.selectedUsersSubject$,this.filter$).pipe(Object(c.a)(([e,t,n])=>{const i=e.filter(e=>e.Deleted).map(e=>e.Id),o=t.filter(e=>i.includes(e.Id));if(o&&o.length>0){const e=t.map(e=>Object.assign(Object.assign({},e),{Deleted:o.includes(e)}));this.selectedUsersChanged.next(e)}let s=e;if(n){const e=new RegExp(`${n}`,"i");s=s.filter(t=>t.UserName.match(e)||t.Email.match(e)||t.Firstname.match(e)||t.Lastname.match(e))}return s.sort(Ye).map(e=>Object.assign(Object.assign({},e),{Selected:t.map(e=>e.Id).includes(e.Id)}))}))}set selectedUsers(e){this.selectedUsersSubject$.next(e)}ngOnInit(){}ToggleUser(e){let t=[];t=e.Selected?this.selectedUsersSubject$.getValue().filter(t=>t.Id!=e.Id):[...this.selectedUsersSubject$.getValue(),e],this.selectedUsersChanged.next(t)}Close(){this.closeSidebar.next()}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(O),b.Pb(G),b.Pb(o.e))},e.\u0275cmp=b.Jb({type:e,selectors:[["add-users-list"]],inputs:{selectedUsers:"selectedUsers"},outputs:{selectedUsersChanged:"selectedUsersChanged",closeSidebar:"closeSidebar"},decls:19,vars:7,consts:[[1,"main-header"],[1,"title-container"],[1,"title-icon","closeSidebar",2,"padding-left","8px",3,"click"],["nz-icon","",2,"font-size","x-large","width","32px","text-align","left",3,"icon"],[1,"title-icon"],["icon","fa#users",2,"font-size","20px","text-align","left"],[2,"display","flex","flex-direction","column","justify-content","center","line-height","1.3em"],[1,"title"],["nzNoColon","","nz-form","",2,"padding","10px","border-bottom","1px solid #eaeaeb",3,"formGroup"],[3,"nzSuffix"],["type","text","nz-input","","formControlName","Filter","placeholder","Filter"],["inputClearTpl",""],[2,"overflow-x","auto"],[2,"margin","10px 5px"],["class","userItem",3,"deleted",4,"ngFor","ngForOf"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[1,"userItem"],[2,"display","flex"],[1,"selector"],["nz-icon","",2,"width","1.18em","margin","0 .25rem 0 0","font-size","1.2em",3,"icon"],[1,"action-item",2,"padding","5px","flex-grow","1",3,"click"],[2,"font-size","large","font-weight","bold"]],template:function(e,t){if(1&e&&(b.Vb(0,"div",0),b.Vb(1,"div",1),b.Vb(2,"div",2),b.dc("click",function(){return t.Close()}),b.Qb(3,"fa-icon",3),b.Ub(),b.Vb(4,"div",4),b.Qb(5,"db-icon",5),b.Ub(),b.Vb(6,"div",6),b.Vb(7,"div",7),b.Hc(8," Available Users "),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(9,"form",8),b.Vb(10,"nz-form-control"),b.Vb(11,"nz-input-group",9),b.Qb(12,"input",10),b.Ub(),b.Fc(13,st,2,3,"ng-template",null,11,b.Gc),b.Ub(),b.Ub(),b.Vb(15,"div",12),b.Vb(16,"div",13),b.Fc(17,at,13,16,"div",14),b.hc(18,"async"),b.Ub(),b.Ub()),2&e){const e=b.vc(14);b.Bb(3),b.nc("icon",b.pc(6,lt)),b.Bb(6),b.nc("formGroup",t.form),b.Bb(2),b.nc("nzSuffix",e),b.Bb(6),b.nc("ngForOf",b.ic(18,4,t.availableUsers$))}},directives:[Ie.b,v.a,j.a,$.c,o.r,o.n,h.b,o.h,p.a,h.a,m.c,m.d,m.b,o.d,o.m,o.g,i.n,i.o],pipes:[i.b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:100%}.action-item[_ngcontent-%COMP%]{margin-bottom:10px!important;border-radius:0!important;box-shadow:0 0 3px 1px #cecece;background-color:#fff}.action-item.disabled[_ngcontent-%COMP%]{opacity:.6;box-shadow:none;background-color:#e2e2e2}.action-item[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{border-right:1px solid #fff}.action-item[_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:#525e76;color:#fff}.action-item.selected[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{background-color:#292f3b;color:#fff}.action-item[_ngcontent-%COMP%]:hover{background-color:#b2b7c2}.new-rule.ui.button[_ngcontent-%COMP%]{margin:0}.options[_ngcontent-%COMP%]{background-color:grey;height:50px}.list-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:inherit!important}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background-color:inherit}.dragHandle[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}.list-item[_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:#e0e1e2}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{cursor:inherit}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:inherit}.list-item.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%], .new-rule.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%]{border-radius:0!important;background-color:#2f2f2f;color:#f5f5f5}.outer.cdk-drop-list-dragging[_ngcontent-%COMP%] > .new-rule.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%]{display:none}.context-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:0!important}.selector[_ngcontent-%COMP%]{padding:10px 0 0 5px;overflow:hidden;visibility:hidden}.isSelected[_ngcontent-%COMP%]{background-color:#525e76;color:#fff}.shrinked[_ngcontent-%COMP%]{width:0;padding:0}.userItem[_ngcontent-%COMP%]:hover   .selector[_ngcontent-%COMP%]{visibility:visible}.main-header[_ngcontent-%COMP%]{min-height:40px;max-height:40px;background-color:#292f3b;color:#f5f5f5;display:flex;flex-direction:row}.closeSidebar[_ngcontent-%COMP%]{transition:.1s}.closeSidebar[_ngcontent-%COMP%]:hover{transform:scale(1.3) translate(3px)}.main-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;align-items:center}.main-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;justify-items:center;padding-right:5px}.main-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}.main-header[_ngcontent-%COMP%]   .title.title-only[_ngcontent-%COMP%]{font-size:2em}.deleted[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]{text-decoration:line-through}"]}),e})();const bt=["itemsContextMenu"],ut=["drawerTemplate"],ht=function(){return["far","plus-square"]};function pt(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",7),b.Vb(1,"li",8),b.dc("click",function(){return b.yc(e),b.gc().AddUser()}),b.Qb(2,"fa-icon",9),b.Hc(3," Add User "),b.Ub(),b.Ub()}2&e&&(b.Bb(2),b.nc("icon",b.pc(1,ht)))}function mt(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",8),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().RemoveUser(t.SelectedData)}),b.Qb(1,"i",11),b.Hc(2," Delete "),b.Ub()}}function ft(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",7),b.Vb(1,"li",8),b.dc("click",function(){return b.yc(e),b.gc().AddUser()}),b.Qb(2,"fa-icon",9),b.Hc(3," Add User "),b.Ub(),b.Fc(4,mt,3,0,"li",10),b.Ub()}if(2&e){const e=t.$implicit;b.Bb(2),b.nc("icon",b.pc(2,ht)),b.Bb(2),b.nc("ngIf",e.Any)}}let gt=(()=>{class e{constructor(e,t,n){this.overlay=e,this.viewContainerRef=t,this.drawerService=n,this.usersSubject$=new a.a(null),this._users=[],this.sideBarOpen=!1,this._disabled=!1,this.usersChange=new b.n,this.grid=(new r.d).SetColumns(e=>e.Default("UserName").SetInitialWidth(200,!0),e=>e.Default("FirstName").SetInitialWidth(200,!0),e=>e.Default("LastName").SetInitialWidth(200,!0),e=>e.Default("Email")).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnDataUpdate(e=>this.propagateChange(e)).OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetDataImmutable(e=>e.Id).SetRowClassRules({deleted:"data.Deleted"}),this.registered=[],this.onTouched=()=>{}}set users(e){var t;let n=e||[];0==n.length&&(n=[]),this._users=n.sort(Ye),this.usersSubject$.next(this._users),null===(t=this.grid)||void 0===t||t.SetData(this._users)}get users(){return this._users}get disabled(){return this._disabled}set disabled(e){this._disabled=null!=e&&!1!==e&&!!e}RemoveUser(e){this.users=this.users.filter(t=>!e.includes(t)),this.contextMenu.Close()}AddUser(){this.sideBarOpen=!0,this.contextMenu.Close()}UsersChanged(e){this.users=e,this.propagateChange(e)}propagateChange(e){this.usersChange.emit(e),this.registered.forEach(t=>{t(e)})}writeValue(e){this.users=e}registerOnChange(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(u.c),b.Pb(b.Q),b.Pb(et.b))},e.\u0275cmp=b.Jb({type:e,selectors:[["users-manager"]],viewQuery:function(e,t){if(1&e&&(b.Lc(bt,1),b.Lc(ut,1)),2&e){let e;b.uc(e=b.ec())&&(t.itemsContextMenu=e.first),b.uc(e=b.ec())&&(t.drawerTemplate=e.first)}},inputs:{users:"users",disabled:"disabled"},outputs:{usersChange:"usersChange"},features:[b.Ab([{provide:o.k,useExisting:e,multi:!0}])],decls:9,vars:4,consts:[[2,"flex-grow","1","display","flex","position","relative"],["cdkDropList","",1,"ag-theme-balham",3,"dbGrid"],[1,"users-manager-sidebar"],[2,"height","100%","background-color","white"],[3,"selectedUsers","selectedUsersChanged","closeSidebar"],["viewportContextMenu",""],["itemsContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","",3,"icon"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(b.Vb(0,"div",0),b.Qb(1,"ag-grid-angular",1),b.Vb(2,"div",2),b.Vb(3,"div",3),b.Vb(4,"add-users-list",4),b.dc("selectedUsersChanged",function(e){return t.UsersChanged(e)})("closeSidebar",function(){return t.sideBarOpen=!1}),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Fc(5,pt,4,2,"ng-template",null,5,b.Gc),b.Fc(7,ft,5,3,"ng-template",null,6,b.Gc)),2&e&&(b.Bb(1),b.nc("dbGrid",t.grid),b.Bb(1),b.Hb("open",t.sideBarOpen),b.Bb(2),b.nc("selectedUsers",t.users))},directives:[_.a,r.b,tt.c,dt,E.c,v.a,E.e,Ie.b,j.a,i.o],styles:["[_nghost-%COMP%]{width:100%;flex-grow:1;display:flex;flex-direction:column;overflow:hidden}.editable-cell[_ngcontent-%COMP%]{position:relative;padding:5px 12px;cursor:pointer;min-height:32px}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px;padding:4px 11px}.editable-row[_ngcontent-%COMP%]{height:49px}nz-table[_ngcontent-%COMP%]{flex-grow:1}.users-manager-sidebar[_ngcontent-%COMP%]{position:absolute;right:0;width:40%;height:100%;transition:.3s;border-left:1px solid grey;padding:0 1px 1px 0;transform:translate3d(100%,0,0)}.users-manager-sidebar.open[_ngcontent-%COMP%]{transform:translateZ(0)}"]}),e})();function Ct(e,t){1&e&&(b.Qb(0,"i",21),b.Hc(1,"Basic "))}function vt(e,t){1&e&&(b.Qb(0,"db-icon",22),b.Hc(1,"Members "))}function zt(e,t){1&e&&(b.Vb(0,"div",23),b.Qb(1,"users-manager",24),b.Ub())}function St(e,t){1&e&&(b.Qb(0,"i",27),b.Hc(1,"Debug"))}function yt(e,t){if(1&e&&(b.Vb(0,"nz-tab",4),b.Fc(1,St,2,0,"ng-template",null,25,b.Gc),b.Vb(3,"div",26),b.Vb(4,"pre"),b.Hc(5),b.hc(6,"json"),b.Ub(),b.Ub(),b.Ub()),2&e){const e=b.vc(2),t=b.gc(2);b.nc("nzTitle",e),b.Bb(5),b.Ic(b.ic(6,2,t.form.value))}}const xt=function(){return{inkBar:!0,tabPane:!1}},Ut=function(){return{minRows:4,maxRows:12}};function wt(e,t){if(1&e&&(b.Tb(0),b.Vb(1,"form",2),b.Vb(2,"nz-tabset",3),b.Vb(3,"nz-tab",4),b.Fc(4,Ct,2,0,"ng-template",null,5,b.Gc),b.Vb(6,"div",6),b.Vb(7,"div",7),b.Vb(8,"div",8),b.Vb(9,"div",9),b.Vb(10,"nz-form-label",10),b.Hc(11,"Name"),b.Ub(),b.Vb(12,"nz-form-control"),b.Qb(13,"input",11),b.Ub(),b.Ub(),b.Ub(),b.Vb(14,"div",8),b.Vb(15,"div",9),b.Vb(16,"nz-form-label",12),b.Hc(17,"DisplayName"),b.Ub(),b.Vb(18,"nz-form-control"),b.Qb(19,"input",13),b.Ub(),b.Ub(),b.Ub(),b.Vb(20,"div",8),b.Vb(21,"div",9),b.Vb(22,"nz-form-label",14),b.Hc(23,"Description"),b.Ub(),b.Vb(24,"nz-form-control"),b.Qb(25,"textarea",15),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Qb(26,"div",16),b.Qb(27,"div",17),b.Ub(),b.Ub(),b.Vb(28,"nz-tab",4),b.Fc(29,vt,2,0,"ng-template",null,18,b.Gc),b.Fc(31,zt,2,0,"ng-template",19),b.Ub(),b.Fc(32,yt,7,4,"nz-tab",20),b.hc(33,"async"),b.Ub(),b.Ub(),b.Sb()),2&e){const e=b.vc(5),t=b.vc(30),n=b.gc();b.Bb(1),b.nc("formGroup",n.form),b.Bb(1),b.nc("nzAnimated",b.pc(11,xt)),b.Bb(1),b.nc("nzTitle",e),b.Bb(5),b.nc("nzGutter",8),b.Bb(6),b.nc("nzGutter",8),b.Bb(6),b.nc("nzGutter",8),b.Bb(5),b.nc("nzAutosize",b.pc(12,Ut)),b.Bb(3),b.nc("nzTitle",t),b.Bb(4),b.nc("ngIf",b.ic(33,9,n.showDebugInformations$))}}function Vt(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",28),b.dc("click",function(){return b.yc(e),b.gc().Reload()}),b.Qb(1,"i",29),b.Hc(2,"Reload"),b.Ub()}}let Rt=(()=>{class e{constructor(e,t,n,i,o){this.uiService=e,this.fb=t,this.route=n,this.idService=i,this.cref=o,this.user$=Object(me.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(c.a)(([e,t,n])=>(this.Id=e.get("id"),this.idService.GetRole(this.Id))),Object(fe.a)(),Object(x.a)(e=>this.setRole(e))),this.showDebugInformations$=this.uiService.showDebugInformations$,e.Set(e=>{e.Header.Title="Role",e.Content.Scrollable=!1,e.Header.Icon="fa#user-tag",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=()=>this.Save(),e.Footer.Button2.OnClick=()=>{this.form.reset(this.BaseDto)}})}ngOnInit(){this.form=this.fb.group({Id:[null],Name:[null,o.q.required],DisplayName:[null,o.q.required],Description:[null],Users:[[]]})}onOk(e){e.setHours(23,59,0,0)}Save(){console.log(this),"create"==this.Id?this.idService.CreateRole(this.form.value).subscribe():this.idService.UpdateRole(this.form.value).subscribe()}setRole(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(t=>{t.Header.Title="Role",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create Role",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}Reload(){this.idService.GetRole(this.Id).subscribe(e=>{this.setRole(e),this.idService.ReLoadUsers()})}set BaseDto(e){this._baseDto=JSON.parse(JSON.stringify(e))}get BaseDto(){return this._baseDto}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(o.e),b.Pb(s.a),b.Pb(G),b.Pb(b.h))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","DisplayName"],["nz-input","","formControlName","DisplayName","id","DisplayName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["UsersTitle",""],["nz-tab",""],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["icon","fa#users"],[2,"display","flex","flex-direction","row","padding","3px 0px","flex-grow","1"],["formControlName","Users"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Fc(0,wt,34,13,"ng-container",0),b.hc(1,"async"),b.Fc(2,Vt,3,0,"ng-template",1)),2&e&&b.nc("ngIf",b.ic(1,1,t.user$))},directives:[i.o,L.e,o.r,o.n,h.b,o.h,ge.c,ge.a,p.c,p.a,h.d,h.a,m.b,o.d,o.m,o.g,m.a,ge.b,v.a,j.a,$.c,gt,g.a,C.a],pipes:[i.b,i.i],styles:[""]}),e})();class Pt{constructor(){this.Type="SharedSecret"}}function Ot(e,t){return e.Expiration<t.Expiration?-1:e.Expiration>t.Expiration?1:0}var At=n("zAKX");let It=(()=>{class e{constructor(e,t){this.fb=e,this.context=t,this.secret=t.data,this.form=this.fb.group({Type:[null,o.q.required],Value:[],Description:[],Expiration:[]}),this.form.patchValue(this.secret||{})}onOk(e){null==e||e.setHours(23,59,0,0)}ok(){this.context.invoke("ok",this.form.value).subscribe(()=>{this.context.handle.Close()})}cancel(){this.context.handle.Close()}onValueChange(e){console.log(`Current value: ${e}`)}onPanelChange(e){console.log(`Current value: ${e.date}`),console.log(`Current mode: ${e.mode}`)}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(o.e),b.Pb(u.d))},e.\u0275cmp=b.Jb({type:e,selectors:[["secret-modal"]],hostAttrs:[1,"flex-grow-column"],decls:32,vars:3,consts:[[1,"ui","top","attached","segment","modal-header",2,"padding","10px !important","display","flex"],[2,"color","whitesmoke","margin","auto"],[2,"font-size","2em","font-weight","bold","min-height","1.4285em","line-height","1.4285em","color","whitesmoke","margin","auto"],[2,"font-size","0.8em","line-height","initial","color","#bbbbbb"],["dbPortal","ModalSubHeader"],[2,"flex-grow","1"],[2,"display","flex","flex-direction","column","justify-content","center"],[1,"ui","attached","segment","modal-content"],["nz-form","",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],[1,"field",2,"flex-grow","1","display","flex","flex-direction","column"],["formControlName","Type",2,"width","100%"],["nzLabel","Shared Secret","nzValue","SharedSecret"],["nz-input","","formControlName","Value"],["nz-input","","formControlName","Description"],["formControlName","Expiration","nzAllowClear","",2,"width","100%",3,"nzFormat","ngModelChange"],[1,"ui","bottom","attached","segment","modal-footer",2,"margin-bottom","0px"],["nz-button","","nzType","primary","nzBlock","",2,"margin-right","1px",3,"disabled","click"],["nz-button","","nzType","default","nzBlock","",1,"secondary",2,"margin-left","1px",3,"click"]],template:function(e,t){1&e&&(b.Vb(0,"div",0),b.Vb(1,"div",1),b.Vb(2,"div",2),b.Hc(3," Secret "),b.Ub(),b.Vb(4,"div",3),b.Rb(5,4),b.Ub(),b.Ub(),b.Qb(6,"div",5),b.Qb(7,"div",6),b.Ub(),b.Vb(8,"div",7),b.Vb(9,"form",8),b.Vb(10,"div",9),b.Vb(11,"label"),b.Hc(12,"Type"),b.Ub(),b.Vb(13,"nz-select",10),b.Qb(14,"nz-option",11),b.Ub(),b.Ub(),b.Vb(15,"div",9),b.Vb(16,"label"),b.Hc(17,"Value"),b.Ub(),b.Qb(18,"input",12),b.Ub(),b.Vb(19,"div",9),b.Vb(20,"label"),b.Hc(21,"Description"),b.Ub(),b.Qb(22,"input",13),b.Ub(),b.Vb(23,"div",9),b.Vb(24,"label"),b.Hc(25,"Description"),b.Ub(),b.Vb(26,"nz-date-picker",14),b.dc("ngModelChange",function(e){return t.onOk(e)}),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(27,"div",15),b.Vb(28,"button",16),b.dc("click",function(){return t.ok()}),b.Hc(29,"Save"),b.Ub(),b.Vb(30,"button",17),b.dc("click",function(){return t.cancel()}),b.Hc(31,"Cancel"),b.Ub(),b.Ub()),2&e&&(b.Bb(9),b.nc("formGroup",t.form),b.Bb(17),b.nc("nzFormat","dd.MM.yyyy 23:59"),b.Bb(2),b.nc("disabled",!t.form.valid))},directives:[L.d,o.r,o.n,h.b,o.h,At.b,o.m,o.g,At.a,m.b,o.d,ve.b,g.a,C.a,v.a],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}.secretCalendar[_ngcontent-%COMP%]  .ant-picker-calendar-mode-switch{display:none}"]}),e})();const Mt=["itemsContextMenu"],Dt=function(){return["far","plus-square"]};function kt(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",4),b.Vb(1,"li",5),b.dc("click",function(){return b.yc(e),b.gc().AddSecret()}),b.Qb(2,"fa-icon",6),b.Hc(3," Add Secret "),b.Ub(),b.Ub()}2&e&&(b.Bb(2),b.nc("icon",b.pc(1,Dt)))}function Tt(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",5),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().RemoveSecret(t.SelectedData)}),b.Qb(1,"i",8),b.Hc(2," Delete "),b.Ub()}}function Ht(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",4),b.Vb(1,"li",5),b.dc("click",function(){return b.yc(e),b.gc().AddSecret()}),b.Qb(2,"fa-icon",6),b.Hc(3," Add Secret "),b.Ub(),b.Fc(4,Tt,3,0,"li",7),b.Ub()}if(2&e){const e=t.$implicit;b.Bb(2),b.nc("icon",b.pc(2,Dt)),b.Bb(2),b.nc("ngIf",e.Any)}}let Bt=(()=>{class e{constructor(e,t,n){this.overlay=e,this.viewContainerRef=t,this.modal=n,this.secretsSubject$=new a.a(null),this._secrets=[],this.sideBarOpen=!1,this._disabled=!1,this.secretsChange=new b.n,this.grid=(new r.d).SetColumns(e=>e.Default("Type").SetInitialWidth(160,!0).Resizeable(!1),e=>e.Default("Description"),e=>e.Date("Expiration").SetInitialWidth(200,!0)).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnDataUpdate(e=>this.propagateChange(e)).OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.createSecret(e.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>{e.api.sizeColumnsToFit()}).OnViewPortClick((e,t)=>{t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}),this.registered=[],this.onTouched=()=>{}}set secrets(e){var t;let n=e||[];0==n.length&&(n=[]),this._secrets=n.sort(Ot),this.secretsSubject$.next(this._secrets),null===(t=this.grid)||void 0===t||t.SetData(this._secrets)}get secrets(){return this._secrets}get disabled(){return this._disabled}set disabled(e){this._disabled=null!=e&&!1!==e&&!!e}createSecret(e){var t,n=null!=e?e:new Pt;this.modal.FromComponent(It).SetData(n).SetMetaData({create:!e}).SetModalOptions({overlayConfig:{width:"400px"}}).OnClose(()=>{}).AddEventHandler("ok",t=>{let n=t.payload;return n.Id=null==e?void 0:e.Id,this.secrets=e?this.secrets.map(t=>t==e?n:t):[...this.secrets,n],console.log(n),Object(it.a)(!0)}).Open(),null===(t=this.contextMenu)||void 0===t||t.Close()}RemoveSecret(e){this.secrets=this.secrets.filter(t=>!e.includes(t)),this.contextMenu.Close()}AddSecret(){this.createSecret(),this.contextMenu.Close()}SecretsChanged(e){this.secrets=e,this.propagateChange(e)}propagateChange(e){this.secretsChange.emit(e),this.registered.forEach(t=>{t(e)})}writeValue(e){this.secrets=e}registerOnChange(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(u.c),b.Pb(b.Q),b.Pb(u.b))},e.\u0275cmp=b.Jb({type:e,selectors:[["secrets-manager"]],viewQuery:function(e,t){if(1&e&&b.Lc(Mt,1),2&e){let e;b.uc(e=b.ec())&&(t.itemsContextMenu=e.first)}},inputs:{secrets:"secrets",disabled:"disabled"},outputs:{secretsChange:"secretsChange"},features:[b.Ab([{provide:o.k,useExisting:e,multi:!0}])],decls:6,vars:1,consts:[[2,"flex-grow","1","display","flex","position","relative"],["cdkDropList","",1,"ag-theme-balham","no-scrollbar",3,"dbGrid"],["viewportContextMenu",""],["itemsContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","",3,"icon"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(b.Vb(0,"div",0),b.Qb(1,"ag-grid-angular",1),b.Ub(),b.Fc(2,kt,4,2,"ng-template",null,2,b.Gc),b.Fc(4,Ht,5,3,"ng-template",null,3,b.Gc)),2&e&&(b.Bb(1),b.nc("dbGrid",t.grid))},directives:[_.a,r.b,tt.c,E.c,v.a,E.e,Ie.b,j.a,i.o],styles:["[_nghost-%COMP%]{width:100%;flex-grow:1;display:flex;flex-direction:column;overflow:hidden}.editable-cell[_ngcontent-%COMP%]{position:relative;padding:5px 12px;cursor:pointer;min-height:32px}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px;padding:4px 11px}.editable-row[_ngcontent-%COMP%]{height:49px}nz-table[_ngcontent-%COMP%]{flex-grow:1}.secrets-manager-sidebar[_ngcontent-%COMP%]{position:absolute;right:0;width:40%;height:100%;transition:.3s;border-left:1px solid grey;padding:0 1px 1px 0;transform:translate3d(100%,0,0)}.secrets-manager-sidebar.open[_ngcontent-%COMP%]{transform:translateZ(0)}"]}),e})();var Ft=n("z4wI");function Nt(e,t){if(1&e&&(b.Vb(0,"div",1),b.Vb(1,"div",2),b.Vb(2,"div",3),b.Hc(3),b.Ub(),b.Vb(4,"div",4),b.Hc(5),b.Ub(),b.Ub(),b.Vb(6,"div",5),b.Hc(7),b.Ub(),b.Ub()),2&e){const e=t.$implicit;b.Bb(3),b.Ic(e.DisplayName),b.Bb(2),b.Jc("(",e.Name,")"),b.Bb(2),b.Ic(e.Description)}}let Qt=(()=>{class e{constructor(){this.scopeSubject$=new a.a(null),this.scope$=this.scopeSubject$.pipe(Object(c.a)(e=>{var t,n=null===(t=e.Description)||void 0===t?void 0:t.replace(/\r/g,"").split(/\n/);return Object.assign(Object.assign({},e),{Description:n&&n[0]})}))}agInit(e){this.scopeSubject$.next(e.data)}refresh(e){return!1}afterGuiAttached(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b.Jb({type:e,selectors:[["scope-cell"]],decls:2,vars:3,consts:[["class","scope",4,"ngIf"],[1,"scope"],[1,"first-row"],[1,"displayname"],[1,"name"],[1,"description"]],template:function(e,t){1&e&&(b.Fc(0,Nt,8,3,"div",0),b.hc(1,"async")),2&e&&b.nc("ngIf",b.ic(1,1,t.scope$))},directives:[i.o],pipes:[i.b],styles:[".displayname[_ngcontent-%COMP%]{font-weight:700;padding-right:4px}.name[_ngcontent-%COMP%]{font-size:x-small}.description[_ngcontent-%COMP%]{font-size:smaller;line-height:normal}.scope[_ngcontent-%COMP%]{height:50px}.first-row[_ngcontent-%COMP%]{display:flex}"]}),e})();const Gt=["itemsContextMenu"],_t=["availableContextMenu"];function Lt(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",9),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().Remove(t.SelectedData)}),b.Qb(1,"i",10),b.Hc(2," Remove "),b.Ub()}}function Et(e,t){if(1&e&&(b.Vb(0,"ul",7),b.Fc(1,Lt,3,0,"li",8),b.Ub()),2&e){const e=t.$implicit;b.Bb(1),b.nc("ngIf",e.Any)}}function jt(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",9),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().Add(t.SelectedData)}),b.Qb(1,"i",10),b.Hc(2," Add "),b.Ub()}}function $t(e,t){if(1&e&&(b.Vb(0,"ul",7),b.Fc(1,jt,3,0,"li",8),b.Ub()),2&e){const e=t.$implicit;b.Bb(1),b.nc("ngIf",e.Any)}}let Wt=(()=>{class e{constructor(e,t,n){this.idService=e,this.overlay=t,this.viewContainerRef=n,this.assignedScopesSubject$=new a.a([]),this._disabled=!1,this.assignedScopesChange=new b.n,this.availableScopes$=Object(me.a)(this.idService.GetAllApiScopes(),this.idService.GetAllIdentityResources()).pipe(Object(c.a)(([e,t])=>[...e,...t].sort((e,t)=>e.Name>t.Name?1:e.Name<t.Name?-1:0)),Object(c.a)(e=>e.map(e=>this.NormalizeScopeProperties(e)))),this.filteredAvailableScopes$=Object(me.a)(this.availableScopes$,this.assignedScopesSubject$).pipe(Object(c.a)(([e,t])=>e.filter(e=>-1===t.map(e=>e.Id).indexOf(e.Id)))),this.normalizedAssignedScopes$=this.assignedScopesSubject$.pipe(Object(c.a)(e=>e.sort((e,t)=>e.Name>t.Name?1:e.Name<t.Name?-1:0)),Object(c.a)(e=>e.map(e=>this.NormalizeScopeProperties(e)))),this.grid=(new r.d).SetColumns(e=>e.Default("Type").SetRenderer(ye).SetCssClass("scope-type").SetFixedWidth(50),e=>e.Default("Name").SetRenderer(Qt).Set(e=>{e.autoHeight=!0}),e=>e.Default("").SetCssClass("action-column").SetRenderer(ye).SetRendererParams({icon:"delete",onClick:(e,t)=>{const n=this.grid.GetGridApi(),i=this.grid.GetSelectedData();this.Remove(!i||i.length<=1?[t.data]:i),n.deselectAll()}}).SetFixedWidth(50)).WithRowSelection("multiple").OnDataUpdate(e=>{this.propagateChange(e)}).SetData(this.normalizedAssignedScopes$).OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortClick((e,t)=>{t.deselectAll()}).SetDataImmutable(e=>e.Id),this.availablegrid=(new r.d).SetColumns(e=>e.Default("").SetRenderer(ye).SetCssClass("action-column").SetRendererParams({icon:"left",onClick:(e,t)=>{const n=this.availablegrid.GetGridApi(),i=n.getSelectedNodes().map(e=>e.data);this.Add(!i||i.length<=1?[t.data]:i),n.deselectAll()}}).SetFixedWidth(50),e=>e.Default("Type").SetRenderer(ye).SetCssClass("scope-type").SetFixedWidth(50),e=>e.Default("Name").SetRenderer(Qt).Set(e=>{e.autoHeight=!0})).WithRowSelection("multiple").OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.availableContextMenu,this.viewContainerRef,n)}).SetData(this.filteredAvailableScopes$).OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetDataImmutable(e=>e.Id),this.registered=[],this.onTouched=()=>{}}set assignedScopes(e){let t=e||[];0==t.length&&(t=[]),this.assignedScopesSubject$.next(e)}get assignedScopes(){return this.assignedScopesSubject$.value}get disabled(){return this._disabled}set disabled(e){this._disabled=null!=e&&!1!==e&&!!e}NormalizeScopeProperties(e){let t=e.Type;switch(t){case"ApiScope":t="fa#cube";break;case"IdentityResource":t="fa#far|address-card"}return Object.assign(Object.assign({},e),{Type:t})}Remove(e){var t;this.assignedScopes=this.grid.GetData().filter(t=>!e.map(e=>e.Id).includes(t.Id)),null===(t=this.contextMenu)||void 0===t||t.Close()}Add(e){var t;this.assignedScopes=[...this.assignedScopes,...e.filter(e=>!this.assignedScopes.map(e=>e.Id).includes(e.Id))],null===(t=this.contextMenu)||void 0===t||t.Close()}propagateChange(e){this.assignedScopesChange.emit(e),this.registered.forEach(t=>{t(e)})}writeValue(e){this.assignedScopes=e}registerOnChange(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(G),b.Pb(u.c),b.Pb(b.Q))},e.\u0275cmp=b.Jb({type:e,selectors:[["scopes-manager"]],viewQuery:function(e,t){if(1&e&&(b.Lc(Gt,1),b.Lc(_t,1)),2&e){let e;b.uc(e=b.ec())&&(t.itemsContextMenu=e.first),b.uc(e=b.ec())&&(t.availableContextMenu=e.first)}},inputs:{assignedScopes:"assignedScopes",disabled:"disabled"},outputs:{assignedScopesChange:"assignedScopesChange"},features:[b.Ab([{provide:o.k,useExisting:e,multi:!0}])],decls:14,vars:2,consts:[[2,"display","flex","flex-direction","row","padding","3px","height","100%","width","100%"],[2,"flex-grow","1","display","flex","flex-direction","column"],[2,"text-align","center"],[1,"ag-theme-balham","no-header","no-scrollbar",3,"dbGrid"],[2,"width","30px"],["itemsContextMenu",""],["availableContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(b.Vb(0,"div",0),b.Vb(1,"div",1),b.Vb(2,"h3",2),b.Hc(3,"Assigned Scopes"),b.Ub(),b.Qb(4,"ag-grid-angular",3),b.Ub(),b.Qb(5,"div",4),b.Vb(6,"div",1),b.Vb(7,"h3",2),b.Hc(8,"Available Scopes"),b.Ub(),b.Qb(9,"ag-grid-angular",3),b.Ub(),b.Ub(),b.Fc(10,Et,2,1,"ng-template",null,5,b.Gc),b.Fc(12,$t,2,1,"ng-template",null,6,b.Gc)),2&e&&(b.Bb(4),b.nc("dbGrid",t.grid),b.Bb(5),b.nc("dbGrid",t.availablegrid))},directives:[_.a,r.b,E.c,i.o,v.a,E.e,j.a],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex}.ag-theme-balham[_ngcontent-%COMP%]   .scopes-manager-list[_ngcontent-%COMP%], [_nghost-%COMP%]{height:100%}.ag-center-cols-viewport[_ngcontent-%COMP%] {overflow-x:hidden!important}"],changeDetection:0}),e})();const qt=["itemsContextMenu"],Jt=function(){return["far","plus-square"]};function Zt(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",3),b.Vb(1,"li",4),b.dc("click",function(){return b.yc(e),b.gc().AddEntry()}),b.Qb(2,"fa-icon",5),b.Hc(3," Add Entry "),b.Ub(),b.Ub()}2&e&&(b.Bb(2),b.nc("icon",b.pc(1,Jt)))}function Kt(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().RemoveEntry(t.SelectedData)}),b.Qb(1,"i",7),b.Hc(2," Delete "),b.Ub()}}function Xt(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",3),b.Vb(1,"li",4),b.dc("click",function(){return b.yc(e),b.gc().AddEntry()}),b.Qb(2,"fa-icon",5),b.Hc(3," Add Entry "),b.Ub(),b.Fc(4,Kt,3,0,"li",6),b.Ub()}if(2&e){const e=t.$implicit;b.Bb(2),b.nc("icon",b.pc(2,Jt)),b.Bb(2),b.nc("ngIf",e.Any)}}let Yt=(()=>{class e{constructor(e,t,n){this.overlay=e,this.viewContainerRef=t,this.element=n,this._entries=[],this._disabled=!1,this._noScrollbar=!1,this.checkboxSelection=!1,this.entriesChange=new b.n,this.registered=[],this.onTouched=()=>{}}set entries(e){let t=e||[];0==t.length&&(t=[]),this.SetListEntries(t.map(e=>new en(e)))}get entries(){return this._entries.map(e=>e.Value)}SetListEntries(e){var t;this._entries=e,null===(t=this.grid)||void 0===t||t.SetData(this._entries)}get disabled(){return this._disabled}set disabled(e){this._disabled=null!=e&&!1!==e&&!!e}get noScrollbar(){return this._noScrollbar}set noScrollbar(e){this._noScrollbar=null!=e&&!1!==e&&!!e}ngOnInit(){var e=this.element.nativeElement;e.attributes.getNamedItem("disabled")&&(this.disabled=!0),e.attributes.getNamedItem("no-scrollbar")&&(this.noScrollbar=!0);const t=new r.d;this.checkboxSelection&&t.SetColumns(e=>e.Default("").SetMaxWidth(40).SetMaxWidth(40).SuppressSizeToFit().Set(e=>{e.headerCheckboxSelection=this.checkboxSelection,e.checkboxSelection=this.checkboxSelection})),this.grid=t.SetColumns(e=>e.Default("Value").SetHeader(this.header).Editable()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnDataUpdate(e=>this.propagateChange(e)).OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{t.deselectAll();let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{}).SetData(this.entries).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetGridOptions({onCellEditingStopped:e=>{let t=[];e.api.forEachNode(function(e){t.push(e.data)}),this.propagateChange(t)}})}AddEntry(){this.entries=[...this.entries,null],this.contextMenu.Close()}RemoveEntry(e){this.SetListEntries(this._entries.filter(t=>!e.includes(t))),this.contextMenu.Close()}propagateChange(e){const t=e.map(e=>e.Value).filter(Boolean);this.entriesChange.emit(t),this.registered.forEach(e=>{e(t)})}writeValue(e){this.entries=e}registerOnChange(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(u.c),b.Pb(b.Q),b.Pb(b.l))},e.\u0275cmp=b.Jb({type:e,selectors:[["simple-list"]],viewQuery:function(e,t){if(1&e&&b.Lc(qt,1),2&e){let e;b.uc(e=b.ec())&&(t.itemsContextMenu=e.first)}},inputs:{entries:"entries",header:"header",disabled:"disabled",noScrollbar:["no-scrollbar","noScrollbar"],checkboxSelection:"checkboxSelection"},outputs:{entriesChange:"entriesChange"},features:[b.Ab([{provide:o.k,useExisting:e,multi:!0}])],decls:5,vars:5,consts:[[1,"ag-theme-balham",3,"dbGrid"],["viewportContextMenu",""],["itemsContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","",3,"icon"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(b.Qb(0,"ag-grid-angular",0),b.Fc(1,Zt,4,2,"ng-template",null,1,b.Gc),b.Fc(3,Xt,5,3,"ng-template",null,2,b.Gc)),2&e&&(b.Hb("no-header",!t.header)("no-scrollbar",t.noScrollbar),b.nc("dbGrid",t.grid))},directives:[_.a,r.b,E.c,v.a,E.e,Ie.b,j.a,i.o],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:100%}"]}),e})();class en{constructor(e){this.Value=e}}function tn(e,t){1&e&&(b.Qb(0,"i",52),b.Hc(1,"Basic Configuration "))}function nn(e,t){1&e&&(b.Qb(0,"i",52),b.Hc(1,"Consent Settings "))}function on(e,t){1&e&&(b.Vb(0,"div",6),b.Vb(1,"div",7),b.Vb(2,"div",8),b.Vb(3,"div",15),b.Vb(4,"nz-form-label",53),b.Hc(5,"ClientUri"),b.Ub(),b.Vb(6,"nz-form-control"),b.Qb(7,"input",54),b.Ub(),b.Ub(),b.Ub(),b.Vb(8,"div",8),b.Vb(9,"div",15),b.Vb(10,"nz-form-label",55),b.Hc(11,"LogoUri"),b.Ub(),b.Vb(12,"nz-form-control"),b.Qb(13,"input",56),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Qb(14,"div",19),b.Vb(15,"div",20),b.Vb(16,"nz-collapse",57),b.Vb(17,"nz-collapse-panel",22),b.Vb(18,"label",58),b.Hc(19," Require Consent "),b.Ub(),b.Qb(20,"br"),b.Vb(21,"label",59),b.Hc(22," Allow Remember Consent "),b.Ub(),b.Qb(23,"br"),b.Ub(),b.Vb(24,"nz-collapse-panel",60),b.Qb(25,"nz-input-number",61),b.Vb(26,"span"),b.Hc(27,"Lifetime of a user consent in seconds. Defaults to null (no expiration)."),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&e&&(b.Bb(2),b.nc("nzGutter",8),b.Bb(6),b.nc("nzGutter",8),b.Bb(8),b.nc("nzBordered",!0),b.Bb(1),b.nc("nzActive",!0),b.Bb(7),b.nc("nzActive",!0),b.Bb(1),b.nc("nzStep",1))}function sn(e,t){1&e&&(b.Qb(0,"i",52),b.Hc(1,"AllowedScopes "))}function rn(e,t){1&e&&(b.Vb(0,"div",62),b.Qb(1,"scopes-manager",63),b.Ub())}function cn(e,t){1&e&&(b.Qb(0,"i",52),b.Hc(1,"Configure URIs "))}function an(e,t){1&e&&(b.Vb(0,"div",64),b.Qb(1,"simple-list",65),b.Qb(2,"simple-list",66),b.Qb(3,"simple-list",67),b.Ub())}function ln(e,t){1&e&&(b.Qb(0,"i",52),b.Hc(1,"Claims "))}function dn(e,t){1&e&&(b.Vb(0,"div",68),b.Vb(1,"div",69),b.Qb(2,"claims-manager",70),b.Ub(),b.Qb(3,"div",19),b.Vb(4,"div",71),b.Vb(5,"nz-collapse",57),b.Vb(6,"nz-collapse-panel",22),b.Vb(7,"label",72),b.Hc(8," Always Send Client Claims "),b.Ub(),b.Qb(9,"br"),b.Vb(10,"label",73),b.Hc(11," Always Include User Claims In IdToken "),b.Ub(),b.Qb(12,"br"),b.Vb(13,"label",74),b.Hc(14," Update AccessToken Claims On Refresh "),b.Ub(),b.Qb(15,"br"),b.Ub(),b.Vb(16,"nz-collapse-panel",75),b.Vb(17,"nz-form-control"),b.Qb(18,"input",76),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&e&&(b.Bb(5),b.nc("nzBordered",!0),b.Bb(1),b.nc("nzActive",!0))}function bn(e,t){1&e&&(b.Qb(0,"i",52),b.Hc(1,"Advanced Settings "))}function un(e,t){1&e&&(b.Vb(0,"div",77),b.Vb(1,"nz-collapse",78),b.Vb(2,"nz-collapse-panel",79),b.Vb(3,"table",80),b.Vb(4,"thead"),b.Vb(5,"tr"),b.Qb(6,"th",81),b.Qb(7,"th",82),b.Ub(),b.Ub(),b.Vb(8,"tbody"),b.Vb(9,"tr"),b.Vb(10,"td"),b.Hc(11,"IdentityToken"),b.Ub(),b.Vb(12,"td"),b.Qb(13,"nz-input-number",83),b.Ub(),b.Ub(),b.Vb(14,"tr"),b.Vb(15,"td"),b.Hc(16,"AccessToken"),b.Ub(),b.Vb(17,"td"),b.Qb(18,"nz-input-number",84),b.Ub(),b.Ub(),b.Vb(19,"tr"),b.Vb(20,"td"),b.Hc(21,"AuthorizationCode"),b.Ub(),b.Vb(22,"td"),b.Qb(23,"nz-input-number",85),b.Ub(),b.Ub(),b.Vb(24,"tr"),b.Vb(25,"td"),b.Hc(26,"AbsoluteRefreshToken"),b.Ub(),b.Vb(27,"td"),b.Qb(28,"nz-input-number",86),b.Ub(),b.Ub(),b.Vb(29,"tr"),b.Vb(30,"td"),b.Hc(31,"SlidingRefreshToken"),b.Ub(),b.Vb(32,"td"),b.Qb(33,"nz-input-number",87),b.Ub(),b.Ub(),b.Vb(34,"tr"),b.Vb(35,"td"),b.Hc(36,"UserSsoLifetime"),b.Ub(),b.Vb(37,"td"),b.Qb(38,"nz-input-number",88),b.Ub(),b.Ub(),b.Vb(39,"tr"),b.Vb(40,"td"),b.Hc(41,"DeviceCodeLifetime"),b.Ub(),b.Vb(42,"td"),b.Qb(43,"nz-input-number",89),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&e&&(b.Bb(1),b.nc("nzBordered",!0),b.Bb(1),b.nc("nzActive",!0),b.Bb(11),b.nc("nzStep",1),b.Bb(5),b.nc("nzStep",1),b.Bb(5),b.nc("nzStep",1),b.Bb(5),b.nc("nzStep",1),b.Bb(5),b.nc("nzStep",1),b.Bb(5),b.nc("nzStep",1),b.Bb(5),b.nc("nzStep",1))}function hn(e,t){1&e&&(b.Qb(0,"i",92),b.Hc(1,"Debug"))}function pn(e,t){if(1&e&&(b.Vb(0,"nz-tab",4),b.Fc(1,hn,2,0,"ng-template",null,90,b.Gc),b.Vb(3,"div",91),b.Vb(4,"pre"),b.Hc(5),b.hc(6,"json"),b.Ub(),b.Ub(),b.Ub()),2&e){const e=b.vc(2),t=b.gc(2);b.nc("nzTitle",e),b.Bb(5),b.Ic(b.ic(6,2,t.form.value))}}const mn=function(){return{inkBar:!0,tabPane:!1}},fn=function(){return{minRows:4,maxRows:12}};function gn(e,t){if(1&e&&(b.Tb(0),b.Vb(1,"form",2),b.Vb(2,"nz-tabset",3),b.Vb(3,"nz-tab",4),b.Fc(4,tn,2,0,"ng-template",null,5,b.Gc),b.Vb(6,"div",6),b.Vb(7,"div",7),b.Vb(8,"div",8),b.Vb(9,"div",9),b.Vb(10,"nz-form-label",10),b.Hc(11,"ClientId"),b.Ub(),b.Vb(12,"nz-form-control"),b.Qb(13,"input",11),b.Ub(),b.Ub(),b.Vb(14,"div",12),b.Vb(15,"nz-form-label",13),b.Hc(16,"ClientName"),b.Ub(),b.Vb(17,"nz-form-control"),b.Qb(18,"input",14),b.Ub(),b.Ub(),b.Ub(),b.Vb(19,"div",8),b.Vb(20,"div",15),b.Vb(21,"nz-form-label",16),b.Hc(22,"Description"),b.Ub(),b.Vb(23,"nz-form-control"),b.Qb(24,"textarea",17),b.Ub(),b.Ub(),b.Ub(),b.Vb(25,"div",8),b.Vb(26,"div",15),b.Vb(27,"nz-form-label",16),b.Hc(28,"Client Secrets"),b.Ub(),b.Vb(29,"nz-form-control"),b.Qb(30,"secrets-manager",18),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Qb(31,"div",19),b.Vb(32,"div",20),b.Vb(33,"nz-collapse",21),b.Vb(34,"nz-collapse-panel",22),b.Vb(35,"label",23),b.Hc(36," Enabled "),b.Ub(),b.Qb(37,"br"),b.Vb(38,"label",24),b.Hc(39," Require Client Secret "),b.Ub(),b.Qb(40,"br"),b.Vb(41,"label",25),b.Hc(42," Require Pkce "),b.Ub(),b.Qb(43,"br"),b.Vb(44,"label",26),b.Hc(45," Allow PlainText Pkce "),b.Ub(),b.Qb(46,"br"),b.Ub(),b.Vb(47,"nz-collapse-panel",27),b.Vb(48,"label",28),b.Hc(49," Implicit "),b.Ub(),b.Qb(50,"br"),b.Vb(51,"label",29),b.Hc(52," Hybrid "),b.Ub(),b.Qb(53,"br"),b.Vb(54,"label",30),b.Hc(55," Authorization Code "),b.Ub(),b.Qb(56,"br"),b.Vb(57,"label",31),b.Hc(58," Client Credentials "),b.Ub(),b.Qb(59,"br"),b.Vb(60,"label",32),b.Hc(61," Resource Owner Password "),b.Ub(),b.Qb(62,"br"),b.Vb(63,"label",33),b.Hc(64," Device Flow "),b.Ub(),b.Qb(65,"br"),b.Ub(),b.Vb(66,"nz-collapse-panel",34),b.Vb(67,"nz-form-label"),b.Hc(68,"AccessTokenType"),b.Ub(),b.Vb(69,"nz-form-control"),b.Vb(70,"nz-select",35),b.Qb(71,"nz-option",36),b.Qb(72,"nz-option",37),b.Ub(),b.Ub(),b.Vb(73,"nz-form-label"),b.Hc(74,"RefreshTokenUsage"),b.Ub(),b.Vb(75,"nz-form-control"),b.Vb(76,"nz-select",38),b.Qb(77,"nz-option",39),b.Qb(78,"nz-option",40),b.Ub(),b.Ub(),b.Vb(79,"nz-form-label"),b.Hc(80,"RefreshTokenExpiration"),b.Ub(),b.Vb(81,"nz-form-control"),b.Vb(82,"nz-select",41),b.Qb(83,"nz-option",42),b.Qb(84,"nz-option",43),b.Ub(),b.Ub(),b.Qb(85,"br"),b.Vb(86,"label",44),b.Hc(87," Allow AccessTokens via Browser "),b.Ub(),b.Qb(88,"br"),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(89,"nz-tab",4),b.Fc(90,nn,2,0,"ng-template",null,45,b.Gc),b.Fc(92,on,28,6,"ng-template",46),b.Ub(),b.Vb(93,"nz-tab",4),b.Fc(94,sn,2,0,"ng-template",null,47,b.Gc),b.Fc(96,rn,2,0,"ng-template",46),b.Ub(),b.Vb(97,"nz-tab",4),b.Fc(98,cn,2,0,"ng-template",null,48,b.Gc),b.Fc(100,an,4,0,"ng-template",46),b.Ub(),b.Vb(101,"nz-tab",4),b.Fc(102,ln,2,0,"ng-template",null,49,b.Gc),b.Fc(104,dn,19,2,"ng-template",46),b.Ub(),b.Vb(105,"nz-tab",4),b.Fc(106,bn,2,0,"ng-template",null,50,b.Gc),b.Fc(108,un,44,9,"ng-template",46),b.Ub(),b.Fc(109,pn,7,4,"nz-tab",51),b.hc(110,"async"),b.Ub(),b.Ub(),b.Sb()),2&e){const e=b.vc(5),t=b.vc(91),n=b.vc(95),i=b.vc(99),o=b.vc(103),s=b.vc(107),r=b.gc();b.Bb(1),b.nc("formGroup",r.form),b.Bb(1),b.nc("nzAnimated",b.pc(17,mn)),b.Bb(1),b.nc("nzTitle",e),b.Bb(5),b.nc("nzGutter",8),b.Bb(11),b.nc("nzGutter",8),b.Bb(5),b.nc("nzAutosize",b.pc(18,fn)),b.Bb(1),b.nc("nzGutter",8),b.Bb(8),b.nc("nzBordered",!0),b.Bb(1),b.nc("nzActive",!0),b.Bb(55),b.nc("nzTitle",t),b.Bb(4),b.nc("nzTitle",n),b.Bb(4),b.nc("nzTitle",i),b.Bb(4),b.nc("nzTitle",o),b.Bb(4),b.nc("nzTitle",s),b.Bb(4),b.nc("ngIf",b.ic(110,15,r.showDebugInformations$))}}function Cn(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",93),b.dc("click",function(){return b.yc(e),b.gc().Reload()}),b.Qb(1,"i",94),b.Hc(2,"Reload"),b.Ub()}}const vn=["itemsContextMenu"];function zn(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().EditApiResource(t.First)}),b.Qb(1,"i",7),b.Hc(2," Edit ApiResource "),b.Ub()}}function Sn(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().RemoveApiResource(t.SelectedData)}),b.Qb(1,"i",8),b.Hc(2," Delete ApiResource "),b.Ub()}}function yn(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",3),b.Vb(1,"li",4),b.dc("click",function(){return b.yc(e),b.gc().AddApiResource()}),b.Qb(2,"i",5),b.Hc(3," Add ApiResource "),b.Ub(),b.Fc(4,zn,3,0,"li",6),b.Fc(5,Sn,3,0,"li",6),b.Ub()}if(2&e){const e=t.$implicit;b.Bb(4),b.nc("ngIf",e.Single),b.Bb(1),b.nc("ngIf",e.Any)}}function xn(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",9),b.dc("click",function(){return b.yc(e),b.gc().ReloadApiResourcesList()}),b.Qb(1,"i",10),b.Hc(2,"Reload Api-Resources"),b.Ub()}}function Un(e,t){1&e&&(b.Qb(0,"i",29),b.Hc(1,"Basic "))}function wn(e,t){1&e&&(b.Qb(0,"i",29),b.Hc(1,"Scopes "))}function Vn(e,t){1&e&&(b.Vb(0,"div",30),b.Qb(1,"scopes-manager",31),b.Ub())}function Rn(e,t){1&e&&(b.Qb(0,"i",34),b.Hc(1,"Debug"))}function Pn(e,t){if(1&e&&(b.Vb(0,"nz-tab",4),b.Fc(1,Rn,2,0,"ng-template",null,32,b.Gc),b.Vb(3,"div",33),b.Vb(4,"pre"),b.Hc(5),b.hc(6,"json"),b.Ub(),b.Ub(),b.Ub()),2&e){const e=b.vc(2),t=b.gc(2);b.nc("nzTitle",e),b.Bb(5),b.Ic(b.ic(6,2,t.form.value))}}const On=function(){return{inkBar:!0,tabPane:!1}},An=function(){return{minRows:4,maxRows:12}};function In(e,t){if(1&e&&(b.Tb(0),b.Vb(1,"form",2),b.Vb(2,"nz-tabset",3),b.Vb(3,"nz-tab",4),b.Fc(4,Un,2,0,"ng-template",null,5,b.Gc),b.Vb(6,"div",6),b.Vb(7,"div",7),b.Vb(8,"div",8),b.Vb(9,"div",9),b.Vb(10,"nz-form-label",10),b.Hc(11,"Name"),b.Ub(),b.Vb(12,"nz-form-control"),b.Qb(13,"input",11),b.Ub(),b.Ub(),b.Ub(),b.Vb(14,"div",8),b.Vb(15,"div",9),b.Vb(16,"nz-form-label",12),b.Hc(17,"DisplayName"),b.Ub(),b.Vb(18,"nz-form-control"),b.Qb(19,"input",13),b.Ub(),b.Ub(),b.Ub(),b.Vb(20,"div",8),b.Vb(21,"div",9),b.Vb(22,"nz-form-label",14),b.Hc(23,"Description"),b.Ub(),b.Vb(24,"nz-form-control"),b.Qb(25,"textarea",15),b.Ub(),b.Ub(),b.Ub(),b.Vb(26,"div",8),b.Vb(27,"div",9),b.Vb(28,"nz-form-label",14),b.Hc(29,"Secrets"),b.Ub(),b.Vb(30,"nz-form-control"),b.Qb(31,"secrets-manager",16),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Qb(32,"div",17),b.Vb(33,"div",18),b.Vb(34,"nz-collapse",19),b.Vb(35,"nz-collapse-panel",20),b.Vb(36,"label",21),b.Hc(37," Enabled "),b.Ub(),b.Qb(38,"br"),b.Vb(39,"label",22),b.Hc(40," Show in Discovery Document "),b.Ub(),b.Qb(41,"br"),b.Vb(42,"label",23),b.Hc(43," Allowed AccessToken SigningAlgorithms "),b.Ub(),b.Ub(),b.Vb(44,"nz-collapse-panel",24),b.Qb(45,"simple-list",25),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(46,"nz-tab",4),b.Fc(47,wn,2,0,"ng-template",null,26,b.Gc),b.Fc(49,Vn,2,0,"ng-template",27),b.Ub(),b.Fc(50,Pn,7,4,"nz-tab",28),b.hc(51,"async"),b.Ub(),b.Ub(),b.Sb()),2&e){const e=b.vc(5),t=b.vc(48),n=b.gc();b.Bb(1),b.nc("formGroup",n.form),b.Bb(1),b.nc("nzAnimated",b.pc(14,On)),b.Bb(1),b.nc("nzTitle",e),b.Bb(5),b.nc("nzGutter",8),b.Bb(6),b.nc("nzGutter",8),b.Bb(6),b.nc("nzGutter",8),b.Bb(5),b.nc("nzAutosize",b.pc(15,An)),b.Bb(1),b.nc("nzGutter",8),b.Bb(8),b.nc("nzBordered",!0),b.Bb(1),b.nc("nzActive",!0),b.Bb(11),b.nc("nzTitle",t),b.Bb(4),b.nc("ngIf",b.ic(51,12,n.showDebugInformations$))}}function Mn(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",35),b.dc("click",function(){return b.yc(e),b.gc().Reload()}),b.Qb(1,"i",36),b.Hc(2,"Reload"),b.Ub()}}const Dn=["itemsContextMenu"];function kn(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().EditIdentityResource(t.First)}),b.Qb(1,"i",7),b.Hc(2," Edit IdentityResource "),b.Ub()}}function Tn(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().RemoveIdentityResource(t.SelectedData)}),b.Qb(1,"i",8),b.Hc(2," Delete IdentityResource "),b.Ub()}}function Hn(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",3),b.Vb(1,"li",4),b.dc("click",function(){return b.yc(e),b.gc().AddIdentityResource()}),b.Qb(2,"i",5),b.Hc(3," Add IdentityResource "),b.Ub(),b.Fc(4,kn,3,0,"li",6),b.Fc(5,Tn,3,0,"li",6),b.Ub()}if(2&e){const e=t.$implicit;b.Bb(4),b.nc("ngIf",e.Single),b.Bb(1),b.nc("ngIf",e.Any)}}function Bn(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",9),b.dc("click",function(){return b.yc(e),b.gc().ReloadIdentityResourcesList()}),b.Qb(1,"i",10),b.Hc(2,"Reload Identity-Resources"),b.Ub()}}function Fn(e,t){1&e&&(b.Qb(0,"i",27),b.Hc(1,"Basic "))}function Nn(e,t){1&e&&(b.Qb(0,"i",30),b.Hc(1,"Debug"))}function Qn(e,t){if(1&e&&(b.Vb(0,"nz-tab",4),b.Fc(1,Nn,2,0,"ng-template",null,28,b.Gc),b.Vb(3,"div",29),b.Vb(4,"pre"),b.Hc(5),b.hc(6,"json"),b.Ub(),b.Ub(),b.Ub()),2&e){const e=b.vc(2),t=b.gc(2);b.nc("nzTitle",e),b.Bb(5),b.Ic(b.ic(6,2,t.form.value))}}const Gn=function(){return{inkBar:!0,tabPane:!1}},_n=function(){return{minRows:4,maxRows:12}};function Ln(e,t){if(1&e&&(b.Tb(0),b.Vb(1,"form",2),b.Vb(2,"nz-tabset",3),b.Vb(3,"nz-tab",4),b.Fc(4,Fn,2,0,"ng-template",null,5,b.Gc),b.Vb(6,"div",6),b.Vb(7,"div",7),b.Vb(8,"div",8),b.Vb(9,"div",9),b.Vb(10,"nz-form-label",10),b.Hc(11,"Name"),b.Ub(),b.Vb(12,"nz-form-control"),b.Qb(13,"input",11),b.Ub(),b.Ub(),b.Ub(),b.Vb(14,"div",8),b.Vb(15,"div",9),b.Vb(16,"nz-form-label",12),b.Hc(17,"DisplayName"),b.Ub(),b.Vb(18,"nz-form-control"),b.Qb(19,"input",13),b.Ub(),b.Ub(),b.Ub(),b.Vb(20,"div",8),b.Vb(21,"div",9),b.Vb(22,"nz-form-label",14),b.Hc(23,"Description"),b.Ub(),b.Vb(24,"nz-form-control"),b.Qb(25,"textarea",15),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Qb(26,"div",16),b.Vb(27,"div",17),b.Vb(28,"nz-collapse",18),b.Vb(29,"nz-collapse-panel",19),b.Vb(30,"label",20),b.Hc(31," Enabled "),b.Ub(),b.Qb(32,"br"),b.Vb(33,"label",21),b.Hc(34," Required "),b.Ub(),b.Qb(35,"br"),b.Vb(36,"label",22),b.Hc(37," Emphasize "),b.Ub(),b.Qb(38,"br"),b.Vb(39,"label",23),b.Hc(40," Show in Discovery Document "),b.Ub(),b.Ub(),b.Vb(41,"nz-collapse-panel",24),b.Qb(42,"simple-list",25),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Fc(43,Qn,7,4,"nz-tab",26),b.hc(44,"async"),b.Ub(),b.Ub(),b.Sb()),2&e){const e=b.vc(5),t=b.gc();b.Bb(1),b.nc("formGroup",t.form),b.Bb(1),b.nc("nzAnimated",b.pc(12,Gn)),b.Bb(1),b.nc("nzTitle",e),b.Bb(5),b.nc("nzGutter",8),b.Bb(6),b.nc("nzGutter",8),b.Bb(6),b.nc("nzGutter",8),b.Bb(5),b.nc("nzAutosize",b.pc(13,_n)),b.Bb(3),b.nc("nzBordered",!0),b.Bb(1),b.nc("nzActive",!0),b.Bb(14),b.nc("ngIf",b.ic(44,10,t.showDebugInformations$))}}function En(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",31),b.dc("click",function(){return b.yc(e),b.gc().Reload()}),b.Qb(1,"i",32),b.Hc(2,"Reload"),b.Ub()}}const jn=["itemsContextMenu"];function $n(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().EditApiScope(t.First)}),b.Qb(1,"i",7),b.Hc(2," Edit ApiScope "),b.Ub()}}function Wn(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().RemoveApiScope(t.SelectedData)}),b.Qb(1,"i",8),b.Hc(2," Delete ApiScope "),b.Ub()}}function qn(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",3),b.Vb(1,"li",4),b.dc("click",function(){return b.yc(e),b.gc().AddApiScope()}),b.Qb(2,"i",5),b.Hc(3," Add ApiScope "),b.Ub(),b.Fc(4,$n,3,0,"li",6),b.Fc(5,Wn,3,0,"li",6),b.Ub()}if(2&e){const e=t.$implicit;b.Bb(4),b.nc("ngIf",e.Single),b.Bb(1),b.nc("ngIf",e.Any)}}function Jn(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",9),b.dc("click",function(){return b.yc(e),b.gc().ReloadApiScopesList()}),b.Qb(1,"i",10),b.Hc(2,"Reload Api-Resources"),b.Ub()}}function Zn(e,t){1&e&&(b.Qb(0,"i",27),b.Hc(1,"Basic "))}function Kn(e,t){1&e&&(b.Qb(0,"i",30),b.Hc(1,"Debug"))}function Xn(e,t){if(1&e&&(b.Vb(0,"nz-tab",4),b.Fc(1,Kn,2,0,"ng-template",null,28,b.Gc),b.Vb(3,"div",29),b.Vb(4,"pre"),b.Hc(5),b.hc(6,"json"),b.Ub(),b.Ub(),b.Ub()),2&e){const e=b.vc(2),t=b.gc(2);b.nc("nzTitle",e),b.Bb(5),b.Ic(b.ic(6,2,t.form.value))}}const Yn=function(){return{inkBar:!0,tabPane:!1}},ei=function(){return{minRows:4,maxRows:12}};function ti(e,t){if(1&e&&(b.Tb(0),b.Vb(1,"form",2),b.Vb(2,"nz-tabset",3),b.Vb(3,"nz-tab",4),b.Fc(4,Zn,2,0,"ng-template",null,5,b.Gc),b.Vb(6,"div",6),b.Vb(7,"div",7),b.Vb(8,"div",8),b.Vb(9,"div",9),b.Vb(10,"nz-form-label",10),b.Hc(11,"Name"),b.Ub(),b.Vb(12,"nz-form-control"),b.Qb(13,"input",11),b.Ub(),b.Ub(),b.Ub(),b.Vb(14,"div",8),b.Vb(15,"div",9),b.Vb(16,"nz-form-label",12),b.Hc(17,"DisplayName"),b.Ub(),b.Vb(18,"nz-form-control"),b.Qb(19,"input",13),b.Ub(),b.Ub(),b.Ub(),b.Vb(20,"div",8),b.Vb(21,"div",9),b.Vb(22,"nz-form-label",14),b.Hc(23,"Description"),b.Ub(),b.Vb(24,"nz-form-control"),b.Qb(25,"textarea",15),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Qb(26,"div",16),b.Vb(27,"div",17),b.Vb(28,"nz-collapse",18),b.Vb(29,"nz-collapse-panel",19),b.Vb(30,"label",20),b.Hc(31," Enabled "),b.Ub(),b.Qb(32,"br"),b.Vb(33,"label",21),b.Hc(34," Required "),b.Ub(),b.Qb(35,"br"),b.Vb(36,"label",22),b.Hc(37," Emphasize "),b.Ub(),b.Qb(38,"br"),b.Vb(39,"label",23),b.Hc(40," Show in Discovery Document "),b.Ub(),b.Ub(),b.Vb(41,"nz-collapse-panel",24),b.Qb(42,"simple-list",25),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Fc(43,Xn,7,4,"nz-tab",26),b.hc(44,"async"),b.Ub(),b.Ub(),b.Sb()),2&e){const e=b.vc(5),t=b.gc();b.Bb(1),b.nc("formGroup",t.form),b.Bb(1),b.nc("nzAnimated",b.pc(12,Yn)),b.Bb(1),b.nc("nzTitle",e),b.Bb(5),b.nc("nzGutter",8),b.Bb(6),b.nc("nzGutter",8),b.Bb(6),b.nc("nzGutter",8),b.Bb(5),b.nc("nzAutosize",b.pc(13,ei)),b.Bb(3),b.nc("nzBordered",!0),b.Bb(1),b.nc("nzActive",!0),b.Bb(14),b.nc("ngIf",b.ic(44,10,t.showDebugInformations$))}}function ni(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",31),b.dc("click",function(){return b.yc(e),b.gc().Reload()}),b.Qb(1,"i",32),b.Hc(2,"Reload"),b.Ub()}}const ii=["itemsContextMenu"];function oi(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().Edit(t.First)}),b.Qb(1,"i",7),b.Hc(2," Edit Provider "),b.Ub()}}function si(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li",4),b.dc("click",function(){b.yc(e);const t=b.gc().$implicit;return b.gc().Remove(t.SelectedData)}),b.Qb(1,"i",8),b.Hc(2," Delete Provider "),b.Ub()}}function ri(e,t){if(1&e){const e=b.Wb();b.Vb(0,"ul",3),b.Vb(1,"li",4),b.dc("click",function(){return b.yc(e),b.gc().Add()}),b.Qb(2,"i",5),b.Hc(3," Add Provider "),b.Ub(),b.Fc(4,oi,3,0,"li",6),b.Fc(5,si,3,0,"li",6),b.Ub()}if(2&e){const e=t.$implicit;b.Bb(4),b.nc("ngIf",e.Single),b.Bb(1),b.nc("ngIf",e.Any)}}function ci(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",9),b.dc("click",function(){return b.yc(e),b.gc().Reload()}),b.Qb(1,"i",10),b.Hc(2,"Reload Providers"),b.Ub()}}function ai(e,t){1&e&&(b.Qb(0,"i",24),b.Hc(1,"Basic "))}function li(e,t){1&e&&(b.Qb(0,"i",27),b.Hc(1,"Debug"))}function di(e,t){if(1&e&&(b.Vb(0,"nz-tab",4),b.Fc(1,li,2,0,"ng-template",null,25,b.Gc),b.Vb(3,"div",26),b.Vb(4,"pre"),b.Hc(5),b.hc(6,"json"),b.Ub(),b.Ub(),b.Ub()),2&e){const e=b.vc(2),t=b.gc(2);b.nc("nzTitle",e),b.Bb(5),b.Ic(b.ic(6,2,t.form.value))}}const bi=function(){return{inkBar:!0,tabPane:!1}},ui=function(){return{minRows:4,maxRows:12}};function hi(e,t){if(1&e&&(b.Tb(0),b.Vb(1,"form",2),b.Vb(2,"nz-tabset",3),b.Vb(3,"nz-tab",4),b.Fc(4,ai,2,0,"ng-template",null,5,b.Gc),b.Vb(6,"div",6),b.Vb(7,"div",7),b.Vb(8,"div",8),b.Vb(9,"div",9),b.Vb(10,"nz-form-label",10),b.Hc(11,"Name"),b.Ub(),b.Vb(12,"nz-form-control"),b.Qb(13,"input",11),b.Ub(),b.Ub(),b.Ub(),b.Vb(14,"div",8),b.Vb(15,"div",9),b.Vb(16,"nz-form-label",12),b.Hc(17,"DisplayName"),b.Ub(),b.Vb(18,"nz-form-control"),b.Qb(19,"input",13),b.Ub(),b.Ub(),b.Ub(),b.Vb(20,"div",8),b.Vb(21,"div",9),b.Vb(22,"nz-form-label",14),b.Hc(23,"Description"),b.Ub(),b.Vb(24,"nz-form-control"),b.Qb(25,"textarea",15),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Qb(26,"div",16),b.Vb(27,"div",17),b.Vb(28,"nz-collapse",18),b.Vb(29,"nz-collapse-panel",19),b.Vb(30,"label",20),b.Hc(31," Enabled "),b.Ub(),b.Vb(32,"nz-form-label"),b.Hc(33,"Type"),b.Ub(),b.Vb(34,"nz-form-control"),b.Vb(35,"nz-select",21),b.Qb(36,"nz-option",22),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Fc(37,di,7,4,"nz-tab",23),b.hc(38,"async"),b.Ub(),b.Ub(),b.Sb()),2&e){const e=b.vc(5),t=b.gc();b.Bb(1),b.nc("formGroup",t.form),b.Bb(1),b.nc("nzAnimated",b.pc(12,bi)),b.Bb(1),b.nc("nzTitle",e),b.Bb(5),b.nc("nzGutter",8),b.Bb(6),b.nc("nzGutter",8),b.Bb(6),b.nc("nzGutter",8),b.Bb(5),b.nc("nzAutosize",b.pc(13,ui)),b.Bb(3),b.nc("nzBordered",!0),b.Bb(1),b.nc("nzActive",!0),b.Bb(8),b.nc("ngIf",b.ic(38,10,t.showDebugInformations$))}}function pi(e,t){if(1&e){const e=b.Wb();b.Vb(0,"button",28),b.dc("click",function(){return b.yc(e),b.gc().Reload()}),b.Qb(1,"i",29),b.Hc(2,"Reload"),b.Ub()}}const mi=[{path:"users",component:ne},{path:"users/:id",component:Xe},{path:"roles",component:ae},{path:"roles/:id",component:Rt},{path:"clients",component:pe},{path:"clients/:id",component:(()=>{class e{constructor(e,t,n,i,o){this.uiService=e,this.fb=t,this.route=n,this.idService=i,this.cref=o,this.user$=Object(me.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(c.a)(([e,t,n])=>(this.Id=e.get("id"),this.idService.GetClient(this.Id))),Object(fe.a)(),Object(x.a)(e=>this.setClient(e))),this.showDebugInformations$=this.uiService.showDebugInformations$,this.initForm(),e.Set(e=>{e.Header.Title="Client",e.Content.Scrollable=!1,e.Header.Icon="fa#user",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=()=>this.Save(),e.Footer.Button2.OnClick=()=>{this.form.reset(this.BaseDto)}})}ngOnInit(){}initForm(){this.form=this.fb.group({Id:[null],ClientId:[null],ClientName:[null],Description:[null],Enabled:[null],RequireClientSecret:[null],RequirePkce:[null],AllowPlainTextPkce:[!1],AllowedGrantTypes:[[]],ClientUri:[null],LogoUri:[null],RequireConsent:[null],AllowRememberConsent:[!1],ConsentLifetime:[null],Claims:[[]],AlwaysIncludeUserClaimsInIdToken:[!1],UpdateAccessTokenClaimsOnRefresh:[!1],AlwaysSendClientClaims:[!1],ClientClaimsPrefix:[null],IdentityTokenLifetime:[null],AccessTokenLifetime:[null],AuthorizationCodeLifetime:[null],AbsoluteRefreshTokenLifetime:[null],SlidingRefreshTokenLifetime:[null],UserSsoLifetime:[null],DeviceCodeLifetime:[null],ProtocolType:[null],ClientSecrets:[[]],RequireRequestObject:[!1],AllowAccessTokensViaBrowser:[!1],RedirectUris:[[]],PostLogoutRedirectUris:[[]],FrontChannelLogoutUri:[null],FrontChannelLogoutSessionRequired:[!1],BackChannelLogoutUri:[null],BackChannelLogoutSessionRequired:[!1],AllowOfflineAccess:[!1],AllowedScopes:[[]],AllowedIdentityTokenSigningAlgorithms:[null],RefreshTokenUsage:[null],RefreshTokenExpiration:[null],AccessTokenType:[null],EnableLocalLogin:[!1],IdentityProviderRestrictions:[[]],IncludeJwtId:[!1],PairWiseSubjectSalt:[null],AllowedCorsOrigins:[[]],UserCodeType:[null],NonEditable:[!1]})}Save(){console.log(this),"create"==this.Id?this.idService.CreateClient(this.form.value).subscribe():this.idService.UpdateClient(this.form.value).subscribe()}setClient(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(t=>{t.Header.Title="Client",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create Client",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}Reload(){this.idService.GetClient(this.Id).subscribe(e=>{this.setClient(e)})}set BaseDto(e){this._baseDto=JSON.parse(JSON.stringify(e))}get BaseDto(){return this._baseDto}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(o.e),b.Pb(s.a),b.Pb(G),b.Pb(b.h))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","7"],["nzRequired","","nzFor","ClientId"],["nz-input","","formControlName","ClientId","id","ClientId",2,"flex-grow","1"],["nz-col","","nzSpan","17"],["nzRequired","","nzFor","ClientName"],["nz-input","","formControlName","ClientName","id","ClientName",2,"width","100%"],["nz-col","","nzSpan","24"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],["formControlName","ClientSecrets",2,"height","200px"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["nzAccordion","",3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["nz-checkbox","","formControlName","RequireClientSecret"],["nz-checkbox","","formControlName","RequirePkce"],["nz-checkbox","","formControlName","AllowPlainTextPkce"],["nzHeader","AllowedGrantTypes","dbCheckboxGroup","","formControlName","AllowedGrantTypes","returnType","array"],["nz-checkbox","","nzValue","implicit"],["nz-checkbox","","nzValue","hybrid"],["nz-checkbox","","nzValue","authorization_code"],["nz-checkbox","","nzValue","client_credentials"],["nz-checkbox","","nzValue","password"],["nz-checkbox","","nzValue","urn:ietf:params:oauth:grant-type:device_code"],["nzHeader","Token Options",1,"tokenOptionsPanel"],["formControlName","AccessTokenType"],["nzValue","Reference","nzLabel","Reference"],["nzValue","Jwt","nzLabel","JWT"],["formControlName","RefreshTokenUsage"],["nzValue","OneTimeOnly","nzLabel","OneTimeOnly"],["nzValue","ReUse","nzLabel","ReUse"],["formControlName","RefreshTokenExpiration"],["nzValue","Absolute","nzLabel","Absolute"],["nzValue","Sliding","nzLabel","Sliding"],["nz-checkbox","","formControlName","AllowAccessTokensViaBrowser"],["ConsentTitle",""],["nz-tab",""],["ScopesTitle",""],["UrisTitle",""],["ClaimsTitle",""],["AdvancedTitle",""],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["nzFor","ClientUri"],["nz-input","","formControlName","ClientUri","id","ClientUri",2,"width","100%"],["nzFor","LogoUri"],["nz-input","","formControlName","LogoUri","id","LogoUri",2,"width","100%"],[3,"nzBordered"],["nz-checkbox","","formControlName","RequireConsent"],["nz-checkbox","","formControlName","AllowRememberConsent"],["nzHeader","Consent Lifetime",3,"nzActive"],["formControlName","ConsentLifetime",2,"width","100%",3,"nzStep"],[2,"display","flex","flex-direction","row","padding","3px","height","100%","width","100%"],["formControlName","AllowedScopes"],[2,"display","flex","flex-direction","column","flex-grow","1","padding-bottom","3px"],["header","Redirect Uri's","formControlName","RedirectUris","no-scrollbar","",2,"height","100%","padding-top","3px","flex-grow","1","min-height","200px"],["header","Post Logout Redirect Uri's","formControlName","PostLogoutRedirectUris","no-scrollbar","",2,"height","100%","padding-top","3px","flex-grow","1","min-height","200px"],["header","Allowed Cors Origins","formControlName","AllowedCorsOrigins","no-scrollbar","",2,"height","100%","padding-top","3px","flex-grow","1","min-height","200px"],[2,"display","flex","flex-direction","row","padding","3px","flex-grow","1"],[2,"display","flex","flex-direction","row","flex-grow","1"],["formControlName","Claims"],[2,"width","25%"],["nz-checkbox","","formControlName","AlwaysSendClientClaims"],["nz-checkbox","","formControlName","AlwaysIncludeUserClaimsInIdToken"],["nz-checkbox","","formControlName","UpdateAccessTokenClaimsOnRefresh"],["nzHeader","Client Claims Prefix"],["nz-input","","formControlName","ClientClaimsPrefix","id","ClientClaimsPrefix",2,"width","100%"],[2,"display","flex","flex-direction","column","padding","3px 0px","flex-grow","1"],[1,"bold-header",3,"nzBordered"],["nzHeader","Lifetime Options (in seconds)",3,"nzActive"],[1,"ui","table","compact"],[2,"width","200px"],[2,"width","300px"],["formControlName","IdentityTokenLifetime",2,"width","100%",3,"nzStep"],["formControlName","AccessTokenLifetime",2,"width","100%",3,"nzStep"],["formControlName","AuthorizationCodeLifetime",2,"width","100%",3,"nzStep"],["formControlName","AbsoluteRefreshTokenLifetime",2,"width","100%",3,"nzStep"],["formControlName","SlidingRefreshTokenLifetime",2,"width","100%",3,"nzStep"],["formControlName","UserSsoLifetime",2,"width","100%",3,"nzStep"],["formControlName","DeviceCodeLifetime",2,"width","100%",3,"nzStep"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Fc(0,gn,111,19,"ng-container",0),b.hc(1,"async"),b.Fc(2,Cn,3,0,"ng-template",1)),2&e&&b.nc("ngIf",b.ic(1,1,t.user$))},directives:[i.o,L.e,o.r,o.n,h.b,o.h,ge.c,ge.a,p.c,p.a,h.d,h.a,m.b,o.d,o.m,o.g,m.a,Bt,Ce.a,Ce.c,f.a,$.b,At.b,At.a,ge.b,v.a,j.a,Ft.a,Wt,Yt,Fe,g.a,C.a],pipes:[i.b,i.i],styles:[".tokenOptionsPanel[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{width:100%}"]}),e})()},{path:"api-resources",component:(()=>{class e{constructor(e,t,n,i,o,s,c){this.uiService=e,this.idService=t,this.router=n,this.route=i,this.overlay=o,this.viewContainerRef=s,this.apiResourcesQuery=c,this.grid=(new r.d).SetColumns(e=>e.Default("Name").SetInitialWidth(200,!0).SetLeftFixed().SetCssClass("pValue"),e=>e.Default("DisplayName"),e=>e.Default("Description")).SetData(this.idService.GetAllApiResources()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.EditApiResource(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetDataImmutable(e=>e.Id),e.Set(e=>{e.Header.Title="IDP / Api-Resources",e.Content.Scrollable=!1,e.Header.Icon="fa#cubes"})}AddApiResource(){var e;this.router.navigate(["create"],{relativeTo:this.route}),null===(e=this.contextMenu)||void 0===e||e.Close()}EditApiResource(e){var t;this.router.navigate([e.Id],{relativeTo:this.route}),null===(t=this.contextMenu)||void 0===t||t.Close()}RemoveApiResource(e){var t;this.idService.DeleteApiResource(...e.map(e=>e.Id)).subscribe(),null===(t=this.contextMenu)||void 0===t||t.Close()}ReloadApiResourcesList(){this.idService.ReLoadApiResources()}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(G),b.Pb(s.i),b.Pb(s.a),b.Pb(u.c),b.Pb(b.Q),b.Pb(D))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&b.Lc(vn,1),2&e){let e;b.uc(e=b.ec())&&(t.itemsContextMenu=e.first)}},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Qb(0,"ag-grid-angular",0),b.Fc(1,yn,6,2,"ng-template",null,1,b.Gc),b.Fc(3,xn,3,0,"ng-template",2)),2&e&&b.nc("dbGrid",t.grid)},directives:[_.a,r.b,L.e,E.c,v.a,E.e,j.a,i.o,g.a,C.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),e})()},{path:"api-resources/:id",component:(()=>{class e{constructor(e,t,n,i,o){this.uiService=e,this.fb=t,this.route=n,this.idService=i,this.cref=o,this.user$=Object(me.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(c.a)(([e,t,n])=>(this.Id=e.get("id"),this.idService.GetApiResource(this.Id))),Object(fe.a)(),Object(x.a)(e=>this.setApiResource(e))),this.showDebugInformations$=this.uiService.showDebugInformations$,e.Set(e=>{e.Header.Title="ApiResource",e.Content.Scrollable=!1,e.Header.Icon="fa#cubes",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=()=>this.Save(),e.Footer.Button2.OnClick=()=>{this.form.reset(this.BaseDto)}})}ngOnInit(){this.form=this.fb.group({Id:[null],Name:[null,o.q.required],DisplayName:[null,o.q.required],Description:[null],Enabled:[],AllowedAccessTokenSigningAlgorithms:[],ShowInDiscoveryDocument:[],Secrets:[[]],Scopes:[[]],UserClaims:[[]],Properties:[]})}onOk(e){e.setHours(23,59,0,0)}Save(){console.log(this),"create"==this.Id?this.idService.CreateApiResource(this.form.value).subscribe():this.idService.UpdateApiResource(this.form.value).subscribe()}setApiResource(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(t=>{t.Header.Title="ApiResource",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create ApiResource",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}Reload(){this.idService.GetApiResource(this.Id).subscribe(e=>{this.setApiResource(e),this.idService.ReLoadUsers()})}set BaseDto(e){this._baseDto=JSON.parse(JSON.stringify(e))}get BaseDto(){return this._baseDto}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(o.e),b.Pb(s.a),b.Pb(G),b.Pb(b.h))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","DisplayName"],["nz-input","","formControlName","DisplayName","id","DisplayName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],["formControlName","Secrets",2,"height","200px"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["nzAccordion","",3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["nz-checkbox","","formControlName","ShowInDiscoveryDocument"],["nz-checkbox","","formControlName","AllowedAccessTokenSigningAlgorithms"],["nzHeader","User Claims",1,"small-padding"],["header","Name","formControlName","UserClaims",2,"height","300px"],["ScopesTitle",""],["nz-tab",""],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],[2,"display","flex","flex-direction","row","padding","3px","height","100%","width","100%"],["formControlName","Scopes"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Fc(0,In,52,16,"ng-container",0),b.hc(1,"async"),b.Fc(2,Mn,3,0,"ng-template",1)),2&e&&b.nc("ngIf",b.ic(1,1,t.user$))},directives:[i.o,L.e,o.r,o.n,h.b,o.h,ge.c,ge.a,p.c,p.a,h.d,h.a,m.b,o.d,o.m,o.g,m.a,Bt,Ce.a,Ce.c,f.a,Yt,ge.b,v.a,j.a,Wt,g.a,C.a],pipes:[i.b,i.i],styles:[""]}),e})()},{path:"identity-resources",component:(()=>{class e{constructor(e,t,n,i,o,s,c){this.uiService=e,this.idService=t,this.router=n,this.route=i,this.overlay=o,this.viewContainerRef=s,this.identityResourcesQuery=c,this.grid=(new r.d).SetColumns(e=>e.Default("Name").SetInitialWidth(200,!0).SetLeftFixed().SetCssClass("pValue"),e=>e.Default("DisplayName"),e=>e.Default("Description")).SetData(this.idService.GetAllIdentityResources()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.EditIdentityResource(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetDataImmutable(e=>e.Id),e.Set(e=>{e.Header.Title="IDP / Identity-Resources",e.Content.Scrollable=!1,e.Header.Icon="fa#far|address-card"})}AddIdentityResource(){var e;this.router.navigate(["create"],{relativeTo:this.route}),null===(e=this.contextMenu)||void 0===e||e.Close()}EditIdentityResource(e){var t;this.router.navigate([e.Id],{relativeTo:this.route}),null===(t=this.contextMenu)||void 0===t||t.Close()}RemoveIdentityResource(e){var t;this.idService.DeleteIdentityResource(...e.map(e=>e.Id)).subscribe(),null===(t=this.contextMenu)||void 0===t||t.Close()}ReloadIdentityResourcesList(){this.idService.ReLoadIdentityResources()}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(G),b.Pb(s.i),b.Pb(s.a),b.Pb(u.c),b.Pb(b.Q),b.Pb(B))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&b.Lc(Dn,1),2&e){let e;b.uc(e=b.ec())&&(t.itemsContextMenu=e.first)}},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Qb(0,"ag-grid-angular",0),b.Fc(1,Hn,6,2,"ng-template",null,1,b.Gc),b.Fc(3,Bn,3,0,"ng-template",2)),2&e&&b.nc("dbGrid",t.grid)},directives:[_.a,r.b,L.e,E.c,v.a,E.e,j.a,i.o,g.a,C.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),e})()},{path:"identity-resources/:id",component:(()=>{class e{constructor(e,t,n,i,o){this.uiService=e,this.fb=t,this.route=n,this.idService=i,this.cref=o,this.user$=Object(me.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(c.a)(([e,t,n])=>(this.Id=e.get("id"),this.idService.GetIdentityResource(this.Id))),Object(fe.a)(),Object(x.a)(e=>this.setIdentityResource(e))),this.showDebugInformations$=this.uiService.showDebugInformations$,e.Set(e=>{e.Header.Title="IdentityResource",e.Content.Scrollable=!1,e.Header.Icon="fa#cubes",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=()=>this.Save(),e.Footer.Button2.OnClick=()=>{this.form.reset(this.BaseDto)}})}ngOnInit(){this.form=this.fb.group({Id:[null],Enabled:[],Name:[null,o.q.required],DisplayName:[null,o.q.required],Description:[null],Required:[],Emphasize:[],ShowInDiscoveryDocument:[],UserClaims:[[]],Properties:[]})}onOk(e){e.setHours(23,59,0,0)}Save(){console.log(this),"create"==this.Id?this.idService.CreateIdentityResource(this.form.value).subscribe():this.idService.UpdateIdentityResource(this.form.value).subscribe()}setIdentityResource(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(t=>{t.Header.Title="IdentityResource",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create IdentityResource",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}Reload(){this.idService.GetIdentityResource(this.Id).subscribe(e=>{this.setIdentityResource(e),this.idService.ReLoadUsers()})}set BaseDto(e){this._baseDto=JSON.parse(JSON.stringify(e))}get BaseDto(){return this._baseDto}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(o.e),b.Pb(s.a),b.Pb(G),b.Pb(b.h))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","DisplayName"],["nz-input","","formControlName","DisplayName","id","DisplayName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["nzAccordion","",3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["nz-checkbox","","formControlName","Required"],["nz-checkbox","","formControlName","Emphasize"],["nz-checkbox","","formControlName","ShowInDiscoveryDocument"],["nzHeader","User Claims"],["header","Type","formControlName","UserClaims","no-scrollbar","",2,"height","300px"],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Fc(0,Ln,45,14,"ng-container",0),b.hc(1,"async"),b.Fc(2,En,3,0,"ng-template",1)),2&e&&b.nc("ngIf",b.ic(1,1,t.user$))},directives:[i.o,L.e,o.r,o.n,h.b,o.h,ge.c,ge.a,p.c,p.a,h.d,h.a,m.b,o.d,o.m,o.g,m.a,Ce.a,Ce.c,f.a,Yt,v.a,j.a,g.a,C.a],pipes:[i.b,i.i],styles:[""]}),e})()},{path:"api-scopes",component:(()=>{class e{constructor(e,t,n,i,o,s,c){this.uiService=e,this.idService=t,this.router=n,this.route=i,this.overlay=o,this.viewContainerRef=s,this.apiResourcesQuery=c,this.grid=(new r.d).SetColumns(e=>e.Default("Name").SetInitialWidth(200,!0).SetLeftFixed().SetCssClass("pValue"),e=>e.Default("DisplayName"),e=>e.Default("Description")).SetData(this.idService.GetAllApiScopes()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.EditApiScope(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetDataImmutable(e=>e.Id),e.Set(e=>{e.Header.Title="IDP / Api-Scopes",e.Content.Scrollable=!1,e.Header.Icon="fa#cube"})}AddApiScope(){var e;this.router.navigate(["create"],{relativeTo:this.route}),null===(e=this.contextMenu)||void 0===e||e.Close()}EditApiScope(e){var t;this.router.navigate([e.Id],{relativeTo:this.route}),null===(t=this.contextMenu)||void 0===t||t.Close()}RemoveApiScope(e){var t;this.idService.DeleteApiScope(...e.map(e=>e.Id)).subscribe(),null===(t=this.contextMenu)||void 0===t||t.Close()}ReloadApiScopesList(){this.idService.ReLoadApiScopes()}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(G),b.Pb(s.i),b.Pb(s.a),b.Pb(u.c),b.Pb(b.Q),b.Pb(T))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&b.Lc(jn,1),2&e){let e;b.uc(e=b.ec())&&(t.itemsContextMenu=e.first)}},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Qb(0,"ag-grid-angular",0),b.Fc(1,qn,6,2,"ng-template",null,1,b.Gc),b.Fc(3,Jn,3,0,"ng-template",2)),2&e&&b.nc("dbGrid",t.grid)},directives:[_.a,r.b,L.e,E.c,v.a,E.e,j.a,i.o,g.a,C.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),e})()},{path:"api-scopes/:id",component:(()=>{class e{constructor(e,t,n,i,o){this.uiService=e,this.fb=t,this.route=n,this.idService=i,this.cref=o,this.user$=Object(me.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(c.a)(([e,t,n])=>(this.Id=e.get("id"),this.idService.GetApiScope(this.Id))),Object(fe.a)(),Object(x.a)(e=>this.setApiScope(e))),this.showDebugInformations$=this.uiService.showDebugInformations$,e.Set(e=>{e.Header.Title="ApiScope",e.Content.Scrollable=!1,e.Header.Icon="fa#cube",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=()=>this.Save(),e.Footer.Button2.OnClick=()=>{this.form.reset(this.BaseDto)}})}ngOnInit(){this.form=this.fb.group({Id:[null],Enabled:[],Name:[null,o.q.required],DisplayName:[null,o.q.required],Description:[null],Required:[],Emphasize:[],ShowInDiscoveryDocument:[],UserClaims:[[]],Properties:[]})}onOk(e){e.setHours(23,59,0,0)}Save(){console.log(this),"create"==this.Id?this.idService.CreateApiScope(this.form.value).subscribe():this.idService.UpdateApiScope(this.form.value).subscribe()}setApiScope(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(t=>{t.Header.Title="ApiScope",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create ApiScope",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}Reload(){this.idService.GetApiScope(this.Id).subscribe(e=>{this.setApiScope(e),this.idService.ReLoadUsers()})}set BaseDto(e){this._baseDto=JSON.parse(JSON.stringify(e))}get BaseDto(){return this._baseDto}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(o.e),b.Pb(s.a),b.Pb(G),b.Pb(b.h))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","DisplayName"],["nz-input","","formControlName","DisplayName","id","DisplayName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["nzAccordion","",3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["nz-checkbox","","formControlName","Required"],["nz-checkbox","","formControlName","Emphasize"],["nz-checkbox","","formControlName","ShowInDiscoveryDocument"],["nzHeader","User Claims"],["header","Type","formControlName","UserClaims","no-scrollbar","",2,"height","300px"],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Fc(0,ti,45,14,"ng-container",0),b.hc(1,"async"),b.Fc(2,ni,3,0,"ng-template",1)),2&e&&b.nc("ngIf",b.ic(1,1,t.user$))},directives:[i.o,L.e,o.r,o.n,h.b,o.h,ge.c,ge.a,p.c,p.a,h.d,h.a,m.b,o.d,o.m,o.g,m.a,Ce.a,Ce.c,f.a,Yt,v.a,j.a,g.a,C.a],pipes:[i.b,i.i],styles:[""]}),e})()},{path:"authentication-providers",component:(()=>{class e{constructor(e,t,n,i,o,s){this.uiService=e,this.idService=t,this.router=n,this.route=i,this.overlay=o,this.viewContainerRef=s,this.grid=(new r.d).SetColumns(e=>e.Default("Name").SetInitialWidth(200,!0).SetLeftFixed().SetCssClass("pValue"),e=>e.Default("DisplayName"),e=>e.Default("Description")).SetData(this.idService.GetAllAuthenticationProvidersList()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.Edit(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetDataImmutable(e=>e.Id),e.Set(e=>{e.Header.Title="IDP / Authentication Providers",e.Content.Scrollable=!1,e.Header.Icon="fa#shield-alt"})}Add(){var e;this.router.navigate(["create"],{relativeTo:this.route}),null===(e=this.contextMenu)||void 0===e||e.Close()}Edit(e){var t;this.router.navigate([e.Id],{relativeTo:this.route}),null===(t=this.contextMenu)||void 0===t||t.Close()}Remove(e){var t;this.idService.DeleteAuthenticationProvider(...e.map(e=>e.Id)).subscribe(),null===(t=this.contextMenu)||void 0===t||t.Close()}Reload(){this.idService.ReLoadAuthenticationProviders()}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(G),b.Pb(s.i),b.Pb(s.a),b.Pb(u.c),b.Pb(b.Q))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&b.Lc(ii,1),2&e){let e;b.uc(e=b.ec())&&(t.itemsContextMenu=e.first)}},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Qb(0,"ag-grid-angular",0),b.Fc(1,ri,6,2,"ng-template",null,1,b.Gc),b.Fc(3,ci,3,0,"ng-template",2)),2&e&&b.nc("dbGrid",t.grid)},directives:[_.a,r.b,L.e,E.c,v.a,E.e,j.a,i.o,g.a,C.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),e})()},{path:"authentication-providers/:id",component:(()=>{class e{constructor(e,t,n,i,o){this.uiService=e,this.fb=t,this.route=n,this.idService=i,this.cref=o,this.provider$=Object(me.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(c.a)(([e,t,n])=>(this.Id=e.get("id"),this.idService.GetAuthenticationProvider(this.Id))),Object(fe.a)(),Object(x.a)(e=>this.setProvider(e))),this.showDebugInformations$=this.uiService.showDebugInformations$,e.Set(e=>{e.Header.Title="Authentication Provider",e.Content.Scrollable=!1,e.Header.Icon="fa#shield-alt",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=()=>this.Save(),e.Footer.Button2.OnClick=()=>{this.form.reset(this.BaseDto)}})}ngOnInit(){this.form=this.fb.group({Id:[null],Type:[null],Enabled:[!1],Name:[null,o.q.required],DisplayName:[null,o.q.required],Description:[null],Parameters:[]})}Save(){console.log(this),"create"==this.Id?this.idService.CreateAuthenticationProvider(this.form.value).subscribe():this.idService.UpdateAuthenticationProvider(this.form.value).subscribe()}setProvider(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(t=>{t.Header.Title="Authentication Provider",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create ApiScope",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}Reload(){this.idService.GetAuthenticationProvider(this.Id).subscribe(e=>{this.setProvider(e),this.idService.ReLoadAuthenticationProviders()})}set BaseDto(e){this._baseDto=JSON.parse(JSON.stringify(e))}get BaseDto(){return this._baseDto}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(S.a),b.Pb(o.e),b.Pb(s.a),b.Pb(G),b.Pb(b.h))},e.\u0275cmp=b.Jb({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","DisplayName"],["nz-input","","formControlName","DisplayName","id","DisplayName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["nzAccordion","",3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["formControlName","Type"],["nzValue","Windows","nzLabel","Windows"],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(b.Fc(0,hi,39,14,"ng-container",0),b.hc(1,"async"),b.Fc(2,pi,3,0,"ng-template",1)),2&e&&b.nc("ngIf",b.ic(1,1,t.provider$))},directives:[i.o,L.e,o.r,o.n,h.b,o.h,ge.c,ge.a,p.c,p.a,h.d,h.a,m.b,o.d,o.m,o.g,m.a,Ce.a,Ce.c,f.a,At.b,At.a,v.a,j.a,g.a,C.a],pipes:[i.b,i.i],styles:[""]}),e})()}];let fi=(()=>{class e{}return e.\u0275mod=b.Nb({type:e}),e.\u0275inj=b.Mb({factory:function(t){return new(t||e)},imports:[[s.l.forChild(mi)],s.l]}),e})();var gi=n("FG6W");let Ci=(()=>{class e{}return e.\u0275mod=b.Nb({type:e}),e.\u0275inj=b.Mb({factory:function(t){return new(t||e)},imports:[[i.c,o.p,o.j,fi,u.a,r.c,gi.a]]}),e})()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{zvh3:function(e,t,n){"use strict";n.r(t),n.d(t,"GlobalVariablesModule",(function(){return ct}));var i=n("2kYt"),r=n("sEIs"),a=n("EM62"),o=n("ZF+8"),s=n("YtkY"),l=n("xVbo"),c=n("NWgr");class d{}var h=n("cJ9h"),u=n("J+dc"),b=n("8j5Y"),p=n("TLy2"),m=n("C05f");class f{}let g=(()=>{class e{constructor(e){this.messages=e,this.rootNodeSubject$=new m.a(new d),this.rootNode$=this.rootNodeSubject$.asObservable(),this.SelectedFolderSubject$=new m.a(null),this.SelectedFolder$=this.SelectedFolderSubject$.asObservable(),this.SelectedFolderItemsSubject$=new m.a(null),this.SelectedFolderItems$=this.SelectedFolderItemsSubject$.asObservable(),this.messages.RunOnEveryReconnect(()=>this.GetFolderTree().subscribe()),this.messages.Stream("Variables.Subscribe").pipe(Object(h.b)(e=>this.GetFolderTree())).subscribe(),this.GetFolderTree().subscribe()}GetFolderTree(){return this.messages.Invoke("Variables.GetFolderTree").pipe(Object(u.a)(1),Object(b.a)(e=>{this.rootNodeSubject$.next(e)}))}GetVariablesInSelectedFolder(){return this.messages.Invoke("Variables.GetVariablesInParent",this.SelectedFolderSubject$.getValue().Path).pipe(Object(u.a)(1),Object(b.a)(e=>this.SelectedFolderItemsSubject$.next(e)))}NewFolder(e,t){return console.log(e,t),this.messages.Invoke("Variables.NewFolder",e,t).pipe(Object(u.a)(1))}RenameFolder(e,t,n){return this.messages.Invoke("Variables.RenameFolder",e,t,n).pipe(Object(u.a)(1))}RemoveFolder(e,t){return this.messages.Invoke("Variables.RemoveFolder",e,t).pipe(Object(u.a)(1))}GetVariable(e,t){return this.messages.Invoke("Variables.GetVariable",e,t).pipe(Object(u.a)(1))}UpdateVariableContent(e,t,n){return console.log("Variables.UpdateVariableContent",e,t,n),this.messages.Invoke("Variables.UpdateVariableContent",e,t,n).pipe(Object(u.a)(1),Object(p.a)(e=>this.GetVariablesInSelectedFolder()))}CreateVariable(e){return this.messages.Invoke("Variables.CreateVariable",e).pipe(Object(u.a)(1),Object(p.a)(e=>this.GetVariablesInSelectedFolder()))}RemoveVariable(e,t){return this.messages.Invoke("Variables.RemoveVariable",e,t).pipe(Object(u.a)(1),Object(p.a)(e=>this.GetVariablesInSelectedFolder()))}GetTypings(){return this.messages.Invoke("Variables.GetTypings").pipe(Object(u.a)(1))}SetSelectedFolder(e){this.SelectedFolderSubject$.next(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Xb(o.d))},e.\u0275prov=a.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=n("5m6l"),x=n("B0q8"),S=n("ZTXN"),C=n("IdLP"),z=n("mWib");const P=["gutterEls"];function M(e,t){if(1&e){const e=a.Ub();a.Tb(0,"div",2,3),a.bc("mousedown",(function(t){a.vc(e);const n=a.ec().index;return a.ec().startDragging(t,2*n+1,n+1)}))("touchstart",(function(t){a.vc(e);const n=a.ec().index;return a.ec().startDragging(t,2*n+1,n+1)}))("mouseup",(function(t){a.vc(e);const n=a.ec().index;return a.ec().clickGutter(t,n+1)}))("touchend",(function(t){a.vc(e);const n=a.ec().index;return a.ec().clickGutter(t,n+1)})),a.Ob(2,"div",4),a.Sb()}if(2&e){const e=a.ec().index,t=a.ec();a.Bc("flex-basis",t.gutterSize,"px")("order",2*e+1)}}function O(e,t){1&e&&a.Dc(0,M,3,4,"div",1),2&e&&a.lc("ngIf",!1===t.last)}const A=["*"];function _(e){return void 0!==e.changedTouches&&e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:void 0!==e.clientX&&void 0!==e.clientY?{x:e.clientX,y:e.clientY}:null}function w(e,t){const n=e.nativeElement.getBoundingClientRect();return"horizontal"===t?n.width:n.height}function y(e){return"boolean"==typeof e?e:"false"!==e}function k(e,t){return null==e?t:(e=Number(e),!isNaN(e)&&e>=0?e:t)}function T(e,t){if("percent"===e){const e=t.reduce((e,t)=>null!==t?e+t:e,0);return t.every(e=>null!==e)&&e>99.9&&e<100.1}if("pixel"===e)return 1===t.filter(e=>null===e).length}function F(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.minSize?null:e.component.minSize>e.size?e.size:e.component.minSize}function N(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.maxSize?null:e.component.maxSize<e.size?e.size:e.component.maxSize}function D(e,t,n,i){return t.reduce((t,n)=>{const r=function(e,t,n,i){return 0===n?{areaSnapshot:t,pixelAbsorb:0,percentAfterAbsorption:t.sizePercentAtStart,pixelRemain:0}:0===t.sizePixelAtStart&&n<0?{areaSnapshot:t,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:n}:"percent"===e?function(e,t,n){const i=(e.sizePixelAtStart+t)/n*100;if(t>0){if(null!==e.area.maxSize&&i>e.area.maxSize){const i=e.area.maxSize/100*n;return{areaSnapshot:e,pixelAbsorb:i,percentAfterAbsorption:e.area.maxSize,pixelRemain:e.sizePixelAtStart+t-i}}return{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:i>100?100:i,pixelRemain:0}}if(t<0){if(null!==e.area.minSize&&i<e.area.minSize){const i=e.area.minSize/100*n;return{areaSnapshot:e,pixelAbsorb:i,percentAfterAbsorption:e.area.minSize,pixelRemain:e.sizePixelAtStart+t-i}}return i<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:t+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:i,pixelRemain:0}}}(t,n,i):"pixel"===e?function(e,t,n){const i=e.sizePixelAtStart+t;return t>0?null!==e.area.maxSize&&i>e.area.maxSize?{areaSnapshot:e,pixelAbsorb:e.area.maxSize-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:i-e.area.maxSize}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:-1,pixelRemain:0}:t<0?null!==e.area.minSize&&i<e.area.minSize?{areaSnapshot:e,pixelAbsorb:e.area.minSize+t-i,percentAfterAbsorption:-1,pixelRemain:i-e.area.minSize}:i<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:t+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(t,n):void 0}(e,n,t.remain,i);return t.list.push(r),t.remain=r.pixelRemain,t},{remain:n,list:[]})}function E(e,t){"percent"===e?t.areaSnapshot.area.size=t.percentAfterAbsorption:"pixel"===e&&null!==t.areaSnapshot.area.size&&(t.areaSnapshot.area.size=t.areaSnapshot.sizePixelAtStart+t.pixelAbsorb)}let I=(()=>{class e{constructor(e,t,n,i){this.ngZone=e,this.elRef=t,this.cdRef=n,this.renderer=i,this._direction="horizontal",this._unit="percent",this._gutterSize=11,this._gutterStep=1,this._restrictMove=!1,this._useTransition=!1,this._disabled=!1,this._dir="ltr",this._gutterDblClickDuration=0,this.dragStart=new a.n(!1),this.dragEnd=new a.n(!1),this.gutterClick=new a.n(!1),this.gutterDblClick=new a.n(!1),this.dragProgressSubject=new S.a,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hidedAreas=[],this._clickTimeout=null,this.direction=this._direction}set direction(e){this._direction="vertical"===e?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,"as-"+this._direction),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}get direction(){return this._direction}set unit(e){this._unit="pixel"===e?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,"as-"+this._unit),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}get unit(){return this._unit}set gutterSize(e){this._gutterSize=k(e,11),this.build(!1,!1)}get gutterSize(){return this._gutterSize}set gutterStep(e){this._gutterStep=k(e,1)}get gutterStep(){return this._gutterStep}set restrictMove(e){this._restrictMove=y(e)}get restrictMove(){return this._restrictMove}set useTransition(e){this._useTransition=y(e),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}get useTransition(){return this._useTransition}set disabled(e){this._disabled=y(e),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}get disabled(){return this._disabled}set dir(e){this._dir="rtl"===e?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}get dir(){return this._dir}set gutterDblClickDuration(e){this._gutterDblClickDuration=k(e,0)}get gutterDblClickDuration(){return this._gutterDblClickDuration}get transitionEnd(){return new C.a(e=>this.transitionEndSubscriber=e).pipe(Object(z.a)(20))}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>this.renderer.addClass(this.elRef.nativeElement,"as-init"))})}getNbGutters(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}addArea(e){const t={component:e,order:0,size:0,minSize:null,maxSize:null};!0===e.visible?(this.displayedAreas.push(t),this.build(!0,!0)):this.hidedAreas.push(t)}removeArea(e){if(this.displayedAreas.some(t=>t.component===e)){const t=this.displayedAreas.find(t=>t.component===e);this.displayedAreas.splice(this.displayedAreas.indexOf(t),1),this.build(!0,!0)}else if(this.hidedAreas.some(t=>t.component===e)){const t=this.hidedAreas.find(t=>t.component===e);this.hidedAreas.splice(this.hidedAreas.indexOf(t),1)}}updateArea(e,t,n){!0===e.visible&&this.build(t,n)}showArea(e){const t=this.hidedAreas.find(t=>t.component===e);if(void 0===t)return;const n=this.hidedAreas.splice(this.hidedAreas.indexOf(t),1);this.displayedAreas.push(...n),this.build(!0,!0)}hideArea(e){const t=this.displayedAreas.find(t=>t.component===e);if(void 0===t)return;const n=this.displayedAreas.splice(this.displayedAreas.indexOf(t),1);n.forEach(e=>{e.order=0,e.size=0}),this.hidedAreas.push(...n),this.build(!0,!0)}getVisibleAreaSizes(){return this.displayedAreas.map(e=>null===e.size?"*":e.size)}setVisibleAreaSizes(e){if(e.length!==this.displayedAreas.length)return!1;const t=e.map(e=>k(e,null));return!1!==T(this.unit,t)&&(this.displayedAreas.forEach((e,n)=>e.component._size=t[n]),this.build(!1,!0),!0)}build(e,t){if(this.stopDragging(),!0===e&&(this.displayedAreas.every(e=>null!==e.component.order)&&this.displayedAreas.sort((e,t)=>e.component.order-t.component.order),this.displayedAreas.forEach((e,t)=>{e.order=2*t,e.component.setStyleOrder(e.order)})),!0===t){const e=T(this.unit,this.displayedAreas.map(e=>e.component.size));switch(this.unit){case"percent":{const t=100/this.displayedAreas.length;this.displayedAreas.forEach(n=>{n.size=e?n.component.size:t,n.minSize=F(n),n.maxSize=N(n)});break}case"pixel":if(e)this.displayedAreas.forEach(e=>{e.size=e.component.size,e.minSize=F(e),e.maxSize=N(e)});else{const e=this.displayedAreas.filter(e=>null===e.component.size);if(0===e.length&&this.displayedAreas.length>0)this.displayedAreas.forEach((e,t)=>{e.size=0===t?null:e.component.size,e.minSize=0===t?null:F(e),e.maxSize=0===t?null:N(e)});else if(e.length>1){let e=!1;this.displayedAreas.forEach(t=>{null===t.component.size?!1===e?(t.size=null,t.minSize=null,t.maxSize=null,e=!0):(t.size=100,t.minSize=null,t.maxSize=null):(t.size=t.component.size,t.minSize=F(t),t.maxSize=N(t))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}refreshStyleSizes(){if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{const e=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(t=>{t.component.setStyleFlex(0,0,`calc( ${t.size}% - ${t.size/100*e}px )`,null!==t.minSize&&t.minSize===t.size,null!==t.maxSize&&t.maxSize===t.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(e=>{null===e.size?e.component.setStyleFlex(1,1,1===this.displayedAreas.length?"100%":"auto",!1,!1):1===this.displayedAreas.length?e.component.setStyleFlex(0,0,"100%",!1,!1):e.component.setStyleFlex(0,0,e.size+"px",null!==e.minSize&&e.minSize===e.size,null!==e.maxSize&&e.maxSize===e.size)})}clickGutter(e,t){const n=_(e);this.startPoint&&this.startPoint.x===n.x&&this.startPoint.y===n.y&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",t),this.stopDragging()):this._clickTimeout=window.setTimeout(()=>{this._clickTimeout=null,this.notify("click",t),this.stopDragging()},this.gutterDblClickDuration))}startDragging(e,t,n){e.preventDefault(),e.stopPropagation(),this.startPoint=_(e),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.snapshot={gutterNum:n,lastSteppedOffset:0,allAreasSizePixel:w(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(e=>{const n={area:e,sizePixelAtStart:w(e.component.elRef,this.direction),sizePercentAtStart:"percent"===this.unit?e.size:-1};e.order<t?!0===this.restrictMove?this.snapshot.areasBeforeGutter=[n]:this.snapshot.areasBeforeGutter.unshift(n):e.order>t&&(!0===this.restrictMove?0===this.snapshot.areasAfterGutter.length&&(this.snapshot.areasAfterGutter=[n]):this.snapshot.areasAfterGutter.push(n))}),this.snapshot.allInvolvedAreasSizePercent=[...this.snapshot.areasBeforeGutter,...this.snapshot.areasAfterGutter].reduce((e,t)=>e+t.sizePercentAtStart,0),0!==this.snapshot.areasBeforeGutter.length&&0!==this.snapshot.areasAfterGutter.length&&(this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(()=>{this.dragListeners.push(this.renderer.listen("document","mousemove",this.dragEvent.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchmove",this.dragEvent.bind(this)))}),this.displayedAreas.forEach(e=>e.component.lockEvents()),this.isDragging=!0,this.renderer.addClass(this.elRef.nativeElement,"as-dragging"),this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.notify("start",this.snapshot.gutterNum)))}dragEvent(e){if(e.preventDefault(),e.stopPropagation(),null!==this._clickTimeout&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1===this.isDragging)return;if(this.endPoint=_(e),null===this.endPoint)return;let t="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&(t=-t);const n=Math.round(t/this.gutterStep)*this.gutterStep;if(n===this.snapshot.lastSteppedOffset)return;this.snapshot.lastSteppedOffset=n;let i=D(this.unit,this.snapshot.areasBeforeGutter,-n,this.snapshot.allAreasSizePixel),r=D(this.unit,this.snapshot.areasAfterGutter,n,this.snapshot.allAreasSizePixel);if(0!==i.remain&&0!==r.remain?Math.abs(i.remain)===Math.abs(r.remain)||(Math.abs(i.remain)>Math.abs(r.remain)?r=D(this.unit,this.snapshot.areasAfterGutter,n+i.remain,this.snapshot.allAreasSizePixel):i=D(this.unit,this.snapshot.areasBeforeGutter,-(n-r.remain),this.snapshot.allAreasSizePixel)):0!==i.remain?r=D(this.unit,this.snapshot.areasAfterGutter,n+i.remain,this.snapshot.allAreasSizePixel):0!==r.remain&&(i=D(this.unit,this.snapshot.areasBeforeGutter,-(n-r.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){const e=[...i.list,...r.list],t=e.find(e=>0!==e.percentAfterAbsorption&&e.percentAfterAbsorption!==e.areaSnapshot.area.minSize&&e.percentAfterAbsorption!==e.areaSnapshot.area.maxSize);t&&(t.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-e.filter(e=>e!==t).reduce((e,t)=>e+t.percentAfterAbsorption,0))}i.list.forEach(e=>E(this.unit,e)),r.list.forEach(e=>E(this.unit,e)),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}stopDragging(e){if(e&&(e.preventDefault(),e.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(e=>e.component.unlockEvents());this.dragListeners.length>0;){const e=this.dragListeners.pop();e&&e()}this.isDragging=!1,!this.endPoint||this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y||this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.startPoint=null,this.endPoint=null,this.isWaitingClear=!1})})}}notify(e,t){const n=this.getVisibleAreaSizes();"start"===e?this.dragStart.emit({gutterNum:t,sizes:n}):"end"===e?this.dragEnd.emit({gutterNum:t,sizes:n}):"click"===e?this.gutterClick.emit({gutterNum:t,sizes:n}):"dblclick"===e?this.gutterDblClick.emit({gutterNum:t,sizes:n}):"transitionEnd"===e?this.transitionEndSubscriber&&this.ngZone.run(()=>this.transitionEndSubscriber.next(n)):"progress"===e&&this.dragProgressSubject.next({gutterNum:t,sizes:n})}ngOnDestroy(){this.stopDragging()}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(a.z),a.Nb(a.l),a.Nb(a.h),a.Nb(a.E))},e.\u0275cmp=a.Hb({type:e,selectors:[["as-split"]],viewQuery:function(e,t){var n;1&e&&a.Jc(P,!0),2&e&&a.sc(n=a.cc())&&(t.gutterEls=n)},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration"},outputs:{dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick",transitionEnd:"transitionEnd"},exportAs:["asSplit"],ngContentSelectors:A,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],["class","as-split-gutter",3,"flex-basis","order","mousedown","touchstart","mouseup","touchend",4,"ngIf"],[1,"as-split-gutter",3,"mousedown","touchstart","mouseup","touchend"],["gutterEls",""],[1,"as-split-gutter-icon"]],template:function(e,t){1&e&&(a.kc(),a.jc(0),a.Dc(1,O,1,1,"ng-template",0)),2&e&&(a.zb(1),a.lc("ngForOf",t.displayedAreas))},directives:[i.n,i.o],styles:['[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url("")}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area, .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%]{transition:flex-basis .3s}'],changeDetection:0}),e})(),V=(()=>{class e{constructor(e,t,n,i){this.ngZone=e,this.elRef=t,this.renderer=n,this.split=i,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}set order(e){this._order=k(e,null),this.split.updateArea(this,!0,!1)}get order(){return this._order}set size(e){this._size=k(e,null),this.split.updateArea(this,!1,!0)}get size(){return this._size}set minSize(e){this._minSize=k(e,null),this.split.updateArea(this,!1,!0)}get minSize(){return this._minSize}set maxSize(e){this._maxSize=k(e,null),this.split.updateArea(this,!1,!0)}get maxSize(){return this._maxSize}set lockSize(e){this._lockSize=y(e),this.split.updateArea(this,!1,!0)}get lockSize(){return this._lockSize}set visible(e){this._visible=y(e),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}get visible(){return this._visible}ngOnInit(){this.split.addArea(this),this.ngZone.runOutsideAngular(()=>{this.transitionListener=this.renderer.listen(this.elRef.nativeElement,"transitionend",e=>{"flex-basis"===e.propertyName&&this.split.notify("transitionEnd",-1)})})}setStyleOrder(e){this.renderer.setStyle(this.elRef.nativeElement,"order",e)}setStyleFlex(e,t,n,i,r){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",e),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",t),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",n),!0===i?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===r?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}lockEvents(){this.ngZone.runOutsideAngular(()=>{this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"selectstart",e=>!1)),this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"dragstart",e=>!1))})}unlockEvents(){for(;this.lockListeners.length>0;){const e=this.lockListeners.pop();e&&e()}}ngOnDestroy(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(a.z),a.Nb(a.l),a.Nb(a.E),a.Nb(I))},e.\u0275dir=a.Ib({type:e,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),e})(),R=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}static forChild(){return{ngModule:e,providers:[]}}}return e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})();var G=n("Pq5H"),j=n("1spV"),$=n("JbzU"),H=n("l+TO"),L=n("aZpo"),U=n("nIj0"),B=n("kuMc"),q=n("duTG"),Z=n("ZTwM");const J=["*"];let W=(()=>{class e{constructor(){this.ok=new a.n,this.cancel=new a.n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Hb({type:e,selectors:[["basic-modal"]],hostAttrs:[1,"flex-grow-column"],inputs:{variable:"variable",form:"form"},outputs:{ok:"ok",cancel:"cancel"},ngContentSelectors:J,decls:17,vars:1,consts:[[1,"ui","top","attached","segment","modal-header",2,"padding","10px !important","display","flex"],[2,"color","whitesmoke","margin","auto"],[2,"font-size","2em","font-weight","bold","min-height","1.4285em","line-height","1.4285em","color","whitesmoke","margin","auto"],["dbPortal","VariableModalHeader-Left"],["left","dbPortal"],[2,"font-size","0.8em","line-height","initial","color","#bbbbbb"],["dbPortal","ModalSubHeader"],[2,"flex-grow","1"],[2,"display","flex","flex-direction","column","justify-content","center"],["dbPortal","VariableModalHeader-Right"],[1,"ui","attached","segment","modal-content"],[1,"ui","bottom","attached","segment","modal-footer",2,"margin-bottom","0px"],["nz-button","","nzType","primary","nzBlock","",2,"margin-right","1px",3,"disabled","click"],["nz-button","","nzType","default","nzBlock","",1,"secondary",2,"margin-left","1px",3,"click"]],template:function(e,t){1&e&&(a.kc(),a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"div",2),a.Pb(3,3,4),a.Sb(),a.Tb(5,"div",5),a.Pb(6,6),a.Sb(),a.Sb(),a.Ob(7,"div",7),a.Tb(8,"div",8),a.Pb(9,9),a.Sb(),a.Sb(),a.Tb(10,"div",10),a.jc(11),a.Sb(),a.Tb(12,"div",11),a.Tb(13,"button",12),a.bc("click",(function(){return t.ok.next()})),a.Fc(14,"Save"),a.Sb(),a.Tb(15,"button",13),a.bc("click",(function(){return t.cancel.next()})),a.Fc(16,"Cancel"),a.Sb(),a.Sb()),2&e&&(a.zb(13),a.lc("disabled",!t.form.valid))},directives:[H.d,q.a,Z.a,j.a],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),e})();var Y=n("PlhU"),X=n("mybp"),K=n("Mr8s");function Q(e,t){if(1&e&&a.Fc(0),2&e){const e=a.ec();a.Hc(" ",e.form.value.Name," ")}}function ee(e,t){if(1&e&&a.Fc(0),2&e){const e=a.ec();a.Hc(" ",e.variable.Parent," ")}}function te(e,t){1&e&&(a.Tb(0,"div",8),a.Tb(1,"nz-form-item"),a.Ob(2,"input",9),a.Sb(),a.Sb()),2&e&&(a.zb(2),a.lc("dbAllowedCharacters","[a-zA-Z0-9_]"))}function ne(e,t){if(1&e&&(a.Tb(0,"div"),a.Fc(1),a.Sb()),2&e){const e=a.ec();a.zb(1),a.Hc(" ",e.error," ")}}let ie=(()=>{class e{constructor(e,t){this.fb=e,this.context=t,this.destroy$=new S.a,this.variable=t.data,this.create=!!this.context.metaData.create,this.form=this.fb.group({Name:[null,U.q.required],Content:[]}),this.form.patchValue(this.variable||{}),this.form.get("Name").valueChanges.pipe(Object(B.a)(this.destroy$)).subscribe(e=>{this.context.invoke("changed",null)})}ngOnInit(){}ok(){this.context.invoke("ok",this.form.value).subscribe(()=>{this.context.handle.Close()})}cancel(){this.context.handle.Close()}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(U.e),a.Nb(v.d))},e.\u0275cmp=a.Hb({type:e,selectors:[["ng-component"]],decls:10,vars:5,consts:[[3,"variable","form","ok","cancel"],["nz-form","",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["class","required field",4,"ngIf"],[1,"field",2,"flex-grow","1","display","flex","flex-direction","column"],["nz-input","","formControlName","Content"],[4,"ngIf"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(a.Tb(0,"basic-modal",0),a.bc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),a.Tb(1,"form",1),a.Dc(2,Q,1,1,"ng-template",2),a.Dc(3,ee,1,1,"ng-template",3),a.Dc(4,te,3,1,"div",4),a.Tb(5,"div",5),a.Tb(6,"label"),a.Fc(7,"Value"),a.Sb(),a.Ob(8,"input",6),a.Sb(),a.Dc(9,ne,2,1,"div",7),a.Sb(),a.Sb()),2&e&&(a.lc("variable",t.variable)("form",t.form),a.zb(1),a.lc("formGroup",t.form),a.zb(3),a.lc("ngIf",t.create),a.zb(5),a.lc("ngIf",t.error))},directives:[W,U.r,U.n,Y.b,U.h,H.e,i.o,X.b,U.d,U.m,U.g,K.c,Y.c,H.a,H.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),e})();var re=n("kZjU"),ae=n("ox+w");function oe(e,t){if(1&e&&a.Fc(0),2&e){const e=a.ec();a.Hc(" ",e.form.value.Name," ")}}function se(e,t){if(1&e&&a.Fc(0),2&e){const e=a.ec();a.Hc(" ",e.variable.Parent," ")}}function le(e,t){1&e&&(a.Tb(0,"div",8),a.Tb(1,"div",9),a.Fc(2," Type: "),a.Sb(),a.Tb(3,"div",10),a.Tb(4,"nz-select",11),a.Ob(5,"nz-option",12),a.Ob(6,"nz-option",13),a.Ob(7,"nz-option",14),a.Ob(8,"nz-option",15),a.Sb(),a.Sb(),a.Sb())}function ce(e,t){1&e&&(a.Tb(0,"div",16),a.Tb(1,"nz-form-item"),a.Ob(2,"input",17),a.Sb(),a.Sb()),2&e&&(a.zb(2),a.lc("dbAllowedCharacters","[a-zA-Z0-9_]"))}let de=(()=>{class e{constructor(e,t){this.fb=e,this.context=t,this.variable=t.data,this.create=!!this.context.metaData.create,this.raw=!!this.context.metaData.raw,this.form=this.fb.group({Name:[null,U.q.required],Content:[],Extension:[],Language:[{value:null,disabled:!(this.create||this.raw)}]}),null==this.variable.Content?this.variable.Content="":"object"==typeof this.variable.Content||this.variable.Content instanceof Array?this.variable.Content=JSON.stringify(this.variable.Content):"string"!=typeof this.variable.Content&&(this.variable.Content=""+this.variable.Content),this.form.patchValue(this.variable),this.form.get("Language").patchValue(this.getLanguage(this.variable.Extension))}ngOnInit(){}ok(){this.context.invoke("ok",this.form.value).subscribe(()=>{this.context.handle.Close()})}cancel(){this.context.handle.Close()}getLanguage(e){return e?e.startsWith(".")?re.d.GetLanguageFromFileExtension(e)||"plaintext":e.toLowerCase():"plaintext"}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(U.e),a.Nb(v.d))},e.\u0275cmp=a.Hb({type:e,selectors:[["ng-component"]],decls:8,vars:5,consts:[[3,"variable","form","ok","cancel"],[1,"ui","form",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["dbPortalTemplate","VariableModalHeader-Right"],["class","required field",4,"ngIf"],[1,"field","flex-grow-column"],["formControlName","Content",3,"language"],[2,"display","flex"],[2,"padding-right","10px","margin","auto"],[2,"width","180px"],["formControlName","Language",2,"width","100%"],["nzLabel","Plaintext","nzValue","plaintext"],["nzLabel","Json","nzValue","json"],["nzLabel","Xml","nzValue","xml"],["nzLabel","Html","nzValue","html"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(a.Tb(0,"basic-modal",0),a.bc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),a.Tb(1,"form",1),a.Dc(2,oe,1,1,"ng-template",2),a.Dc(3,se,1,1,"ng-template",3),a.Dc(4,le,9,0,"ng-template",4),a.Dc(5,ce,3,1,"div",5),a.Tb(6,"div",6),a.Ob(7,"db-editor",7),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.lc("variable",t.variable)("form",t.form),a.zb(1),a.lc("formGroup",t.form),a.zb(4),a.lc("ngIf",t.create),a.zb(2),a.lc("language",t.form.value.Language))},directives:[W,U.r,U.n,U.h,H.e,i.o,re.a,U.m,U.g,ae.b,ae.a,K.c,Y.c,X.b,U.d,H.a,H.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),e})();function he(e,t){if(1&e&&a.Fc(0),2&e){const e=a.ec();a.Hc(" ",e.form.value.Name," ")}}function ue(e,t){if(1&e&&a.Fc(0),2&e){const e=a.ec();a.Hc(" ",e.variable.Parent," ")}}function be(e,t){1&e&&(a.Tb(0,"div",12),a.Tb(1,"nz-form-item"),a.Ob(2,"input",13),a.Sb(),a.Sb()),2&e&&(a.zb(2),a.lc("dbAllowedCharacters","[a-zA-Z0-9_]"))}let pe=(()=>{class e{constructor(e,t){this.fb=e,this.context=t,this.variable=t.data,this.create=!!this.context.metaData.create,this.form=this.fb.group({Name:[null,U.q.required],Content:this.fb.group({UserName:[],Domain:[],Password:[]})}),this.form.patchValue(this.variable||{})}ngOnInit(){}ok(){this.context.invoke("ok",this.form.value).subscribe(()=>{this.context.handle.Close()})}cancel(){this.context.handle.Close()}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(U.e),a.Nb(v.d))},e.\u0275cmp=a.Hb({type:e,selectors:[["ng-component"]],decls:21,vars:5,consts:[[3,"variable","form","ok","cancel"],["nz-form","",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["class","required field",4,"ngIf"],["formGroupName","Content"],["nzRequired","","nzFor","Username",3,"nzSpan"],["nz-input","","formControlName","UserName","id","Username",2,"width","100%"],["nzSpan","5","nzFor","Domain"],["nz-input","","formControlName","Domain","id","Domain",2,"width","100%"],["nzSpan","5","nzRequired","","nzFor","Password"],["nz-input","","formControlName","Password","id","Password",2,"width","100%"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(a.Tb(0,"basic-modal",0),a.bc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),a.Tb(1,"form",1),a.Dc(2,he,1,1,"ng-template",2),a.Dc(3,ue,1,1,"ng-template",3),a.Dc(4,be,3,1,"div",4),a.Tb(5,"div",5),a.Tb(6,"nz-form-item"),a.Tb(7,"nz-form-label",6),a.Fc(8,"Username"),a.Sb(),a.Tb(9,"nz-form-control"),a.Ob(10,"input",7),a.Sb(),a.Sb(),a.Tb(11,"nz-form-item"),a.Tb(12,"nz-form-label",8),a.Fc(13,"Domain"),a.Sb(),a.Tb(14,"nz-form-control"),a.Ob(15,"input",9),a.Sb(),a.Sb(),a.Tb(16,"nz-form-item"),a.Tb(17,"nz-form-label",10),a.Fc(18,"Password"),a.Sb(),a.Tb(19,"nz-form-control"),a.Ob(20,"input",11),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.lc("variable",t.variable)("form",t.form),a.zb(1),a.lc("formGroup",t.form),a.zb(3),a.lc("ngIf",t.create),a.zb(3),a.lc("nzSpan",5))},directives:[W,U.r,U.n,Y.b,U.h,H.e,i.o,U.i,K.c,Y.c,K.a,Y.d,Y.a,X.b,U.d,U.m,U.g,H.a,H.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),e})();var me=n("rHEU");function fe(e,t){if(1&e&&a.Fc(0),2&e){const e=a.ec();a.Hc(" ",e.form.value.Name," ")}}function ge(e,t){if(1&e&&a.Fc(0),2&e){const e=a.ec();a.Hc(" ",e.variable.Parent," ")}}function ve(e,t){1&e&&(a.Tb(0,"div",7),a.Tb(1,"nz-form-item"),a.Ob(2,"input",8),a.Sb(),a.Sb()),2&e&&(a.zb(2),a.lc("dbAllowedCharacters","[a-zA-Z0-9_]"))}let xe=(()=>{class e{constructor(e,t){this.fb=e,this.context=t,this.destroy$=new S.a,this.variable=t.data,this.create=!!this.context.metaData.create,this.form=this.fb.group({Name:[null,U.q.required],Content:[]}),this.form.patchValue(this.variable||{}),this.form.get("Name").valueChanges.pipe(Object(B.a)(this.destroy$)).subscribe(e=>{this.context.invoke("changed",null)})}ngOnInit(){}ok(){this.context.invoke("ok",this.form.value).subscribe(()=>{this.context.handle.Close()})}cancel(){this.context.handle.Close()}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(U.e),a.Nb(v.d))},e.\u0275cmp=a.Hb({type:e,selectors:[["ng-component"]],decls:9,vars:5,consts:[[3,"variable","form","ok","cancel"],[1,"ui","form",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["class","required field",4,"ngIf"],[1,"field",2,"flex-grow","1","display","flex","flex-direction","column"],["formControlName","Content",2,"width","100%",3,"nzStep"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(a.Tb(0,"basic-modal",0),a.bc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),a.Tb(1,"form",1),a.Dc(2,fe,1,1,"ng-template",2),a.Dc(3,ge,1,1,"ng-template",3),a.Dc(4,ve,3,1,"div",4),a.Tb(5,"div",5),a.Tb(6,"label"),a.Fc(7,"Value"),a.Sb(),a.Ob(8,"nz-input-number",6),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.lc("variable",t.variable)("form",t.form),a.zb(1),a.lc("formGroup",t.form),a.zb(3),a.lc("ngIf",t.create),a.zb(4),a.lc("nzStep",1))},directives:[W,U.r,U.n,U.h,H.e,i.o,me.a,U.m,U.g,K.c,Y.c,X.b,U.d,H.a,H.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),e})();var Se=n("MaY1");function Ce(e,t){if(1&e&&a.Fc(0),2&e){const e=a.ec();a.Hc(" ",e.form.value.Name," ")}}function ze(e,t){if(1&e&&a.Fc(0),2&e){const e=a.ec();a.Hc(" ",e.variable.Parent," ")}}function Pe(e,t){1&e&&(a.Tb(0,"div",7),a.Tb(1,"nz-form-item"),a.Ob(2,"input",8),a.Sb(),a.Sb()),2&e&&(a.zb(2),a.lc("dbAllowedCharacters","[a-zA-Z0-9_]"))}let Me=(()=>{class e{constructor(e,t){this.fb=e,this.context=t,this.destroy$=new S.a,this.variable=t.data,this.create=!!this.context.metaData.create,this.form=this.fb.group({Name:[null,U.q.required],Content:[]}),this.form.patchValue(this.variable||{}),this.form.get("Name").valueChanges.pipe(Object(B.a)(this.destroy$)).subscribe(e=>{this.context.invoke("changed",null)})}ngOnInit(){}ok(){this.context.invoke("ok",this.form.value).subscribe(()=>{this.context.handle.Close()})}cancel(){this.context.handle.Close()}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(U.e),a.Nb(v.d))},e.\u0275cmp=a.Hb({type:e,selectors:[["ng-component"]],decls:8,vars:5,consts:[[3,"variable","form","ok","cancel"],[1,"ui","form",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["class","required field",4,"ngIf"],[1,"field"],["nz-checkbox","","formControlName","Content"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(a.Tb(0,"basic-modal",0),a.bc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),a.Tb(1,"form",1),a.Dc(2,Ce,1,1,"ng-template",2),a.Dc(3,ze,1,1,"ng-template",3),a.Dc(4,Pe,3,1,"div",4),a.Tb(5,"div",5),a.Tb(6,"label",6),a.Fc(7),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.lc("variable",t.variable)("form",t.form),a.zb(1),a.lc("formGroup",t.form),a.zb(3),a.lc("ngIf",t.create),a.zb(3),a.Hc("Value: ",t.form.value.Content||!1,""))},directives:[W,U.r,U.n,U.h,H.e,i.o,Se.a,U.m,U.g,K.c,Y.c,X.b,U.d,H.a,H.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),e})(),Oe=(()=>{class e{constructor(e,t){this.modal=e,this.componentFactoryResolver=t,this.AvailabeModalTypes=[{type:de,overlayConfig:{width:"80%",height:"90%"}}],this.ExtensionMapping={raw:de,string:ie,number:xe,boolean:Me,json:de,credential:pe}}GetModal(e){const t=this.ExtensionMapping[e]||this.ExtensionMapping.raw,n=this.AvailabeModalTypes.find(e=>e.type===t)||{type:t,overlayConfig:{width:"50%",maxWidth:"500px"}};return this.modal.FromComponent(n.type).SetModalOptions({componentFactoryResolver:this.componentFactoryResolver,overlayConfig:n.overlayConfig}).CloseOnOutsideClick()}}return e.\u0275fac=function(t){return new(t||e)(a.Xb(v.b),a.Xb(a.j))},e.\u0275prov=a.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ae=n("4e/d"),_e=n("W6oE"),we=n("XS/p"),ye=n("2rm1");const ke=["itemsContextMenu"],Te=["viewportContextMenu"];function Fe(e,t){if(1&e&&(a.Tb(0,"div",11),a.Fc(1),a.Sb()),2&e){const e=a.ec().$implicit;a.zb(1),a.Hc(" ",e.First.Name," ")}}function Ne(e,t){if(1&e){const e=a.Ub();a.Tb(0,"li",9),a.bc("click",(function(){a.vc(e);const t=a.ec().$implicit;return a.ec().OpenEditVariableModal(t.First)})),a.Ob(1,"db-icon",12),a.Fc(2," Edit "),a.Sb()}}function De(e,t){if(1&e){const e=a.Ub();a.Tb(0,"li",9),a.bc("click",(function(){a.vc(e);const t=a.ec().$implicit;return a.ec().RemoveVariable(t.SelectedData)})),a.Ob(1,"db-icon",13),a.Fc(2," Delete "),a.Sb()}}function Ee(e,t){1&e&&a.Ob(0,"li",6)}function Ie(e,t){if(1&e){const e=a.Ub();a.Tb(0,"li",9),a.bc("click",(function(){a.vc(e);const t=a.ec().$implicit;return a.ec().OpenEditVariableModal(t.First,!0)})),a.Fc(1," Edit Raw "),a.Sb()}}function Ve(e,t){if(1&e){const e=a.Ub();a.Tb(0,"ul",3),a.Dc(1,Fe,2,1,"div",4),a.Dc(2,Ne,3,0,"li",5),a.Dc(3,De,3,0,"li",5),a.Ob(4,"li",6),a.Tb(5,"li",7),a.Tb(6,"ul",8),a.Tb(7,"li",9),a.bc("click",(function(){return a.vc(e),a.ec().createVariable("string")})),a.Fc(8,"String"),a.Sb(),a.Tb(9,"li",9),a.bc("click",(function(){return a.vc(e),a.ec().createVariable("number")})),a.Fc(10,"Number"),a.Sb(),a.Tb(11,"li",9),a.bc("click",(function(){return a.vc(e),a.ec().createVariable("boolean")})),a.Fc(12,"Boolean"),a.Sb(),a.Tb(13,"li",9),a.bc("click",(function(){return a.vc(e),a.ec().createVariable("credential")})),a.Fc(14,"Credential"),a.Sb(),a.Tb(15,"li",9),a.bc("click",(function(){return a.vc(e),a.ec().createVariable("raw")})),a.Fc(16,"Raw"),a.Sb(),a.Sb(),a.Sb(),a.Dc(17,Ee,1,0,"li",10),a.Dc(18,Ie,2,0,"li",5),a.Sb()}if(2&e){const e=t.$implicit;a.zb(1),a.lc("ngIf",e.Single),a.zb(1),a.lc("ngIf",e.Single),a.zb(1),a.lc("ngIf",e.Any),a.zb(14),a.lc("ngIf",e.Single&&e.IsShiftPressed),a.zb(1),a.lc("ngIf",e.Single&&e.IsShiftPressed)}}function Re(e,t){if(1&e){const e=a.Ub();a.Tb(0,"ul",3),a.Tb(1,"li",7),a.Tb(2,"ul",8),a.Tb(3,"li",9),a.bc("click",(function(){return a.vc(e),a.ec().createVariable("string")})),a.Fc(4,"String"),a.Sb(),a.Tb(5,"li",9),a.bc("click",(function(){return a.vc(e),a.ec().createVariable("number")})),a.Fc(6,"Number"),a.Sb(),a.Tb(7,"li",9),a.bc("click",(function(){return a.vc(e),a.ec().createVariable("boolean")})),a.Fc(8,"Boolean"),a.Sb(),a.Tb(9,"li",9),a.bc("click",(function(){return a.vc(e),a.ec().createVariable("credential")})),a.Fc(10,"Credential"),a.Sb(),a.Tb(11,"li",9),a.bc("click",(function(){return a.vc(e),a.ec().createVariable("raw")})),a.Fc(12,"Raw"),a.Sb(),a.Sb(),a.Sb(),a.Sb()}}let Ge=(()=>{class e{constructor(e,t,n,i){this.overlay=e,this.viewContainerRef=t,this.variables=n,this.modalService=i,this.grid=(new L.d).SetColumns(e=>e.Default("Name"),e=>e.Default("Extension").SetHeader("Type").SetValueFormatter(e=>e.value).SetMinWidth(120).SetMaxWidth(120),e=>e.Date("CreatedAt",!0).SetMinWidth(140).SetMaxWidth(140),e=>e.Date("UpdatedAt",!0).SetMinWidth(140).SetMaxWidth(140)).SetGridOptions({rowSelection:"multiple",colResizeDefault:"shift"}).OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.api.selectNode(e.node);let n=new je(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{this.contextMenu=this.overlay.OpenContextMenu(e,this.viewportContextMenu,this.viewContainerRef,{})}).OnRowDoubleClicked(e=>{this.OpenEditVariableModal(e.data)}).OnGridSizeChange(e=>e.api.sizeColumnsToFit())}set Items(e){var t;null===(t=this.grid)||void 0===t||t.SetData(e)}OpenEditVariableModal(e,t=!1){this.variables.GetVariable(e.Parent,e.Name).subscribe(n=>{this.modalService.GetModal(t?"raw":n.Extension).SetData(n).SetMetaData({raw:t}).AddEventHandler("ok",i=>{let r=i.payload.Content;if(t)switch(e.Extension){case"credential":r=JSON.parse(r)}return this.variables.UpdateVariableContent(n.Parent,n.Name,r).pipe(Object(Ae.a)(e=>{throw e}))}).Open()})}createVariable(e){var t,n=new f;n.Parent=this.Path,this.modalService.GetModal(e).SetData(n).SetMetaData({create:!0}).OnClose(()=>{this.nameAlreadyExistsErrorToast=null}).AddEventHandler("ok",t=>{let n=t.payload;return n.Parent=this.Path,n.Extension?n.Extension.startsWith(".")||(n.Extension=re.d.GetDefaultFileExtension(n.Extension)):n.Extension=e,this.variables.CreateVariable(n).pipe(Object(Ae.a)(e=>{throw e}))}).Open(),null===(t=this.contextMenu)||void 0===t||t.Close()}RemoveVariable(e){e.forEach(e=>{this.variables.RemoveVariable(e.Parent,e.Name).subscribe()}),this.contextMenu.Close()}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(v.c),a.Nb(a.P),a.Nb(g),a.Nb(Oe))},e.\u0275cmp=a.Hb({type:e,selectors:[["variables-folder-content"]],viewQuery:function(e,t){var n;1&e&&(a.Jc(ke,!0),a.Jc(Te,!0)),2&e&&(a.sc(n=a.cc())&&(t.itemsContextMenu=n.first),a.sc(n=a.cc())&&(t.viewportContextMenu=n.first))},hostAttrs:[1,""],inputs:{Items:"Items",Path:"Path"},features:[a.yb([Oe])],decls:5,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["viewportContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["class","context-menu-header",4,"ngIf"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-divider",""],["nz-submenu","","nzTitle","New Variable","nzIcon","field-binary"],[1,"context-menu"],["nz-menu-item","",3,"click"],["nz-menu-divider","",4,"ngIf"],[1,"context-menu-header"],["icon","edit"],["icon","delete"]],template:function(e,t){1&e&&(a.Ob(0,"ag-grid-angular",0),a.Dc(1,Ve,19,5,"ng-template",null,1,a.Ec),a.Dc(3,Re,13,0,"ng-template",null,2,a.Ec)),2&e&&a.lc("dbGrid",t.grid)},directives:[_e.a,L.b,we.c,i.o,we.d,j.a,we.g,we.e,ye.c],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1}"]}),e})();class je{constructor(e,t){this.mEvent=t,this.SelectedData=e.getSelectedNodes().map(e=>e.data)}get SelectedCount(){return this.SelectedData.length}get Any(){return this.SelectedCount>0}get Single(){return 1===this.SelectedCount}get First(){return this.SelectedCount>0?this.SelectedData[0]:null}get IsShiftPressed(){return this.mEvent.shiftKey}}const $e=["tree"],He=["folderContextMenu"],Le=function(){return["fas","angle-right"]};function Ue(e,t){1&e&&a.Ob(0,"fa-icon",21),2&e&&a.lc("icon",a.nc(1,Le))}const Be=function(){return["fas","angle-down"]};function qe(e,t){1&e&&a.Ob(0,"fa-icon",21),2&e&&a.lc("icon",a.nc(1,Be))}function Ze(e,t){if(1&e){const e=a.Ub();a.Tb(0,"div",19),a.bc("click",(function(t){a.vc(e);const n=a.ec().$implicit;return a.ec().clickFolderExpander(n,t)})),a.Dc(1,Ue,1,2,"fa-icon",20),a.Dc(2,qe,1,2,"fa-icon",20),a.Sb()}if(2&e){const e=a.ec().$implicit;a.zb(1),a.lc("ngIf",!e.isExpanded),a.zb(1),a.lc("ngIf",e.isExpanded)}}function Je(e,t){1&e&&a.Ob(0,"div",22)}function We(e,t){if(1&e){const e=a.Ub();a.Tb(0,"div",23),a.Tb(1,"input",24,25),a.bc("keydown.enter",(function(t){a.vc(e);const n=a.tc(2),i=a.ec().$implicit;return a.ec().saveName(i,n,t)}))("keydown.escape",(function(t){a.vc(e);const n=a.ec().$implicit;return a.ec().cancelCreateOrRenameFolder(n,t)}))("focus",(function(t){a.vc(e);const n=a.ec().$implicit;return a.ec().SelectIfCreateFolder(n,t)})),a.Sb(),a.Sb()}if(2&e){const e=a.ec().$implicit;a.zb(1),a.lc("value",e.data.Name)("dbAllowedCharacters","[a-zA-Z0-9_]")}}function Ye(e,t){if(1&e&&(a.Ob(0,"tree-node-content",26),a.fc(1,"async")),2&e){const e=a.ec(),t=e.$implicit,i=e.index,r=a.ec();var n;a.Fb("selected",(null==(n=a.gc(1,4,r.variablesService.SelectedFolder$))?null:n.Path)==t.data.Path),a.lc("node",t)("index",i)}}function Xe(e,t){if(1&e){const e=a.Ub();a.Tb(0,"div",12),a.bc("click",(function(n){return a.vc(e),t.$implicit.mouseAction("click",n)}))("contextmenu",(function(n){return a.vc(e),t.$implicit.mouseAction("contextMenu",n)})),a.fc(1,"async"),a.Tb(2,"div",13),a.Dc(3,Ze,3,2,"div",14),a.Dc(4,Je,1,0,"div",15),a.Tb(5,"div",16),a.bc("dblclick",(function(n){return a.vc(e),t.$implicit.mouseAction("dblClick",n)}))("contextmenu",(function(n){return a.vc(e),t.$implicit.mouseAction("contextMenu",n)}))("treeDrop",(function(n){return a.vc(e),t.$implicit.onDrop(n)})),a.Dc(6,We,3,2,"div",17),a.Dc(7,Ye,2,6,"tree-node-content",18),a.Sb(),a.Sb(),a.Sb()}if(2&e){const e=t.$implicit,i=a.ec();var n;a.Bc("padding-left",e.getNodePadding()),a.Fb("selected",(null==(n=a.gc(1,15,i.variablesService.SelectedFolder$))?null:n.Path)==e.data.Path),a.zb(3),a.lc("ngIf",e.hasChildren),a.zb(1),a.lc("ngIf",!e.hasChildren),a.zb(1),a.Fb("node-content-wrapper-active",e.isActive)("node-content-wrapper-focused",e.isFocused),a.lc("treeAllowDrop",e.allowDrop)("treeDrag",e)("treeDragEnabled",e.allowDrag()),a.zb(1),a.lc("ngIf",e.data.edit),a.zb(1),a.lc("ngIf",!e.data.edit)}}function Ke(e,t){if(1&e&&(a.Ob(0,"variables-folder-content",27),a.fc(1,"async")),2&e){const e=t.$implicit,n=a.ec();a.lc("Items",a.gc(1,2,n.ItemsInPath$))("Path",e)}}function Qe(e,t){1&e&&(a.Tb(0,"div",28),a.Fc(1," No Variables found in folder... "),a.Sb())}function et(e,t){if(1&e){const e=a.Ub();a.Tb(0,"li",31),a.bc("click",(function(){a.vc(e);const t=a.ec().$implicit;return a.ec().RenameFolder(t.Node)})),a.Ob(1,"db-icon",34),a.Fc(2," Rename Folder "),a.Sb()}}function tt(e,t){if(1&e){const e=a.Ub();a.Tb(0,"li",31),a.bc("click",(function(){a.vc(e);const t=a.ec().$implicit;return a.ec().DeleteDirectory(t.Folder)})),a.Ob(1,"db-icon",35),a.Fc(2," Delete Folder "),a.Sb()}}function nt(e,t){if(1&e){const e=a.Ub();a.Tb(0,"ul",29),a.Tb(1,"div",30),a.Fc(2),a.Sb(),a.Tb(3,"li",31),a.bc("click",(function(){a.vc(e);const n=t.$implicit;return a.ec().CreateSubFolder(n.Node)})),a.Ob(4,"db-icon",32),a.Rb(5),a.Fc(6,"New Folder"),a.Qb(),a.Sb(),a.Dc(7,et,3,0,"li",33),a.Dc(8,tt,3,0,"li",33),a.Sb()}if(2&e){const e=t.$implicit;a.zb(2),a.Hc(" ",(null==e.Folder?null:e.Folder.Name)||"/"," "),a.zb(5),a.lc("ngIf",e.Folder),a.zb(1),a.lc("ngIf",e.Folder)}}const it=function(){return[]};let rt=(()=>{class e{constructor(e,t,n,i,r,a){this.ui=e,this.viewContainerRef=t,this.variablesService=n,this.cref=i,this.overlay=r,this.nzContextMenuService=a,this.nodes$=this.variablesService.rootNode$.pipe(Object(s.a)(e=>e.Children)),this.ItemsInPath$=this.variablesService.SelectedFolderItems$,this.SelectedFolderPath$=this.variablesService.SelectedFolder$.pipe(Object(l.a)(e=>!!e),Object(s.a)(e=>e.Path)),this.actionMapping={mouse:{click:(e,t,n)=>{this.variablesService.SetSelectedFolder(t.data),this.variablesService.GetVariablesInSelectedFolder().subscribe()},dblClick:(e,t,n)=>{c.a.TOGGLE_EXPANDED(e,t,n)},contextMenu:(e,t,n)=>{n.preventDefault(),n.stopPropagation(),this.variablesService.SetSelectedFolder(t.data),this.openFolderContextMenu(n,t)}}},this.options={idField:"Path",displayField:"Name",childrenField:"Children",actionMapping:this.actionMapping,levelPadding:10}}get FolderTreeState(){return this.variablesService.FolderTreeState}set FolderTreeState(e){this.variablesService.FolderTreeState=e}NormalizeTreeNode(e){let t=Object.assign(Object.assign({},e),{key:e.Path,title:e.Name,children:null});return e.Children?t.children=e.Children.map(e=>this.NormalizeTreeNode(e)):t.isLeaf=!0,t}clickTreeNode(e){console.log(e),this.variablesService.SetSelectedFolder(e.node.origin),this.variablesService.GetVariablesInSelectedFolder().subscribe()}openFolderContextMenu(e,t){var n;null===(n=this.FolderContextMenu)||void 0===n||n.Close(),this.FolderContextMenu=this.overlay.OpenContextMenu(e,this.folderContextMenu,this.viewContainerRef,this.BuildContext(t))}BuildContext(e){return{Node:e,Folder:null==e?void 0:e.data}}clickFolderExpander(e,t){t.stopPropagation(),t.preventDefault(),this.CloseContextMenu(),e.toggleExpanded()}CloseContextMenu(){var e;null===(e=this.FolderContextMenu)||void 0===e||e.Close()}CreateSubFolder(e){const t=new d;t.Name="NewFolder",t.edit="create",e?(e.data.Children||(e.children=[],e.data.Children=[]),e.data.Children=[t,...e.data.Children]):this.tree.treeModel.nodes=[t,...this.tree.treeModel.nodes],this.tree.treeModel.update(),this.CloseContextMenu(),this.cref.detectChanges(),e&&this.tree.treeModel.getNodeById(e.id).expand()}saveName(e,t,n){var i,r;if(t.value){switch(e.data.edit){case"create":e.data.Name=t.value,this.variablesService.NewFolder(`${(null===(i=e.realParent)||void 0===i?void 0:i.data.Parent)||""}/${(null===(r=e.realParent)||void 0===r?void 0:r.data.Name)||""}`,e.data.Name).subscribe();break;case"rename":console.log(e.data.Parent,e.data.Name,t.value),this.variablesService.RenameFolder(e.data.Parent,e.data.Name,t.value).subscribe(),e.data.Name=t.value,e.data.edit=null}e.data.edit=null,this.cref.detectChanges()}}cancelCreateOrRenameFolder(e,t){switch(e.data.edit){case"create":e.realParent?e.realParent.data.Children=e.realParent.data.Children.filter(t=>t.Path!=e.data.Path):this.tree.treeModel.nodes=this.tree.treeModel.nodes.filter(t=>t.Path!=e.data.Path),this.tree.treeModel.update()}e.data.edit=null,this.cref.detectChanges()}RenameFolder(e){e.data.edit="rename",this.CloseContextMenu(),this.cref.detectChanges()}DeleteDirectory(e){this.variablesService.RemoveFolder(e.Parent,e.Name).subscribe(),this.CloseContextMenu()}SelectIfCreateFolder(e,t){"create"===e.data.edit&&t.target.select(),e.parent.expand()}contextMenu(e,t){this.nzContextMenuService.create(e,t)}closeMenu(){this.nzContextMenuService.close()}nzEvent(e){console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(o.a),a.Nb(a.P),a.Nb(g),a.Nb(a.h),a.Nb(v.c),a.Nb(x.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["global-variables-explorer"]],viewQuery:function(e,t){var n;1&e&&(a.Jc($e,!0),a.Jc(He,!0)),2&e&&(a.sc(n=a.cc())&&(t.tree=n.first),a.sc(n=a.cc())&&(t.folderContextMenu=n.first))},decls:19,vars:12,consts:[[2,"flex-grow","1"],["direction","horizontal","unit","pixel","gutterSize","5"],["minSize","200","size","200",2,"display","flex","flex-direction","column","flex-grow","1","overflow","hidden","background-color","#d6d6d6"],[2,"display","flex","flex-direction","column","flex-grow","1","overflow","hidden"],[2,"flex-grow","1","overflow","hidden",3,"state","nodes","options","stateChange","contextmenu"],["tree",""],["treeNodeWrapperTemplate",""],["size","*",2,"display","flex","flex-direction","column","flex-grow","1","overflow","hidden","padding","4px 4px 4px 0px"],[2,"background-color","#292f3b","color","white","font-weight","bold","font-size","1.2rem","line-height","2rem","padding-left","14px"],[3,"Items","Path",4,"ngIf"],["empty",""],["folderContextMenu",""],["xaStopClickPropagation","",1,"node-wrapper",3,"click","contextmenu"],[2,"display","flex","flex-direction","row","padding-left","5px"],["class","expander-area","style","width: 20px; padding-left: 6px;",3,"click",4,"ngIf"],["style","width: 20px; padding-left: 6px;",4,"ngIf"],[1,"node-content-wrapper",3,"treeAllowDrop","treeDrag","treeDragEnabled","dblclick","contextmenu","treeDrop"],["class","ui input",4,"ngIf"],[3,"selected","node","index",4,"ngIf"],[1,"expander-area",2,"width","20px","padding-left","6px",3,"click"],["nz-icon","","style","margin-top:6px; width: 8px;",3,"icon",4,"ngIf"],["nz-icon","",2,"margin-top","6px","width","8px",3,"icon"],[2,"width","20px","padding-left","6px"],[1,"ui","input"],[2,"width","95%","padding","2px 5px",3,"value","dbSetFocus","dbAllowedCharacters","keydown.enter","keydown.escape","focus"],["nameinput",""],[3,"node","index"],[3,"Items","Path"],[1,"ui","header",2,"margin","auto","margin-top","10%","color","#969696"],["nz-menu","","nzMode","vertical",1,"context-menu"],[1,"context-menu-header"],["nz-menu-item","",3,"click"],["icon","folder"],["nz-menu-item","",3,"click",4,"ngIf"],["icon","edit"],["icon","delete"]],template:function(e,t){1&e&&(a.Tb(0,"div",0),a.Tb(1,"as-split",1),a.Tb(2,"as-split-area",2),a.Tb(3,"div",3),a.Tb(4,"tree-root",4,5),a.bc("stateChange",(function(e){return t.FolderTreeState=e}))("contextmenu",(function(e){return t.openFolderContextMenu(e)})),a.fc(6,"async"),a.Dc(7,Xe,8,17,"ng-template",null,6,a.Ec),a.Sb(),a.Sb(),a.Sb(),a.Tb(9,"as-split-area",7),a.Tb(10,"div",8),a.Fc(11),a.fc(12,"async"),a.Sb(),a.Dc(13,Ke,2,4,"variables-folder-content",9),a.fc(14,"async"),a.Sb(),a.Sb(),a.Sb(),a.Dc(15,Qe,2,0,"ng-template",null,10,a.Ec),a.Dc(17,nt,9,3,"ng-template",null,11,a.Ec)),2&e&&(a.zb(4),a.lc("state",t.FolderTreeState)("nodes",a.gc(6,5,t.nodes$)||a.nc(11,it))("options",t.options),a.zb(7),a.Hc(" ",a.gc(12,7,t.SelectedFolderPath$),""),a.zb(2),a.lc("ngIf",a.gc(14,9,t.SelectedFolderPath$)))},directives:[I,V,c.b,i.o,c.c,c.d,G.b,j.a,$.a,H.a,H.c,c.f,Ge,we.c,we.e,ye.c],pipes:[i.b],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex;overflow:hidden}.node-content-wrapper[_ngcontent-%COMP%]{padding-left:0}.node-content-wrapper-active[_ngcontent-%COMP%], .node-content-wrapper-focused[_ngcontent-%COMP%], .node-content-wrapper[_ngcontent-%COMP%]:hover{box-shadow:none}.node-content-wrapper[_ngcontent-%COMP%]:hover{background:none}tree-node-content.selected[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 1px #fff}.node-wrapper[_ngcontent-%COMP%]{padding:.3em}.node-wrapper[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.node-wrapper.selected[_ngcontent-%COMP%]{background-color:#525e76;color:#fff}.node-wrapper.selected[_ngcontent-%COMP%]:hover{background-color:rgba(82,94,118,.8313725490196079);color:#fff}.expander-area[_ngcontent-%COMP%]:hover   .ng-fa-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px #525e76)}.node-wrapper.selected[_ngcontent-%COMP%]   .expander-area[_ngcontent-%COMP%]:hover   .ng-fa-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 2px white)}.folder-context[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:0!important}"],changeDetection:0}),e})();const at=[{path:"",component:(()=>{class e{constructor(e){this.uiService=e,e.Set(e=>{e.Header.Title="Global Variables",e.Content.Scrollable=!1,e.Content.Container=!1,e.Header.Icon="folder"})}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(o.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&a.Ob(0,"global-variables-explorer")},directives:[rt],styles:[""]}),e})()}];let ot=(()=>{class e{}return e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({factory:function(t){return new(t||e)},imports:[[r.l.forChild(at)],r.l]}),e})(),st=(()=>{class e{}return e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({factory:function(t){return new(t||e)},imports:[[i.c,U.p,v.a,re.c,H.b,Y.e,X.e,q.c,me.b,Se.b,ae.c]]}),e})();var lt=n("YPwk");let ct=(()=>{class e{}return e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({factory:function(t){return new(t||e)},imports:[[i.c,U.p,ot,c.e,R,H.b,v.a,L.c,G.d,st,lt.a]]}),e})()}}]);
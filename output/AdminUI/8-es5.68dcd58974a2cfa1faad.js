!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var c,a=e[Symbol.iterator]();!(i=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);i=!0);}catch(s){o=!0,r=s}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"9aLq":function(n,i,r){"use strict";r.r(i),r.d(i,"IDPModule",function(){return po});var a,s,u,b,f,p,h,m,v,g,y,C,z,S,x,w,U=r("ofXK"),k=r("3Pt+"),V=r("tyNb"),R=r("ycP/"),P=r("lJxs"),O=r("2Vo4"),A=r("XNiG"),I=r("1G5W"),M=r("fXoL"),D=r("h0m+"),T=r("ocnv"),H=r("B+r4"),B=r("PTRe"),F=r("TaO5"),N=r("OzZK"),Q=r("RwU8"),G=r("C2AL"),_=((a=function(){function e(t,n){l(this,e),this.fb=t,this.context=n,this.clearPassword$=new O.a(!1),this.destroy$=new A.a,this.form=this.fb.group({Password:[null,k.q.required],ConfirmPassword:[null,k.q.required],ClearPassword:[null]},{validator:this.checkPasswords})}return d(e,[{key:"ngOnInit",value:function(){var e=this;this.form.get("ClearPassword").valueChanges.pipe(Object(I.a)(this.destroy$)).subscribe(function(t){e.form.patchValue({Password:null,ConfirmPassword:null}),t?(e.form.get("Password").disable(),e.form.get("ConfirmPassword").disable()):(e.form.get("Password").enable(),e.form.get("ConfirmPassword").enable())})}},{key:"ngOnDestroy",value:function(){this.destroy$.next()}},{key:"ok",value:function(){this.form.value.ClearPassword?this.ClearPassword():this.SetPassword({Password:this.form.value.Password,ConfirmPassword:this.form.value.ConfirmPassword})}},{key:"SetPassword",value:function(e){var t=this;this.context.invoke("SetPassword",e).subscribe(function(){t.context.handle.Close()})}},{key:"ClearPassword",value:function(){var e=this;this.context.invoke("ClearPassword",null).subscribe(function(){e.context.handle.Close()})}},{key:"cancel",value:function(){this.context.handle.Close()}},{key:"checkPasswords",value:function(e){return e.get("Password").value===e.get("ConfirmPassword").value?null:{notSame:!0}}}]),e}()).\u0275fac=function(e){return new(e||a)(M.Pb(k.e),M.Pb(D.d))},a.\u0275cmp=M.Jb({type:a,selectors:[["ng-component"]],decls:22,vars:2,consts:[[1,"ui","top","attached","segment","modal-header",2,"padding","10px !important","display","flex"],[2,"color","whitesmoke","margin","auto"],[2,"font-size","2em","font-weight","bold","min-height","1.4285em","line-height","1.4285em","color","whitesmoke","margin","auto"],[2,"font-size","0.8em","line-height","initial","color","#bbbbbb"],[2,"flex-grow","1"],[2,"display","flex","flex-direction","column","justify-content","center"],[1,"ui","attached","segment","modal-content"],["nz-form","",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["nz-input","","formControlName","Password","placeholder","Password",2,"width","100%"],["nz-input","","formControlName","ConfirmPassword","placeholder","Confirm Password",2,"width","100%"],["nz-checkbox","","formControlName","ClearPassword"],[1,"ui","bottom","attached","segment","modal-footer",2,"margin-bottom","0px"],["nz-button","","nzType","primary","nzBlock","",2,"margin-right","1px",3,"disabled","click"],["nz-button","","nzType","default","nzBlock","",1,"secondary",2,"margin-left","1px",3,"click"]],template:function(e,t){1&e&&(M.Vb(0,"div",0),M.Vb(1,"div",1),M.Vb(2,"div",2),M.Hc(3," Set Password "),M.Ub(),M.Qb(4,"div",3),M.Ub(),M.Qb(5,"div",4),M.Qb(6,"div",5),M.Ub(),M.Vb(7,"div",6),M.Vb(8,"form",7),M.Vb(9,"nz-form-item"),M.Vb(10,"nz-form-control"),M.Qb(11,"input",8),M.Ub(),M.Ub(),M.Vb(12,"nz-form-item"),M.Vb(13,"nz-form-control"),M.Qb(14,"input",9),M.Ub(),M.Ub(),M.Vb(15,"label",10),M.Hc(16," Clear Password "),M.Ub(),M.Ub(),M.Ub(),M.Vb(17,"div",11),M.Vb(18,"button",12),M.dc("click",function(){return t.ok()}),M.Hc(19,"Save"),M.Ub(),M.Vb(20,"button",13),M.dc("click",function(){return t.cancel()}),M.Hc(21,"Cancel"),M.Ub(),M.Ub()),2&e&&(M.Bb(8),M.nc("formGroup",t.form),M.Bb(10),M.nc("disabled",!t.form.valid))},directives:[k.r,k.n,T.b,k.h,H.c,T.c,H.a,T.a,B.b,k.d,k.m,k.g,F.a,N.a,Q.a,G.a],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}.secretCalendar[_ngcontent-%COMP%]  .ant-picker-calendar-mode-switch{display:none}"]}),a),L=r("mElL"),j=r("tk/3"),E=r("vkgz"),W=r("mrSG"),$=r("4ZtF"),q=((x=function(e){o(n,e);var t=c(n);function n(){return l(this,n),t.call(this)}return n}($.a)).\u0275fac=function(e){return new(e||x)},x.\u0275prov=M.Lb({token:x,factory:x.\u0275fac,providedIn:"root"}),x=Object(W.a)([Object($.e)({name:"identity-roles",idKey:"Id"})],x)),J=((S=function(e){o(n,e);var t=c(n);function n(e){var i;return l(this,n),(i=t.call(this,e)).store=e,i}return n}($.c)).\u0275fac=function(e){return new(e||S)(M.Zb(q))},S.\u0275prov=M.Lb({token:S,factory:S.\u0275fac,providedIn:"root"}),S),Z=((z=function(e){o(n,e);var t=c(n);function n(){return l(this,n),t.call(this)}return n}($.a)).\u0275fac=function(e){return new(e||z)},z.\u0275prov=M.Lb({token:z,factory:z.\u0275fac,providedIn:"root"}),z=Object(W.a)([Object($.e)({name:"identity-users",idKey:"Id"})],z)),K=((C=function(e){o(n,e);var t=c(n);function n(e){var i;return l(this,n),(i=t.call(this,e)).store=e,i}return n}($.c)).\u0275fac=function(e){return new(e||C)(M.Zb(Z))},C.\u0275prov=M.Lb({token:C,factory:C.\u0275fac,providedIn:"root"}),C),X=((y=function(e){o(n,e);var t=c(n);function n(){return l(this,n),t.call(this)}return n}($.a)).\u0275fac=function(e){return new(e||y)},y.\u0275prov=M.Lb({token:y,factory:y.\u0275fac,providedIn:"root"}),y=Object(W.a)([Object($.e)({name:"identity-clients",idKey:"Id"})],y)),Y=((g=function(e){o(n,e);var t=c(n);function n(e){var i;return l(this,n),(i=t.call(this,e)).store=e,i}return n}($.c)).\u0275fac=function(e){return new(e||g)(M.Zb(X))},g.\u0275prov=M.Lb({token:g,factory:g.\u0275fac,providedIn:"root"}),g),ee=((v=function(e){o(n,e);var t=c(n);function n(){return l(this,n),t.call(this)}return n}($.a)).\u0275fac=function(e){return new(e||v)},v.\u0275prov=M.Lb({token:v,factory:v.\u0275fac,providedIn:"root"}),v=Object(W.a)([Object($.e)({name:"identity-api-resources",idKey:"Id"})],v)),te=((m=function(e){o(n,e);var t=c(n);function n(e){var i;return l(this,n),(i=t.call(this,e)).store=e,i}return n}($.c)).\u0275fac=function(e){return new(e||m)(M.Zb(ee))},m.\u0275prov=M.Lb({token:m,factory:m.\u0275fac,providedIn:"root"}),m),ne=((h=function(e){o(n,e);var t=c(n);function n(){return l(this,n),t.call(this)}return n}($.a)).\u0275fac=function(e){return new(e||h)},h.\u0275prov=M.Lb({token:h,factory:h.\u0275fac,providedIn:"root"}),h=Object(W.a)([Object($.e)({name:"identity-api-scopes",idKey:"Id"})],h)),ie=((p=function(e){o(n,e);var t=c(n);function n(e){var i;return l(this,n),(i=t.call(this,e)).store=e,i}return n}($.c)).\u0275fac=function(e){return new(e||p)(M.Zb(ne))},p.\u0275prov=M.Lb({token:p,factory:p.\u0275fac,providedIn:"root"}),p),oe=((f=function(e){o(n,e);var t=c(n);function n(){return l(this,n),t.call(this)}return n}($.a)).\u0275fac=function(e){return new(e||f)},f.\u0275prov=M.Lb({token:f,factory:f.\u0275fac,providedIn:"root"}),f=Object(W.a)([Object($.e)({name:"identity-resources",idKey:"Id"})],f)),re=((b=function(e){o(n,e);var t=c(n);function n(e){var i;return l(this,n),(i=t.call(this,e)).store=e,i}return n}($.c)).\u0275fac=function(e){return new(e||b)(M.Zb(oe))},b.\u0275prov=M.Lb({token:b,factory:b.\u0275fac,providedIn:"root"}),b),ce=((u=function(e){o(n,e);var t=c(n);function n(){return l(this,n),t.call(this)}return n}($.a)).\u0275fac=function(e){return new(e||u)},u.\u0275prov=M.Lb({token:u,factory:u.\u0275fac,providedIn:"root"}),u=Object(W.a)([Object($.e)({name:"authentication-providers",idKey:"Id"})],u)),ae=((s=function(e){o(n,e);var t=c(n);function n(e){var i;return l(this,n),(i=t.call(this,e)).store=e,i}return n}($.c)).\u0275fac=function(e){return new(e||s)(M.Zb(ce))},s.\u0275prov=M.Lb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),se=r("LgUO"),le=((w=function(){function e(t,n,i,o,r,c,a,s,u,d,b,f,p,h,m,v,g){var y=this;l(this,e),this.identityRolesStore=t,this.identityRolesQuery=n,this.identityUsersStore=i,this.identityUsersQuery=o,this.identityClientsStore=r,this.identityClientsQuery=c,this.identityApiResourcesStore=a,this.identityApiResourcesQuery=s,this.identityApiScopesStore=u,this.identityApiScopesQuery=d,this.identityResourcesStore=b,this.identityResourcesQuery=f,this.authenticationProvidersStore=p,this.authenticationProvidersQuery=h,this.http=m,this.message=v,this.auth=g,this.message.RunOnEveryReconnect(function(){y.SubscribeToAll()}),this.SubscribeToAll()}return d(e,[{key:"SubscribeToAll",value:function(){this.SubscribeUserEvents(),this.SubscribeRoleEvents(),this.SubscribeClientsEvents(),this.SubscribeApiResourcesEvents(),this.SubscribeIdentityResourcesEvents()}},{key:"getHeaders",value:function(){return new j.e({Authorization:"Bearer "+this.auth.getAccessToken()})}},{key:"SubscribeUserEvents",value:function(){var e=this;this.message.Stream("IDPUsers.Subscribe").pipe(Object(E.a)(function(t){switch(console.log(t),t.Action){case"Created":e.identityUsersStore.add(t.Payload);break;case"Updated":e.identityUsersStore.update(t.Payload.Id,function(e){return t.Payload});break;case"Deleted":e.identityUsersStore.update(t.Payload,function(e){return Object.assign(Object.assign({},e),{Deleted:!0})})}})).subscribe()}},{key:"ReLoadUsers",value:function(){var e=this;this.http.get("api/idp/users",{headers:this.getHeaders()}).pipe(Object(E.a)(function(t){return e.identityUsersStore.set(t)})).subscribe()}},{key:"GetAllUsers",value:function(e){return!e&&this.identityUsersQuery.getHasCache()||this.ReLoadUsers(),this.identityUsersQuery.selectAll()}},{key:"GetUser",value:function(e){return this.http.get("api/idp/users/".concat(e),{headers:this.getHeaders()})}},{key:"CreateUser",value:function(e){return this.http.post("api/idp/users",e,{headers:this.getHeaders()})}},{key:"UpdateUser",value:function(e){return this.http.put("api/idp/users",e,{headers:this.getHeaders()})}},{key:"DeleteUser",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i={body:t,headers:this.getHeaders()};return this.http.request("delete","api/idp/users",i)}},{key:"SetPassword",value:function(e,t){return this.http.post("api/idp/users/".concat(e,"/password"),t,{headers:this.getHeaders()})}},{key:"ClearPassword",value:function(e){return this.http.delete("api/idp/users/".concat(e,"/password"),{headers:this.getHeaders()})}},{key:"SubscribeRoleEvents",value:function(){var e=this;console.log("IDPRoles.Subscribe"),this.message.Stream("IDPRoles.Subscribe").pipe(Object(E.a)(function(t){switch(console.log(t),t.Action){case"Created":e.identityRolesStore.add(t.Payload);break;case"Updated":e.identityRolesStore.update(t.Payload.Id,function(e){return t.Payload});break;case"Deleted":e.identityRolesStore.update(t.Payload,function(e){return Object.assign(Object.assign({},e),{Deleted:!0})})}})).subscribe()}},{key:"ReLoadRoles",value:function(){var e=this;this.message.Invoke("IDPRoles.GetRolesList").pipe(Object(E.a)(function(t){return e.identityRolesStore.set(t)})).subscribe()}},{key:"GetAllRoles",value:function(e){return!e&&this.identityRolesQuery.getHasCache()||this.ReLoadRoles(),this.identityRolesQuery.selectAll()}},{key:"GetRole",value:function(e){return this.http.get("api/idp/roles/".concat(e),{headers:this.getHeaders()})}},{key:"CreateRole",value:function(e){return this.http.post("api/idp/roles",e,{headers:this.getHeaders()})}},{key:"UpdateRole",value:function(e){return this.http.put("api/idp/roles",e,{headers:this.getHeaders()})}},{key:"DeleteRole",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i={body:t,headers:this.getHeaders()};return this.http.request("delete","api/idp/roles",i)}},{key:"SubscribeClientsEvents",value:function(){var e=this;this.message.Stream("IDPClients.Subscribe").pipe(Object(E.a)(function(t){switch(console.log(t),t.Action){case"Created":e.identityClientsStore.add(t.Payload);break;case"Updated":e.identityClientsStore.update(t.Payload.Id,function(e){return t.Payload});break;case"Deleted":e.identityClientsStore.update(t.Payload,function(e){return Object.assign(Object.assign({},e),{Deleted:!0})})}})).subscribe()}},{key:"ReLoadClients",value:function(){var e=this;this.http.get("api/idp/clients",{headers:this.getHeaders()}).pipe(Object(E.a)(function(t){return e.identityClientsStore.set(t)})).subscribe()}},{key:"GetAllClients",value:function(e){return!e&&this.identityClientsQuery.getHasCache()||this.ReLoadClients(),this.identityClientsQuery.selectAll()}},{key:"GetClient",value:function(e){return this.http.get("api/idp/clients/".concat(e),{headers:this.getHeaders()})}},{key:"CreateClient",value:function(e){return this.http.post("api/idp/clients",e,{headers:this.getHeaders()})}},{key:"UpdateClient",value:function(e){return this.http.put("api/idp/clients",e,{headers:this.getHeaders()})}},{key:"DeleteClient",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i={body:t,headers:this.getHeaders()};return this.http.request("delete","api/idp/clients",i)}},{key:"SubscribeApiResourcesEvents",value:function(){var e=this;this.message.Stream("IDPApiResources.Subscribe").pipe(Object(E.a)(function(t){switch(console.log(t),t.Action){case"Created":e.identityApiResourcesStore.add(t.Payload);break;case"Updated":e.identityApiResourcesStore.update(t.Payload.Id,function(e){return t.Payload});break;case"Deleted":e.identityApiResourcesStore.update(t.Payload,function(e){return Object.assign(Object.assign({},e),{Deleted:!0})})}})).subscribe()}},{key:"ReLoadApiResources",value:function(){var e=this;this.http.get("api/idp/api-resources",{headers:this.getHeaders()}).pipe(Object(E.a)(function(t){return e.identityApiResourcesStore.set(t)})).subscribe()}},{key:"GetAllApiResources",value:function(e){return!e&&this.identityApiResourcesQuery.getHasCache()||this.ReLoadApiResources(),this.identityApiResourcesQuery.selectAll()}},{key:"GetApiResource",value:function(e){return this.http.get("api/idp/api-resources/".concat(e),{headers:this.getHeaders()})}},{key:"CreateApiResource",value:function(e){return this.http.post("api/idp/api-resources",e,{headers:this.getHeaders()})}},{key:"UpdateApiResource",value:function(e){return this.http.put("api/idp/api-resources",e,{headers:this.getHeaders()})}},{key:"DeleteApiResource",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i={body:t,headers:this.getHeaders()};return this.http.request("delete","api/idp/api-resources",i)}},{key:"SubscribeIdentityResourcesEvents",value:function(){var e=this;this.message.Stream("IDPIdentityResources.Subscribe").pipe(Object(E.a)(function(t){switch(console.log(t),t.Action){case"Created":e.identityResourcesStore.add(t.Payload);break;case"Updated":e.identityResourcesStore.update(t.Payload.Id,function(e){return t.Payload});break;case"Deleted":e.identityResourcesStore.update(t.Payload,function(e){return Object.assign(Object.assign({},e),{Deleted:!0})})}})).subscribe()}},{key:"ReLoadIdentityResources",value:function(){var e=this;this.http.get("api/idp/identity-resources",{headers:this.getHeaders()}).pipe(Object(E.a)(function(t){return e.identityResourcesStore.set(t)})).subscribe()}},{key:"GetAllIdentityResources",value:function(e){return!e&&this.identityResourcesQuery.getHasCache()||this.ReLoadIdentityResources(),this.identityResourcesQuery.selectAll()}},{key:"GetIdentityResource",value:function(e){return this.http.get("api/idp/identity-resources/".concat(e),{headers:this.getHeaders()})}},{key:"CreateIdentityResource",value:function(e){return this.http.post("api/idp/identity-resources",e,{headers:this.getHeaders()})}},{key:"UpdateIdentityResource",value:function(e){return this.http.put("api/idp/identity-resources",e,{headers:this.getHeaders()})}},{key:"DeleteIdentityResource",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i={body:t,headers:this.getHeaders()};return this.http.request("delete","api/idp/identity-resources",i)}},{key:"SubscribeApiScopesEvents",value:function(){var e=this;this.message.Stream("IDPApiScopes.Subscribe").pipe(Object(E.a)(function(t){switch(console.log(t),t.Action){case"Created":e.identityApiScopesStore.add(t.Payload);break;case"Updated":e.identityApiScopesStore.update(t.Payload.Id,function(e){return t.Payload});break;case"Deleted":e.identityApiScopesStore.update(t.Payload,function(e){return Object.assign(Object.assign({},e),{Deleted:!0})})}})).subscribe()}},{key:"ReLoadApiScopes",value:function(){var e=this;this.http.get("api/idp/api-scopes",{headers:this.getHeaders()}).pipe(Object(E.a)(function(t){return e.identityApiScopesStore.set(t)})).subscribe()}},{key:"GetAllApiScopes",value:function(e){return!e&&this.identityApiScopesQuery.getHasCache()||this.ReLoadApiScopes(),this.identityApiScopesQuery.selectAll()}},{key:"GetApiScope",value:function(e){return this.http.get("api/idp/api-scopes/".concat(e),{headers:this.getHeaders()})}},{key:"CreateApiScope",value:function(e){return this.http.post("api/idp/api-scopes",e,{headers:this.getHeaders()})}},{key:"UpdateApiScope",value:function(e){return this.http.put("api/idp/api-scopes",e,{headers:this.getHeaders()})}},{key:"DeleteApiScope",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i={body:t,headers:this.getHeaders()};return this.http.request("delete","api/idp/api-scopes",i)}},{key:"SubscribeAuthenticationProvidersEvents",value:function(){var e=this;this.message.Stream("AuthenticationProviders.Subscribe").pipe(Object(E.a)(function(t){switch(console.log(t),t.Action){case"Created":e.authenticationProvidersStore.add(t.Payload);break;case"Updated":e.authenticationProvidersStore.update(t.Payload.Id,function(e){return t.Payload});break;case"Deleted":e.authenticationProvidersStore.update(t.Payload,function(e){return Object.assign(Object.assign({},e),{Deleted:!0})})}})).subscribe()}},{key:"ReLoadAuthenticationProviders",value:function(){var e=this;this.http.get("api/idp/authentication-provider",{headers:this.getHeaders()}).pipe(Object(E.a)(function(t){return e.authenticationProvidersStore.set(t)})).subscribe()}},{key:"GetAllAuthenticationProvidersList",value:function(e){return!e&&this.authenticationProvidersQuery.getHasCache()||this.ReLoadAuthenticationProviders(),this.authenticationProvidersQuery.selectAll()}},{key:"GetAuthenticationProvider",value:function(e){return this.http.get("api/idp/authentication-provider/".concat(e),{headers:this.getHeaders()})}},{key:"CreateAuthenticationProvider",value:function(e){return this.http.post("api/idp/authentication-provider",e,{headers:this.getHeaders()})}},{key:"UpdateAuthenticationProvider",value:function(e){return this.http.put("api/idp/authentication-provider",e,{headers:this.getHeaders()})}},{key:"DeleteAuthenticationProvider",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i={body:t,headers:this.getHeaders()};return this.http.request("delete","api/idp/authentication-provider",i)}}]),e}()).\u0275fac=function(e){return new(e||w)(M.Zb(q),M.Zb(J),M.Zb(Z),M.Zb(K),M.Zb(X),M.Zb(Y),M.Zb(ee),M.Zb(te),M.Zb(ne),M.Zb(ie),M.Zb(oe),M.Zb(re),M.Zb(ce),M.Zb(ae),M.Zb(j.c),M.Zb(L.d),M.Zb(se.b))},w.\u0275prov=M.Lb({token:w,factory:w.\u0275fac,providedIn:"root"}),w),ue=r("gwh1"),de=r("t7qs"),be=r("Q8cG"),fe=r("FwiY"),pe=r("gPmL"),he=["itemsContextMenu"];function me(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",6),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().EditUser(e.First)}),M.Qb(1,"i",8),M.Hc(2," Edit User "),M.Ub()}}function ve(e,t){1&e&&(M.Tb(0),M.Hc(1,"Set Password"),M.Sb())}function ge(e,t){1&e&&(M.Tb(0),M.Hc(1,"Reset Password"),M.Sb())}function ye(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",6),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().SetPassword(e.First)}),M.Qb(1,"db-icon",9),M.Fc(2,ve,2,0,"ng-container",10),M.Fc(3,ge,2,0,"ng-container",10),M.Ub()}if(2&e){var i=M.gc().$implicit;M.Bb(2),M.nc("ngIf",!i.First.HasPassword),M.Bb(1),M.nc("ngIf",i.First.HasPassword)}}function Ce(e,t){1&e&&M.Qb(0,"li",11)}function ze(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",6),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().RemoveUser(e.SelectedData)}),M.Qb(1,"i",12),M.Hc(2," Delete User "),M.Ub()}}function Se(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",3),M.Fc(1,me,3,0,"li",4),M.Fc(2,ye,4,2,"li",4),M.Fc(3,Ce,1,0,"li",5),M.Vb(4,"li",6),M.dc("click",function(){return M.yc(n),M.gc().AddUser()}),M.Qb(5,"i",7),M.Hc(6," Add User "),M.Ub(),M.Fc(7,ze,3,0,"li",4),M.Ub()}if(2&e){var i=t.$implicit;M.Bb(1),M.nc("ngIf",i.Single),M.Bb(1),M.nc("ngIf",i.Single),M.Bb(1),M.nc("ngIf",i.Single),M.Bb(4),M.nc("ngIf",i.Any)}}function xe(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",13),M.dc("click",function(){return M.yc(n),M.gc().ReloadUsersList()}),M.Qb(1,"i",14),M.Hc(2,"Reload Users"),M.Ub()}}var we,Ue=((we=function(){function e(n,i,o,r,c,a,s){var u=this;l(this,e),this.uiService=n,this.idService=i,this.router=o,this.route=r,this.overlay=c,this.modal=a,this.viewContainerRef=s,this.users$=this.idService.GetAllUsers().pipe(Object(P.a)(function(e){return console.log(e),e.map(function(e){var n,i=null!==(n=e.Logins)&&void 0!==n?n:[];return e.HasPassword&&(i=["Local"].concat(t(i))),Object.assign(Object.assign({},e),{Logins:i})})})),this.grid=(new R.d).SetColumns(function(e){return e.Default("UserName").SetHeader("Username").SetInitialWidth(200,!0).SetLeftFixed().SetCssClass("pValue")},function(e){return e.Default("FirstName").SetHeader("Firstname").SetInitialWidth(200,!0)},function(e){return e.Default("LastName").SetHeader("Lastname").SetInitialWidth(200,!0)},function(e){return e.Default("Email").AddClassRule("not-confirmed","!data.EmailConfirmed").AddClassRule("confirmed1","data.EmailConfirmed")},function(e){return e.Default("PhoneNumber").SetHeader("Phone").AddClassRule("not-confirmed","!data.PhoneNumberConfirmed").AddClassRule("confirmed1","data.PhoneNumberConfirmed")},function(e){return e.Label("Logins").SetInitialWidth(200,!0).SetRendererParams({labelClass:function(){return"ant-tag"}})}).SetData(this.users$).WithRowSelection("multiple").WithShiftResizeMode().OnCellContextMenu(function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);var n=new R.a(e.api,e.event);u.contextMenu=u.overlay.OpenContextMenu(e.event,u.itemsContextMenu,u.viewContainerRef,n)}).OnViewPortContextMenu(function(e,t){var n=new R.a(t,e);u.contextMenu=u.overlay.OpenContextMenu(e,u.itemsContextMenu,u.viewContainerRef,n)}).OnRowDoubleClicked(function(e){u.EditUser(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnViewPortClick(function(e,t){t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetRowClassRules({"not-confirmed":"!data.Active"}).SetDataImmutable(function(e){return e.Id}),n.Set(function(e){e.Header.Title="IDP / Users",e.Content.Scrollable=!1,e.Header.Icon="fa#user"})}return d(e,[{key:"AddUser",value:function(){this.router.navigate(["create"],{relativeTo:this.route})}},{key:"EditUser",value:function(e){this.router.navigate([e.Id],{relativeTo:this.route})}},{key:"RemoveUser",value:function(e){var n;(n=this.idService).DeleteUser.apply(n,t(e.map(function(e){return e.Id}))).subscribe()}},{key:"ReloadUsersList",value:function(){this.idService.ReLoadUsers()}},{key:"SetPassword",value:function(e){var t,n=this;this.modal.FromComponent(_).SetData({}).SetModalOptions({overlayConfig:{width:"400px"}}).OnClose(function(){}).AddEventHandler("SetPassword",function(t){return n.idService.SetPassword(e.Id,t.payload)}).AddEventHandler("ClearPassword",function(t){return n.idService.ClearPassword(e.Id)}).Open(),null===(t=this.contextMenu)||void 0===t||t.Close()}}]),e}()).\u0275fac=function(e){return new(e||we)(M.Pb(L.a),M.Pb(le),M.Pb(V.i),M.Pb(V.a),M.Pb(D.c),M.Pb(D.b),M.Pb(M.Q))},we.\u0275cmp=M.Jb({type:we,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&M.Lc(he,1),2&e&&M.uc(n=M.ec())&&(t.itemsContextMenu=n.first)},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-divider","",4,"ngIf"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-icon","","nzType","edit","nzTheme","outline"],["icon","fa#key"],[4,"ngIf"],["nz-menu-divider",""],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Qb(0,"ag-grid-angular",0),M.Fc(1,Se,8,4,"ng-template",null,1,M.Gc),M.Fc(3,xe,3,0,"ng-template",2)),2&e&&M.nc("dbGrid",t.grid)},directives:[ue.a,R.b,de.e,be.c,U.o,G.a,be.e,fe.a,pe.c,be.d,N.a,Q.a],styles:["[_nghost-%COMP%]{padding:10px 0}"],changeDetection:0}),we),ke=["itemsContextMenu"];function Ve(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().EditRole(e.First)}),M.Qb(1,"i",7),M.Hc(2," Edit Role "),M.Ub()}}function Re(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().RemoveRole(e.SelectedData)}),M.Qb(1,"i",8),M.Hc(2," Delete Role "),M.Ub()}}function Pe(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",3),M.Vb(1,"li",4),M.dc("click",function(){return M.yc(n),M.gc().AddRole()}),M.Qb(2,"i",5),M.Hc(3," Add Role "),M.Ub(),M.Fc(4,Ve,3,0,"li",6),M.Fc(5,Re,3,0,"li",6),M.Ub()}if(2&e){var i=t.$implicit;M.Bb(4),M.nc("ngIf",i.Single),M.Bb(1),M.nc("ngIf",i.Any)}}function Oe(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",9),M.dc("click",function(){return M.yc(n),M.gc().ReloadRolesList()}),M.Qb(1,"i",10),M.Hc(2,"Reload Roles"),M.Ub()}}var Ae,Ie=((Ae=function(){function e(t,n,i,o,r,c,a){var s=this;l(this,e),this.uiService=t,this.idService=n,this.router=i,this.route=o,this.overlay=r,this.viewContainerRef=c,this.identityRolesQuery=a,this.grid=(new R.d).SetColumns(function(e){return e.Default("Name").SetInitialWidth(200,!0).SetLeftFixed().SetCssClass("pValue")},function(e){return e.Default("DisplayName").SetInitialWidth(300,!0)},function(e){return e.Default("Description")}).SetData(this.idService.GetAllRoles()).WithRowSelection("multiple").WithShiftResizeMode().OnCellContextMenu(function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);var n=new R.a(e.api,e.event);s.contextMenu=s.overlay.OpenContextMenu(e.event,s.itemsContextMenu,s.viewContainerRef,n)}).OnViewPortContextMenu(function(e,t){var n=new R.a(t,e);s.contextMenu=s.overlay.OpenContextMenu(e,s.itemsContextMenu,s.viewContainerRef,n)}).OnRowDoubleClicked(function(e){s.EditRole(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnViewPortClick(function(e,t){t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetDataImmutable(function(e){return e.Id}),t.Set(function(e){e.Header.Title="IDP / Roles",e.Content.Scrollable=!1,e.Header.Icon="fa#user-tag"})}return d(e,[{key:"AddRole",value:function(){var e;this.router.navigate(["create"],{relativeTo:this.route}),null===(e=this.contextMenu)||void 0===e||e.Close()}},{key:"EditRole",value:function(e){var t;this.router.navigate([e.Id],{relativeTo:this.route}),null===(t=this.contextMenu)||void 0===t||t.Close()}},{key:"RemoveRole",value:function(e){var n,i;(n=this.idService).DeleteRole.apply(n,t(e.map(function(e){return e.Id}))).subscribe(),null===(i=this.contextMenu)||void 0===i||i.Close()}},{key:"ReloadRolesList",value:function(){this.idService.ReLoadRoles()}}]),e}()).\u0275fac=function(e){return new(e||Ae)(M.Pb(L.a),M.Pb(le),M.Pb(V.i),M.Pb(V.a),M.Pb(D.c),M.Pb(M.Q),M.Pb(J))},Ae.\u0275cmp=M.Jb({type:Ae,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&M.Lc(ke,1),2&e&&M.uc(n=M.ec())&&(t.itemsContextMenu=n.first)},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Qb(0,"ag-grid-angular",0),M.Fc(1,Pe,6,2,"ng-template",null,1,M.Gc),M.Fc(3,Oe,3,0,"ng-template",2)),2&e&&M.nc("dbGrid",t.grid)},directives:[ue.a,R.b,de.e,be.c,G.a,be.e,fe.a,U.o,N.a,Q.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),Ae),Me=["itemsContextMenu"];function De(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().EditClient(e.First)}),M.Qb(1,"i",7),M.Hc(2," Edit Client "),M.Ub()}}function Te(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().RemoveClient(e.SelectedData)}),M.Qb(1,"i",8),M.Hc(2," Delete Client "),M.Ub()}}function He(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",3),M.Vb(1,"li",4),M.dc("click",function(){return M.yc(n),M.gc().AddClient()}),M.Qb(2,"i",5),M.Hc(3," Add Client "),M.Ub(),M.Fc(4,De,3,0,"li",6),M.Fc(5,Te,3,0,"li",6),M.Ub()}if(2&e){var i=t.$implicit;M.Bb(4),M.nc("ngIf",i.Single),M.Bb(1),M.nc("ngIf",i.Any)}}function Be(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",9),M.dc("click",function(){return M.yc(n),M.gc().ReloadClientsList()}),M.Qb(1,"i",10),M.Hc(2,"Reload Clients"),M.Ub()}}var Fe,Ne=((Fe=function(){function e(t,n,i,o,r,c){var a=this;l(this,e),this.uiService=t,this.idService=n,this.router=i,this.route=o,this.overlay=r,this.viewContainerRef=c,this.grid=(new R.d).SetColumns(function(e){return e.Default("ClientId").SetInitialWidth(180,!0).SetLeftFixed().SetCssClass("pValue")},function(e){return e.Default("ClientName").SetInitialWidth(240,!0)},function(e){return e.Default("Description")},function(e){return e.Label("AllowedGrantTypes").SetRendererParams({labelClass:"ant-tag"})}).SetData(this.idService.GetAllClients()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);var n=new R.a(e.api,e.event);a.contextMenu=a.overlay.OpenContextMenu(e.event,a.itemsContextMenu,a.viewContainerRef,n)}).OnViewPortContextMenu(function(e,t){var n=new R.a(t,e);a.contextMenu=a.overlay.OpenContextMenu(e,a.itemsContextMenu,a.viewContainerRef,n)}).OnRowDoubleClicked(function(e){a.EditClient(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnViewPortClick(function(e,t){t.deselectAll()}),t.Set(function(e){e.Header.Title="IDP / Clients",e.Content.Scrollable=!1,e.Header.Icon="fa#desktop"})}return d(e,[{key:"AddClient",value:function(){this.router.navigate(["create"],{relativeTo:this.route})}},{key:"EditClient",value:function(e){this.router.navigate([e.Id],{relativeTo:this.route})}},{key:"RemoveClient",value:function(e){var n,i;(n=this.idService).DeleteClient.apply(n,t(e.map(function(e){return e.Id}))).subscribe(),null===(i=this.contextMenu)||void 0===i||i.Close()}},{key:"ReloadClientsList",value:function(){this.idService.ReLoadClients()}}]),e}()).\u0275fac=function(e){return new(e||Fe)(M.Pb(L.a),M.Pb(le),M.Pb(V.i),M.Pb(V.a),M.Pb(D.c),M.Pb(M.Q))},Fe.\u0275cmp=M.Jb({type:Fe,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&M.Lc(Me,1),2&e&&M.uc(n=M.ec())&&(t.itemsContextMenu=n.first)},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Qb(0,"ag-grid-angular",0),M.Fc(1,He,6,2,"ng-template",null,1,M.Gc),M.Fc(3,Be,3,0,"ng-template",2)),2&e&&M.nc("dbGrid",t.grid)},directives:[ue.a,R.b,de.e,be.c,G.a,be.e,fe.a,U.o,N.a,Q.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),Fe),Qe=r("itXk"),Ge=r("bHdf"),_e=r("oyxB"),Le=r("IvDN"),je=r("0lU3");function Ee(e,t){if(1&e&&(M.Vb(0,"div",1),M.Vb(1,"div",2),M.Vb(2,"div",3),M.Hc(3),M.Ub(),M.Vb(4,"div",4),M.Hc(5),M.Ub(),M.Ub(),M.Vb(6,"div",5),M.Hc(7),M.Ub(),M.Ub()),2&e){var n=t.$implicit;M.Bb(3),M.Ic(n.DisplayName),M.Bb(2),M.Jc("(",n.Name,")"),M.Bb(2),M.Ic(n.Description)}}var We,$e,qe=(($e=function(){function e(){l(this,e),this.roleSubject$=new O.a(null),this.role$=this.roleSubject$.pipe(Object(P.a)(function(e){var t,n=null===(t=e.Description)||void 0===t?void 0:t.replace(/\r/g,"").split(/\n/);return Object.assign(Object.assign({},e),{Description:n&&n[0]})}))}return d(e,[{key:"agInit",value:function(e){this.roleSubject$.next(e.data)}},{key:"refresh",value:function(e){return!1}},{key:"afterGuiAttached",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||$e)},$e.\u0275cmp=M.Jb({type:$e,selectors:[["role-cell"]],decls:2,vars:3,consts:[["class","role",4,"ngIf"],[1,"role"],[1,"first-row"],[1,"displayname"],[1,"name"],[1,"description"]],template:function(e,t){1&e&&(M.Fc(0,Ee,8,3,"div",0),M.hc(1,"async")),2&e&&M.nc("ngIf",M.ic(1,1,t.role$))},directives:[U.o],pipes:[U.b],styles:[".displayname[_ngcontent-%COMP%]{font-weight:700;padding-right:4px}.name[_ngcontent-%COMP%]{font-size:x-small}.description[_ngcontent-%COMP%]{font-size:smaller;line-height:normal}.role[_ngcontent-%COMP%]{height:50px}.first-row[_ngcontent-%COMP%]{display:flex}"]}),$e),Je=((We=function(){function e(){l(this,e),this.iconSubject$=new O.a(null)}return d(e,[{key:"agInit",value:function(e){this._params=e;var t=e.icon;this.iconSubject$.next(void 0!==t&&null!=t?t:e.value);var n=e.onClick;void 0!==n&&null!=n&&(this.onClick=n)}},{key:"Click",value:function(e){if(this.onClick)return this.onClick(e,this._params.node)}},{key:"refresh",value:function(e){return!1}},{key:"afterGuiAttached",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||We)},We.\u0275cmp=M.Jb({type:We,selectors:[["icon-cell"]],decls:3,vars:3,consts:[[1,"center",3,"click"],[3,"icon"]],template:function(e,t){1&e&&(M.Vb(0,"div",0),M.dc("click",function(e){return t.Click(e)}),M.Qb(1,"db-icon",1),M.hc(2,"async"),M.Ub()),2&e&&(M.Bb(1),M.nc("icon",M.ic(2,1,t.iconSubject$)))},directives:[pe.c],pipes:[U.b],styles:[".center[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;top:0;left:0;right:0;bottom:0;justify-content:center}.center[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{height:auto;margin-left:auto;margin-right:auto}"],changeDetection:0}),We),Ze=["itemsContextMenu"],Ke=["availableContextMenu"];function Xe(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",9),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().Remove(e.SelectedData)}),M.Qb(1,"i",10),M.Hc(2," Remove "),M.Ub()}}function Ye(e,t){if(1&e&&(M.Vb(0,"ul",7),M.Fc(1,Xe,3,0,"li",8),M.Ub()),2&e){var n=t.$implicit;M.Bb(1),M.nc("ngIf",n.Any)}}function et(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",9),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().Add(e.SelectedData)}),M.Qb(1,"i",10),M.Hc(2," Add "),M.Ub()}}function tt(e,t){if(1&e&&(M.Vb(0,"ul",7),M.Fc(1,et,3,0,"li",8),M.Ub()),2&e){var n=t.$implicit;M.Bb(1),M.nc("ngIf",n.Any)}}var nt,it=((nt=function(){function n(t,i,o){var r=this;l(this,n),this.idService=t,this.overlay=i,this.viewContainerRef=o,this.assignedRolesSubject$=new O.a([]),this._disabled=!1,this.assignedRolesChange=new M.n,this.availableRoles$=this.idService.GetAllRoles().pipe(Object(P.a)(function(e){return e.sort(function(e,t){return e.Name>t.Name?1:e.Name<t.Name?-1:0})})),this.filteredAvailableRoles$=Object(Qe.a)(this.availableRoles$,this.assignedRolesSubject$).pipe(Object(P.a)(function(t){var n=e(t,2),i=n[0],o=n[1];return i.filter(function(e){return-1===o.map(function(e){return e.Id}).indexOf(e.Id)})})),this.normalizedAssignedRoles$=this.assignedRolesSubject$.pipe(Object(P.a)(function(e){return e.sort(function(e,t){return e.Name>t.Name?1:e.Name<t.Name?-1:0})})),this.grid=(new R.d).SetColumns(function(e){return e.Default("Type").SetRenderer(Je).SetCssClass("scope-type").SetRendererParams({icon:"fa#user-tag"}).SetFixedWidth(50)},function(e){return e.Default("Name").SetRenderer(qe).Set(function(e){e.autoHeight=!0})},function(e){return e.Default("").SetCssClass("action-column").SetRenderer(Je).SetRendererParams({icon:"delete",onClick:function(e,t){var n=r.grid.GetGridApi(),i=r.grid.GetSelectedData();r.Remove(!i||i.length<=1?[t.data]:i),n.deselectAll()}}).SetFixedWidth(50)}).WithRowSelection("multiple").OnDataUpdate(function(e){r.propagateChange(e)}).SetData(this.normalizedAssignedRoles$).OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnCellContextMenu(function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);var n=new R.a(e.api,e.event);r.contextMenu=r.overlay.OpenContextMenu(e.event,r.itemsContextMenu,r.viewContainerRef,n)}).OnViewPortClick(function(e,t){t.deselectAll()}).SetDataImmutable(function(e){return e.Id}),this.availablegrid=(new R.d).SetColumns(function(e){return e.Default("").SetRenderer(Je).SetCssClass("action-column").SetRendererParams({icon:"left",onClick:function(e,t){var n=r.availablegrid.GetGridApi(),i=n.getSelectedNodes().map(function(e){return e.data});r.Add(!i||i.length<=1?[t.data]:i),n.deselectAll()}}).SetFixedWidth(50)},function(e){return e.Default("Type").SetRenderer(Je).SetCssClass("scope-type").SetRendererParams({icon:"fa#user-tag"}).SetFixedWidth(50)},function(e){return e.Default("Name").SetRenderer(qe).Set(function(e){e.autoHeight=!0})}).WithRowSelection("multiple").OnCellContextMenu(function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);var n=new R.a(e.api,e.event);r.contextMenu=r.overlay.OpenContextMenu(e.event,r.availableContextMenu,r.viewContainerRef,n)}).SetData(this.filteredAvailableRoles$).OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnViewPortClick(function(e,t){t.deselectAll()}).SetDataImmutable(function(e){return e.Id}),this.registered=[],this.onTouched=function(){}}return d(n,[{key:"assignedRoles",get:function(){return this.assignedRolesSubject$.value},set:function(e){var t=e||[];0==t.length&&(t=[]),this.assignedRolesSubject$.next(e)}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=null!=e&&!1!==e&&!!e}},{key:"Remove",value:function(e){var t;this.assignedRoles=this.grid.GetData().filter(function(t){return!e.map(function(e){return e.Id}).includes(t.Id)}),null===(t=this.contextMenu)||void 0===t||t.Close()}},{key:"Add",value:function(e){var n,i=this;this.assignedRoles=[].concat(t(this.assignedRoles),t(e.filter(function(e){return!i.assignedRoles.map(function(e){return e.Id}).includes(e.Id)}))),null===(n=this.contextMenu)||void 0===n||n.Close()}},{key:"propagateChange",value:function(e){this.assignedRolesChange.emit(e),this.registered.forEach(function(t){t(e)})}},{key:"writeValue",value:function(e){this.assignedRoles=e}},{key:"registerOnChange",value:function(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}}]),n}()).\u0275fac=function(e){return new(e||nt)(M.Pb(le),M.Pb(D.c),M.Pb(M.Q))},nt.\u0275cmp=M.Jb({type:nt,selectors:[["roles-manager"]],viewQuery:function(e,t){var n;1&e&&(M.Lc(Ze,1),M.Lc(Ke,1)),2&e&&(M.uc(n=M.ec())&&(t.itemsContextMenu=n.first),M.uc(n=M.ec())&&(t.availableContextMenu=n.first))},inputs:{assignedRoles:"assignedRoles",disabled:"disabled"},outputs:{assignedRolesChange:"assignedRolesChange"},features:[M.Ab([{provide:k.k,useExisting:nt,multi:!0}])],decls:14,vars:2,consts:[[2,"display","flex","flex-direction","row","padding","3px","height","100%","width","100%"],[2,"flex-grow","1","display","flex","flex-direction","column"],[2,"text-align","center"],[1,"ag-theme-balham","no-header","no-scrollbar",3,"dbGrid"],[2,"width","30px"],["itemsContextMenu",""],["availableContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(M.Vb(0,"div",0),M.Vb(1,"div",1),M.Vb(2,"h3",2),M.Hc(3,"Assigned Roles"),M.Ub(),M.Qb(4,"ag-grid-angular",3),M.Ub(),M.Qb(5,"div",4),M.Vb(6,"div",1),M.Vb(7,"h3",2),M.Hc(8,"Available Roles"),M.Ub(),M.Qb(9,"ag-grid-angular",3),M.Ub(),M.Ub(),M.Fc(10,Ye,2,1,"ng-template",null,5,M.Gc),M.Fc(12,tt,2,1,"ng-template",null,6,M.Gc)),2&e&&(M.Bb(4),M.nc("dbGrid",t.grid),M.Bb(5),M.nc("dbGrid",t.availablegrid))},directives:[ue.a,R.b,be.c,U.o,G.a,be.e,fe.a],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex}.ag-theme-balham[_ngcontent-%COMP%]   .scopes-manager-list[_ngcontent-%COMP%], [_nghost-%COMP%]{height:100%}.ag-center-cols-viewport[_ngcontent-%COMP%] {overflow-x:hidden!important}"],changeDetection:0}),nt),ot=function e(){l(this,e),this.Type=null,this.Value=null},rt=r("6NWb"),ct=["itemsContextMenu"],at=function(){return["far","plus-square"]};function st(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",3),M.Vb(1,"li",4),M.dc("click",function(){return M.yc(n),M.gc().AddClaim()}),M.Qb(2,"fa-icon",5),M.Hc(3," Add Claim "),M.Ub(),M.Ub()}2&e&&(M.Bb(2),M.nc("icon",M.pc(1,at)))}function lt(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){return M.yc(n),M.gc(2).AddClaim()}),M.Qb(1,"fa-icon",5),M.Hc(2," Add Claim "),M.Ub()}2&e&&(M.Bb(1),M.nc("icon",M.pc(1,at)))}function ut(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().RemoveClaim(e.SelectedData)}),M.Qb(1,"i",7),M.Hc(2," Delete "),M.Ub()}}function dt(e,t){if(1&e&&(M.Vb(0,"ul",3),M.Fc(1,lt,3,2,"li",6),M.Fc(2,ut,3,0,"li",6),M.Ub()),2&e){var n=t.$implicit,i=M.gc();M.Bb(1),M.nc("ngIf",i.HasAction("add")),M.Bb(1),M.nc("ngIf",n.Any)}}var bt,ft=((bt=function(){function e(t,n){l(this,e),this.overlay=t,this.viewContainerRef=n,this._claims=[],this._disabled=!1,this.showIssuer=!1,this.allowedActions=["add","edit","remove"],this.claimsChange=new M.n,this.grid=null,this.i=0,this.registered=[],this.onTouched=function(){}}return d(e,[{key:"claims",get:function(){return this._claims},set:function(e){var t,n=e||[];0==n.length&&(n=[]),this._claims=n,null===(t=this.grid)||void 0===t||t.SetData(this._claims)}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=null!=e&&!1!==e&&!!e}},{key:"buildGrid",value:function(){var e=this;return(new R.d).SetColumns(function(t){return t.Default("Type").Editable(e.allowedActions.includes("edit")).SetInitialWidth(300,!0).Set(function(e){e.filter="agTextColumnFilter",e.filterParams={buttons:["reset","apply"]}})},function(t){return t.Default("Value").Editable(e.allowedActions.includes("edit"))},function(t){return t.Default("Issuer").SetHidden(!e.showIssuer)}).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnDataUpdate(function(t){return e.propagateChange(t)}).OnCellContextMenu(function(t){var n=t.api.getSelectedNodes();0!=n.length&&n.includes(t.node)||t.node.setSelected(!0,!0);var i=new R.a(t.api,t.event);e.contextMenu=e.overlay.OpenContextMenu(t.event,e.itemsContextMenu,e.viewContainerRef,i)}).OnViewPortContextMenu(function(t,n){if(e.allowedActions.includes("add")){n.deselectAll();var i=new R.a(n,t);e.contextMenu=e.overlay.OpenContextMenu(t,e.itemsContextMenu,e.viewContainerRef,i)}}).OnRowDoubleClicked(function(e){}).StopEditingWhenGridLosesFocus().OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnViewPortClick(function(e,t){t.deselectAll()})}},{key:"ngOnInit",value:function(){this.grid=this.buildGrid()}},{key:"buildNextClaim",value:function(){var e=new ot;return this.i++,e}},{key:"HasAction",value:function(e){return this.allowedActions.includes(e)}},{key:"AddClaim",value:function(){this.claims=[].concat(t(this.claims),[this.buildNextClaim()]),this.contextMenu.Close()}},{key:"RemoveClaim",value:function(e){this.claims=this.claims.filter(function(t){return!e.includes(t)}),this.contextMenu.Close()}},{key:"propagateChange",value:function(e){this.claimsChange.emit(e),this.registered.forEach(function(t){t(e)})}},{key:"writeValue",value:function(e){this.claims=e}},{key:"registerOnChange",value:function(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}}]),e}()).\u0275fac=function(e){return new(e||bt)(M.Pb(D.c),M.Pb(M.Q))},bt.\u0275cmp=M.Jb({type:bt,selectors:[["claims-manager"]],viewQuery:function(e,t){var n;1&e&&M.Lc(ct,1),2&e&&M.uc(n=M.ec())&&(t.itemsContextMenu=n.first)},inputs:{claims:"claims",disabled:"disabled",showIssuer:"showIssuer",allowedActions:"allowedActions"},outputs:{claimsChange:"claimsChange"},features:[M.Ab([{provide:k.k,useExisting:bt,multi:!0}])],decls:5,vars:1,consts:[[1,"ag-theme-balham","no-scrollbar",3,"dbGrid"],["viewportContextMenu",""],["itemsContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","",3,"icon"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(M.Qb(0,"ag-grid-angular",0),M.Fc(1,st,4,2,"ng-template",null,1,M.Gc),M.Fc(3,dt,3,2,"ng-template",null,2,M.Gc)),2&e&&M.nc("dbGrid",t.grid)},directives:[ue.a,R.b,be.c,G.a,be.e,rt.b,fe.a,U.o],styles:["[_nghost-%COMP%]{width:100%;flex-grow:1;display:flex;flex-direction:column}.editable-cell[_ngcontent-%COMP%]{position:relative;padding:5px 12px;cursor:pointer;min-height:32px}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px;padding:4px 11px}.editable-row[_ngcontent-%COMP%]{height:49px}nz-table[_ngcontent-%COMP%]{flex-grow:1}"]}),bt);function pt(e,t){1&e&&(M.Qb(0,"i",38),M.Hc(1,"Basic "))}function ht(e,t){1&e&&(M.Qb(0,"db-icon",39),M.Hc(1,"Member Of "))}function mt(e,t){1&e&&(M.Vb(0,"div",40),M.Qb(1,"roles-manager",41),M.Ub())}function vt(e,t){1&e&&(M.Qb(0,"i",38),M.Hc(1,"Claims "))}function gt(e,t){1&e&&(M.Vb(0,"div",40),M.Qb(1,"claims-manager",42),M.Ub())}function yt(e,t){1&e&&(M.Qb(0,"i",38),M.Hc(1,"External Claims "))}var Ct=function(){return["remove"]};function zt(e,t){1&e&&(M.Vb(0,"div",40),M.Qb(1,"claims-manager",43),M.Ub()),2&e&&(M.Bb(1),M.nc("showIssuer",!0)("allowedActions",M.pc(2,Ct)))}function St(e,t){1&e&&(M.Qb(0,"i",46),M.Hc(1,"Debug"))}function xt(e,t){if(1&e&&(M.Vb(0,"nz-tab",4),M.Fc(1,St,2,0,"ng-template",null,44,M.Gc),M.Vb(3,"div",45),M.Vb(4,"pre"),M.Hc(5),M.hc(6,"json"),M.Ub(),M.Ub(),M.Ub()),2&e){var n=M.vc(2),i=M.gc(2);M.nc("nzTitle",n),M.Bb(5),M.Ic(M.ic(6,2,i.form.value))}}var wt=function(){return{inkBar:!0,tabPane:!1}};function Ut(e,t){if(1&e){var n=M.Wb();M.Tb(0),M.Vb(1,"form",2),M.Vb(2,"nz-tabset",3),M.Vb(3,"nz-tab",4),M.Fc(4,pt,2,0,"ng-template",null,5,M.Gc),M.Vb(6,"div",6),M.Vb(7,"div",7),M.Vb(8,"div",8),M.Vb(9,"div",9),M.Vb(10,"nz-form-label",10),M.Hc(11,"UserName"),M.Ub(),M.Vb(12,"nz-form-control"),M.Qb(13,"input",11),M.Ub(),M.Ub(),M.Ub(),M.Vb(14,"div",8),M.Vb(15,"div",12),M.Vb(16,"div",13),M.Vb(17,"nz-form-label",14),M.Hc(18,"Email"),M.Ub(),M.Qb(19,"div",7),M.Vb(20,"label",15),M.Hc(21,"Email Confirmed"),M.Ub(),M.Ub(),M.Vb(22,"nz-form-control"),M.Qb(23,"input",16),M.Ub(),M.Ub(),M.Vb(24,"div",12),M.Vb(25,"div",13),M.Vb(26,"nz-form-label",17),M.Hc(27,"Phone"),M.Ub(),M.Qb(28,"div",7),M.Vb(29,"label",18),M.Hc(30,"Phone Confirmed"),M.Ub(),M.Ub(),M.Vb(31,"nz-form-control"),M.Qb(32,"input",19),M.Ub(),M.Ub(),M.Ub(),M.Vb(33,"div",8),M.Vb(34,"div",12),M.Vb(35,"nz-form-label",20),M.Hc(36,"Firstname"),M.Ub(),M.Vb(37,"nz-form-control"),M.Qb(38,"input",21),M.Ub(),M.Ub(),M.Vb(39,"div",12),M.Vb(40,"nz-form-label",22),M.Hc(41,"Lastname"),M.Ub(),M.Vb(42,"nz-form-control"),M.Qb(43,"input",23),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Qb(44,"div",24),M.Vb(45,"div",25),M.Vb(46,"nz-collapse",26),M.Vb(47,"nz-collapse-panel",27),M.Vb(48,"label",28),M.Hc(49," Active "),M.Ub(),M.Qb(50,"br"),M.Vb(51,"label",29),M.Hc(52," TwoFactorEnabled "),M.Ub(),M.Qb(53,"br"),M.Vb(54,"label",30),M.Hc(55," LockoutEnabled "),M.Ub(),M.Qb(56,"br"),M.Ub(),M.Vb(57,"nz-collapse-panel",31),M.Vb(58,"nz-date-picker",32),M.dc("ngModelChange",function(e){return M.yc(n),M.gc().onOk(e)}),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Vb(59,"nz-tab",4),M.Fc(60,ht,2,0,"ng-template",null,33,M.Gc),M.Fc(62,mt,2,0,"ng-template",34),M.Ub(),M.Vb(63,"nz-tab",4),M.Fc(64,vt,2,0,"ng-template",null,35,M.Gc),M.Fc(66,gt,2,0,"ng-template",34),M.Ub(),M.Vb(67,"nz-tab",4),M.Fc(68,yt,2,0,"ng-template",null,36,M.Gc),M.Fc(70,zt,2,3,"ng-template",34),M.Ub(),M.Fc(71,xt,7,4,"nz-tab",37),M.hc(72,"async"),M.Ub(),M.Ub(),M.Sb()}if(2&e){var i=M.vc(5),o=M.vc(61),r=M.vc(65),c=M.vc(69),a=M.gc();M.Bb(1),M.nc("formGroup",a.form),M.Bb(1),M.nc("nzAnimated",M.pc(16,wt)),M.Bb(1),M.nc("nzTitle",i),M.Bb(5),M.nc("nzGutter",8),M.Bb(6),M.nc("nzGutter",8),M.Bb(19),M.nc("nzGutter",8),M.Bb(13),M.nc("nzBordered",!0),M.Bb(1),M.nc("nzActive",!0),M.Bb(10),M.nc("nzActive",!0),M.Bb(1),M.nc("nzFormat","dd.MM.yyyy 23:59"),M.Bb(1),M.nc("nzTitle",o),M.Bb(4),M.nc("nzTitle",r),M.Bb(4),M.nc("nzTitle",c),M.Bb(4),M.nc("ngIf",M.ic(72,14,a.showDebugInformations$))}}function kt(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",47),M.dc("click",function(){return M.yc(n),M.gc().Reload()}),M.Qb(1,"i",48),M.Hc(2,"Reload"),M.Ub()}}var Vt,Rt=((Vt=function(){function t(n,i,o,r,c){var a=this;l(this,t),this.uiService=n,this.fb=i,this.route=o,this.idService=r,this.cref=c,this.user$=Object(Qe.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(P.a)(function(t){var n=e(t,3),i=n[0];return n[1],n[2],a.Id=i.get("id"),a.idService.GetUser(a.Id)}),Object(Ge.a)(),Object(E.a)(function(e){return a.setUser(e)})),this.showDebugInformations$=this.uiService.showDebugInformations$,n.Set(function(e){e.Header.Title="Identity User",e.Content.Scrollable=!1,e.Header.Icon="fa#user",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=function(){return a.Save()},e.Footer.Button2.OnClick=function(){a.form.reset(a.BaseUser)}})}return d(t,[{key:"ngOnInit",value:function(){this.form=this.fb.group({Id:[null],UserName:[null,k.q.required],Email:[null,k.q.required],FirstName:[null],LastName:[null],PhoneNumber:[null],EmailConfirmed:[!1],PhoneNumberConfirmed:[!1],TwoFactorEnabled:[!1],LockoutEnabled:[!1],ExpiresOn:[null],Active:[null],Claims:[[]],ExternalClaims:[[]],Roles:[[]]})}},{key:"setUser",value:function(e){this.BaseUser||(this.BaseUser=e),this.uiService.Set(function(t){t.Header.Title="Identity User",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create User",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}},{key:"onOk",value:function(e){null==e||e.setHours(23,59,0,0)}},{key:"Save",value:function(){console.log(this),"create"==this.Id?this.idService.CreateUser(this.form.value).subscribe():this.idService.UpdateUser(this.form.value).subscribe()}},{key:"Reload",value:function(){var e=this;this.idService.GetUser(this.Id).subscribe(function(t){e.setUser(t),e.idService.ReLoadRoles()})}},{key:"BaseUser",get:function(){return this._baseUser},set:function(e){this._baseUser=JSON.parse(JSON.stringify(e))}}]),t}()).\u0275fac=function(e){return new(e||Vt)(M.Pb(L.a),M.Pb(k.e),M.Pb(V.a),M.Pb(le),M.Pb(M.h))},Vt.\u0275cmp=M.Jb({type:Vt,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","UserName"],["nz-input","","formControlName","UserName","id","UserName",2,"width","100%"],["nz-col","","nzSpan","12"],[2,"display","flex","flex-direction","row","width","100%"],["nzRequired","","nzFor","Email"],["nz-checkbox","","formControlName","EmailConfirmed",2,"white-space","nowrap","margin","auto"],["nz-input","","formControlName","Email","id","Email",2,"flex-grow","1"],["nzFor","PhoneNumber"],["nz-checkbox","","formControlName","PhoneNumberConfirmed",2,"white-space","nowrap","margin","auto"],["nz-input","","formControlName","PhoneNumber","id","PhoneNumber",2,"flex-grow","1"],["nzFor","FirstName"],["nz-input","","formControlName","FirstName","id","FirstName",2,"width","100%"],["nzFor","LastName"],["nz-input","","formControlName","LastName","id","LastName",2,"width","100%"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],[3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Active"],["nz-checkbox","","formControlName","TwoFactorEnabled"],["nz-checkbox","","formControlName","LockoutEnabled"],["nzHeader","Expires On",3,"nzActive"],["formControlName","ExpiresOn","nzAllowClear","",2,"width","100%",3,"nzFormat","ngModelChange"],["MemberOfTitle",""],["nz-tab",""],["ClaimsTitle",""],["ExternalClaimsTitle",""],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["icon","fa#users-cog"],[2,"display","flex","flex-direction","row","padding","3px 0px","flex-grow","1"],["formControlName","Roles"],["formControlName","Claims"],["formControlName","ExternalClaims",3,"showIssuer","allowedActions"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Fc(0,Ut,73,17,"ng-container",0),M.hc(1,"async"),M.Fc(2,kt,3,0,"ng-template",1)),2&e&&M.nc("ngIf",M.ic(1,1,t.user$))},directives:[U.o,de.e,k.r,k.n,T.b,k.h,_e.c,_e.a,H.c,H.a,T.d,T.a,B.b,k.d,k.m,k.g,F.a,Le.a,Le.c,je.b,_e.b,G.a,fe.a,pe.c,it,ft,N.a,Q.a],pipes:[U.b,U.i],styles:[""],changeDetection:0}),Vt);function Pt(e,t){var n,i,o,r;return(null===(n=e.UserName)||void 0===n?void 0:n.toLowerCase())<(null===(i=t.UserName)||void 0===i?void 0:i.toLowerCase())?-1:(null===(o=e.UserName)||void 0===o?void 0:o.toLowerCase())>(null===(r=t.UserName)||void 0===r?void 0:r.toLowerCase())?1:0}var Ot=r("F6ss"),At=r("5+WD"),It=r("VRyK"),Mt=r("LRne");function Dt(e,t){if(1&e){var n=M.Wb();M.Vb(0,"i",16),M.dc("click",function(){return M.yc(n),M.gc(2).form.get("Filter").patchValue("")}),M.Ub()}}function Tt(e,t){if(1&e&&(M.Fc(0,Dt,1,0,"i",15),M.hc(1,"async")),2&e){var n=M.gc();M.nc("ngIf",M.ic(1,1,n.form.get("Filter").valueChanges))}}var Ht=function(){return["fas","chevron-left"]},Bt=function(){return["fas","chevron-right"]};function Ft(e,t){if(1&e){var n=M.Wb();M.Vb(0,"div",17),M.Vb(1,"div",18),M.Vb(2,"div",19),M.Qb(3,"fa-icon",20),M.Ub(),M.Vb(4,"div",21),M.dc("click",function(){M.yc(n);var e=t.$implicit;return M.gc().ToggleUser(e)}),M.Vb(5,"div",22),M.Hc(6),M.Ub(),M.Vb(7,"div"),M.Hc(8),M.Ub(),M.Vb(9,"div"),M.Hc(10),M.Ub(),M.Ub(),M.Vb(11,"div",19),M.Qb(12,"fa-icon",20),M.Ub(),M.Ub(),M.Ub()}if(2&e){var i=t.$implicit;M.Hb("deleted",i.Deleted),M.Bb(2),M.Hb("shrinked",i.Selected),M.Bb(1),M.nc("icon",M.pc(14,Ht)),M.Bb(1),M.Hb("isSelected",i.Selected),M.Bb(2),M.Ic(i.UserName),M.Bb(2),M.Kc("",i.FirstName," ",i.LastName,""),M.Bb(2),M.Ic(i.Email),M.Bb(1),M.Hb("shrinked",!i.Selected),M.Bb(1),M.nc("icon",M.pc(15,Bt))}}var Nt,Qt=function(){return["fas","angle-double-right"]},Gt=((Nt=function(){function n(t,i,o){var r=this;l(this,n),this.identityUsersQuery=t,this.identityService=i,this.fb=o,this.selectedUsersSubject$=new O.a([]),this.selectedUsersChanged=new M.n,this.closeSidebar=new M.n,this.form=this.fb.group({Filter:[null]}),this.filter$=Object(It.a)(Object(Mt.a)(null),this.form.get("Filter").valueChanges),this.availableUsers$=Object(Qe.a)(this.identityService.GetAllUsers(),this.selectedUsersSubject$,this.filter$).pipe(Object(P.a)(function(t){var n=e(t,3),i=n[0],o=n[1],c=n[2],a=i.filter(function(e){return e.Deleted}).map(function(e){return e.Id}),s=o.filter(function(e){return a.includes(e.Id)});if(s&&s.length>0){var l=o.map(function(e){return Object.assign(Object.assign({},e),{Deleted:s.includes(e)})});r.selectedUsersChanged.next(l)}var u=i;if(c){var d=new RegExp("".concat(c),"i");u=u.filter(function(e){return e.UserName.match(d)||e.Email.match(d)||e.Firstname.match(d)||e.Lastname.match(d)})}return u.sort(Pt).map(function(e){return Object.assign(Object.assign({},e),{Selected:o.map(function(e){return e.Id}).includes(e.Id)})})}))}return d(n,[{key:"selectedUsers",set:function(e){this.selectedUsersSubject$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"ToggleUser",value:function(e){var n;n=e.Selected?this.selectedUsersSubject$.getValue().filter(function(t){return t.Id!=e.Id}):[].concat(t(this.selectedUsersSubject$.getValue()),[e]),this.selectedUsersChanged.next(n)}},{key:"Close",value:function(){this.closeSidebar.next()}}]),n}()).\u0275fac=function(e){return new(e||Nt)(M.Pb(K),M.Pb(le),M.Pb(k.e))},Nt.\u0275cmp=M.Jb({type:Nt,selectors:[["add-users-list"]],inputs:{selectedUsers:"selectedUsers"},outputs:{selectedUsersChanged:"selectedUsersChanged",closeSidebar:"closeSidebar"},decls:19,vars:7,consts:[[1,"main-header"],[1,"title-container"],[1,"title-icon","closeSidebar",2,"padding-left","8px",3,"click"],["nz-icon","",2,"font-size","x-large","width","32px","text-align","left",3,"icon"],[1,"title-icon"],["icon","fa#users",2,"font-size","20px","text-align","left"],[2,"display","flex","flex-direction","column","justify-content","center","line-height","1.3em"],[1,"title"],["nzNoColon","","nz-form","",2,"padding","10px","border-bottom","1px solid #eaeaeb",3,"formGroup"],[3,"nzSuffix"],["type","text","nz-input","","formControlName","Filter","placeholder","Filter"],["inputClearTpl",""],[2,"overflow-x","auto"],[2,"margin","10px 5px"],["class","userItem",3,"deleted",4,"ngFor","ngForOf"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[1,"userItem"],[2,"display","flex"],[1,"selector"],["nz-icon","",2,"width","1.18em","margin","0 .25rem 0 0","font-size","1.2em",3,"icon"],[1,"action-item",2,"padding","5px","flex-grow","1",3,"click"],[2,"font-size","large","font-weight","bold"]],template:function(e,t){if(1&e&&(M.Vb(0,"div",0),M.Vb(1,"div",1),M.Vb(2,"div",2),M.dc("click",function(){return t.Close()}),M.Qb(3,"fa-icon",3),M.Ub(),M.Vb(4,"div",4),M.Qb(5,"db-icon",5),M.Ub(),M.Vb(6,"div",6),M.Vb(7,"div",7),M.Hc(8," Available Users "),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Vb(9,"form",8),M.Vb(10,"nz-form-control"),M.Vb(11,"nz-input-group",9),M.Qb(12,"input",10),M.Ub(),M.Fc(13,Tt,2,3,"ng-template",null,11,M.Gc),M.Ub(),M.Ub(),M.Vb(15,"div",12),M.Vb(16,"div",13),M.Fc(17,Ft,13,16,"div",14),M.hc(18,"async"),M.Ub(),M.Ub()),2&e){var n=M.vc(14);M.Bb(3),M.nc("icon",M.pc(6,Qt)),M.Bb(6),M.nc("formGroup",t.form),M.Bb(2),M.nc("nzSuffix",n),M.Bb(6),M.nc("ngForOf",M.ic(18,4,t.availableUsers$))}},directives:[rt.b,G.a,fe.a,pe.c,k.r,k.n,T.b,k.h,H.a,T.a,B.c,B.d,B.b,k.d,k.m,k.g,U.n,U.o],pipes:[U.b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:100%}.action-item[_ngcontent-%COMP%]{margin-bottom:10px!important;border-radius:0!important;box-shadow:0 0 3px 1px #cecece;background-color:#fff}.action-item.disabled[_ngcontent-%COMP%]{opacity:.6;box-shadow:none;background-color:#e2e2e2}.action-item[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{border-right:1px solid #fff}.action-item[_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:#525e76;color:#fff}.action-item.selected[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{background-color:#292f3b;color:#fff}.action-item[_ngcontent-%COMP%]:hover{background-color:#b2b7c2}.new-rule.ui.button[_ngcontent-%COMP%]{margin:0}.options[_ngcontent-%COMP%]{background-color:grey;height:50px}.list-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:inherit!important}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background-color:inherit}.dragHandle[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}.list-item[_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:#e0e1e2}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{cursor:inherit}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:inherit}.list-item.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%], .new-rule.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%]{border-radius:0!important;background-color:#2f2f2f;color:#f5f5f5}.outer.cdk-drop-list-dragging[_ngcontent-%COMP%] > .new-rule.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%]{display:none}.context-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:0!important}.selector[_ngcontent-%COMP%]{padding:10px 0 0 5px;overflow:hidden;visibility:hidden}.isSelected[_ngcontent-%COMP%]{background-color:#525e76;color:#fff}.shrinked[_ngcontent-%COMP%]{width:0;padding:0}.userItem[_ngcontent-%COMP%]:hover   .selector[_ngcontent-%COMP%]{visibility:visible}.main-header[_ngcontent-%COMP%]{min-height:40px;max-height:40px;background-color:#292f3b;color:#f5f5f5;display:flex;flex-direction:row}.closeSidebar[_ngcontent-%COMP%]{transition:.1s}.closeSidebar[_ngcontent-%COMP%]:hover{transform:scale(1.3) translate(3px)}.main-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;align-items:center}.main-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;justify-items:center;padding-right:5px}.main-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}.main-header[_ngcontent-%COMP%]   .title.title-only[_ngcontent-%COMP%]{font-size:2em}.deleted[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]{text-decoration:line-through}"]}),Nt),_t=["itemsContextMenu"],Lt=["drawerTemplate"],jt=function(){return["far","plus-square"]};function Et(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",7),M.Vb(1,"li",8),M.dc("click",function(){return M.yc(n),M.gc().AddUser()}),M.Qb(2,"fa-icon",9),M.Hc(3," Add User "),M.Ub(),M.Ub()}2&e&&(M.Bb(2),M.nc("icon",M.pc(1,jt)))}function Wt(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",8),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().RemoveUser(e.SelectedData)}),M.Qb(1,"i",11),M.Hc(2," Delete "),M.Ub()}}function $t(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",7),M.Vb(1,"li",8),M.dc("click",function(){return M.yc(n),M.gc().AddUser()}),M.Qb(2,"fa-icon",9),M.Hc(3," Add User "),M.Ub(),M.Fc(4,Wt,3,0,"li",10),M.Ub()}if(2&e){var i=t.$implicit;M.Bb(2),M.nc("icon",M.pc(2,jt)),M.Bb(2),M.nc("ngIf",i.Any)}}var qt,Jt=((qt=function(){function e(t,n,i){var o=this;l(this,e),this.overlay=t,this.viewContainerRef=n,this.drawerService=i,this.usersSubject$=new O.a(null),this._users=[],this.sideBarOpen=!1,this._disabled=!1,this.usersChange=new M.n,this.grid=(new R.d).SetColumns(function(e){return e.Default("UserName").SetInitialWidth(200,!0)},function(e){return e.Default("FirstName").SetInitialWidth(200,!0)},function(e){return e.Default("LastName").SetInitialWidth(200,!0)},function(e){return e.Default("Email")}).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnDataUpdate(function(e){return o.propagateChange(e)}).OnCellContextMenu(function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);var n=new R.a(e.api,e.event);o.contextMenu=o.overlay.OpenContextMenu(e.event,o.itemsContextMenu,o.viewContainerRef,n)}).OnViewPortContextMenu(function(e,t){var n=new R.a(t,e);o.contextMenu=o.overlay.OpenContextMenu(e,o.itemsContextMenu,o.viewContainerRef,n)}).OnRowDoubleClicked(function(e){}).StopEditingWhenGridLosesFocus().OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnViewPortClick(function(e,t){t.deselectAll()}).SetDataImmutable(function(e){return e.Id}).SetRowClassRules({deleted:"data.Deleted"}),this.registered=[],this.onTouched=function(){}}return d(e,[{key:"users",get:function(){return this._users},set:function(e){var t,n=e||[];0==n.length&&(n=[]),this._users=n.sort(Pt),this.usersSubject$.next(this._users),null===(t=this.grid)||void 0===t||t.SetData(this._users)}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=null!=e&&!1!==e&&!!e}},{key:"RemoveUser",value:function(e){this.users=this.users.filter(function(t){return!e.includes(t)}),this.contextMenu.Close()}},{key:"AddUser",value:function(){this.sideBarOpen=!0,this.contextMenu.Close()}},{key:"UsersChanged",value:function(e){this.users=e,this.propagateChange(e)}},{key:"propagateChange",value:function(e){this.usersChange.emit(e),this.registered.forEach(function(t){t(e)})}},{key:"writeValue",value:function(e){this.users=e}},{key:"registerOnChange",value:function(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}}]),e}()).\u0275fac=function(e){return new(e||qt)(M.Pb(D.c),M.Pb(M.Q),M.Pb(Ot.b))},qt.\u0275cmp=M.Jb({type:qt,selectors:[["users-manager"]],viewQuery:function(e,t){var n;1&e&&(M.Lc(_t,1),M.Lc(Lt,1)),2&e&&(M.uc(n=M.ec())&&(t.itemsContextMenu=n.first),M.uc(n=M.ec())&&(t.drawerTemplate=n.first))},inputs:{users:"users",disabled:"disabled"},outputs:{usersChange:"usersChange"},features:[M.Ab([{provide:k.k,useExisting:qt,multi:!0}])],decls:9,vars:4,consts:[[2,"flex-grow","1","display","flex","position","relative"],["cdkDropList","",1,"ag-theme-balham",3,"dbGrid"],[1,"users-manager-sidebar"],[2,"height","100%","background-color","white"],[3,"selectedUsers","selectedUsersChanged","closeSidebar"],["viewportContextMenu",""],["itemsContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","",3,"icon"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(M.Vb(0,"div",0),M.Qb(1,"ag-grid-angular",1),M.Vb(2,"div",2),M.Vb(3,"div",3),M.Vb(4,"add-users-list",4),M.dc("selectedUsersChanged",function(e){return t.UsersChanged(e)})("closeSidebar",function(){return t.sideBarOpen=!1}),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Fc(5,Et,4,2,"ng-template",null,5,M.Gc),M.Fc(7,$t,5,3,"ng-template",null,6,M.Gc)),2&e&&(M.Bb(1),M.nc("dbGrid",t.grid),M.Bb(1),M.Hb("open",t.sideBarOpen),M.Bb(2),M.nc("selectedUsers",t.users))},directives:[ue.a,R.b,At.c,Gt,be.c,G.a,be.e,rt.b,fe.a,U.o],styles:["[_nghost-%COMP%]{width:100%;flex-grow:1;display:flex;flex-direction:column;overflow:hidden}.editable-cell[_ngcontent-%COMP%]{position:relative;padding:5px 12px;cursor:pointer;min-height:32px}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px;padding:4px 11px}.editable-row[_ngcontent-%COMP%]{height:49px}nz-table[_ngcontent-%COMP%]{flex-grow:1}.users-manager-sidebar[_ngcontent-%COMP%]{position:absolute;right:0;width:40%;height:100%;transition:.3s;border-left:1px solid grey;padding:0 1px 1px 0;transform:translate3d(100%,0,0)}.users-manager-sidebar.open[_ngcontent-%COMP%]{transform:translateZ(0)}"]}),qt);function Zt(e,t){1&e&&(M.Qb(0,"i",21),M.Hc(1,"Basic "))}function Kt(e,t){1&e&&(M.Qb(0,"db-icon",22),M.Hc(1,"Members "))}function Xt(e,t){1&e&&(M.Vb(0,"div",23),M.Qb(1,"users-manager",24),M.Ub())}function Yt(e,t){1&e&&(M.Qb(0,"i",27),M.Hc(1,"Debug"))}function en(e,t){if(1&e&&(M.Vb(0,"nz-tab",4),M.Fc(1,Yt,2,0,"ng-template",null,25,M.Gc),M.Vb(3,"div",26),M.Vb(4,"pre"),M.Hc(5),M.hc(6,"json"),M.Ub(),M.Ub(),M.Ub()),2&e){var n=M.vc(2),i=M.gc(2);M.nc("nzTitle",n),M.Bb(5),M.Ic(M.ic(6,2,i.form.value))}}var tn=function(){return{inkBar:!0,tabPane:!1}},nn=function(){return{minRows:4,maxRows:12}};function on(e,t){if(1&e&&(M.Tb(0),M.Vb(1,"form",2),M.Vb(2,"nz-tabset",3),M.Vb(3,"nz-tab",4),M.Fc(4,Zt,2,0,"ng-template",null,5,M.Gc),M.Vb(6,"div",6),M.Vb(7,"div",7),M.Vb(8,"div",8),M.Vb(9,"div",9),M.Vb(10,"nz-form-label",10),M.Hc(11,"Name"),M.Ub(),M.Vb(12,"nz-form-control"),M.Qb(13,"input",11),M.Ub(),M.Ub(),M.Ub(),M.Vb(14,"div",8),M.Vb(15,"div",9),M.Vb(16,"nz-form-label",12),M.Hc(17,"DisplayName"),M.Ub(),M.Vb(18,"nz-form-control"),M.Qb(19,"input",13),M.Ub(),M.Ub(),M.Ub(),M.Vb(20,"div",8),M.Vb(21,"div",9),M.Vb(22,"nz-form-label",14),M.Hc(23,"Description"),M.Ub(),M.Vb(24,"nz-form-control"),M.Qb(25,"textarea",15),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Qb(26,"div",16),M.Qb(27,"div",17),M.Ub(),M.Ub(),M.Vb(28,"nz-tab",4),M.Fc(29,Kt,2,0,"ng-template",null,18,M.Gc),M.Fc(31,Xt,2,0,"ng-template",19),M.Ub(),M.Fc(32,en,7,4,"nz-tab",20),M.hc(33,"async"),M.Ub(),M.Ub(),M.Sb()),2&e){var n=M.vc(5),i=M.vc(30),o=M.gc();M.Bb(1),M.nc("formGroup",o.form),M.Bb(1),M.nc("nzAnimated",M.pc(11,tn)),M.Bb(1),M.nc("nzTitle",n),M.Bb(5),M.nc("nzGutter",8),M.Bb(6),M.nc("nzGutter",8),M.Bb(6),M.nc("nzGutter",8),M.Bb(5),M.nc("nzAutosize",M.pc(12,nn)),M.Bb(3),M.nc("nzTitle",i),M.Bb(4),M.nc("ngIf",M.ic(33,9,o.showDebugInformations$))}}function rn(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",28),M.dc("click",function(){return M.yc(n),M.gc().Reload()}),M.Qb(1,"i",29),M.Hc(2,"Reload"),M.Ub()}}var cn,an=((cn=function(){function t(n,i,o,r,c){var a=this;l(this,t),this.uiService=n,this.fb=i,this.route=o,this.idService=r,this.cref=c,this.user$=Object(Qe.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(P.a)(function(t){var n=e(t,3),i=n[0];return n[1],n[2],a.Id=i.get("id"),a.idService.GetRole(a.Id)}),Object(Ge.a)(),Object(E.a)(function(e){return a.setRole(e)})),this.showDebugInformations$=this.uiService.showDebugInformations$,n.Set(function(e){e.Header.Title="Role",e.Content.Scrollable=!1,e.Header.Icon="fa#user-tag",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=function(){return a.Save()},e.Footer.Button2.OnClick=function(){a.form.reset(a.BaseDto)}})}return d(t,[{key:"ngOnInit",value:function(){this.form=this.fb.group({Id:[null],Name:[null,k.q.required],DisplayName:[null,k.q.required],Description:[null],Users:[[]]})}},{key:"onOk",value:function(e){e.setHours(23,59,0,0)}},{key:"Save",value:function(){console.log(this),"create"==this.Id?this.idService.CreateRole(this.form.value).subscribe():this.idService.UpdateRole(this.form.value).subscribe()}},{key:"setRole",value:function(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(function(t){t.Header.Title="Role",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create Role",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}},{key:"Reload",value:function(){var e=this;this.idService.GetRole(this.Id).subscribe(function(t){e.setRole(t),e.idService.ReLoadUsers()})}},{key:"BaseDto",get:function(){return this._baseDto},set:function(e){this._baseDto=JSON.parse(JSON.stringify(e))}}]),t}()).\u0275fac=function(e){return new(e||cn)(M.Pb(L.a),M.Pb(k.e),M.Pb(V.a),M.Pb(le),M.Pb(M.h))},cn.\u0275cmp=M.Jb({type:cn,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","DisplayName"],["nz-input","","formControlName","DisplayName","id","DisplayName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["UsersTitle",""],["nz-tab",""],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["icon","fa#users"],[2,"display","flex","flex-direction","row","padding","3px 0px","flex-grow","1"],["formControlName","Users"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Fc(0,on,34,13,"ng-container",0),M.hc(1,"async"),M.Fc(2,rn,3,0,"ng-template",1)),2&e&&M.nc("ngIf",M.ic(1,1,t.user$))},directives:[U.o,de.e,k.r,k.n,T.b,k.h,_e.c,_e.a,H.c,H.a,T.d,T.a,B.b,k.d,k.m,k.g,B.a,_e.b,G.a,fe.a,pe.c,Jt,N.a,Q.a],pipes:[U.b,U.i],styles:[""]}),cn),sn=function e(){l(this,e),this.Type="SharedSecret"};function ln(e,t){return e.Expiration<t.Expiration?-1:e.Expiration>t.Expiration?1:0}var un,dn=r("zAKX"),bn=((un=function(){function e(t,n){l(this,e),this.fb=t,this.context=n,this.secret=n.data,this.form=this.fb.group({Type:[null,k.q.required],Value:[],Description:[],Expiration:[]}),this.form.patchValue(this.secret||{})}return d(e,[{key:"onOk",value:function(e){null==e||e.setHours(23,59,0,0)}},{key:"ok",value:function(){var e=this;this.context.invoke("ok",this.form.value).subscribe(function(){e.context.handle.Close()})}},{key:"cancel",value:function(){this.context.handle.Close()}},{key:"onValueChange",value:function(e){console.log("Current value: ".concat(e))}},{key:"onPanelChange",value:function(e){console.log("Current value: ".concat(e.date)),console.log("Current mode: ".concat(e.mode))}}]),e}()).\u0275fac=function(e){return new(e||un)(M.Pb(k.e),M.Pb(D.d))},un.\u0275cmp=M.Jb({type:un,selectors:[["secret-modal"]],hostAttrs:[1,"flex-grow-column"],decls:32,vars:3,consts:[[1,"ui","top","attached","segment","modal-header",2,"padding","10px !important","display","flex"],[2,"color","whitesmoke","margin","auto"],[2,"font-size","2em","font-weight","bold","min-height","1.4285em","line-height","1.4285em","color","whitesmoke","margin","auto"],[2,"font-size","0.8em","line-height","initial","color","#bbbbbb"],["dbPortal","ModalSubHeader"],[2,"flex-grow","1"],[2,"display","flex","flex-direction","column","justify-content","center"],[1,"ui","attached","segment","modal-content"],["nz-form","",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],[1,"field",2,"flex-grow","1","display","flex","flex-direction","column"],["formControlName","Type",2,"width","100%"],["nzLabel","Shared Secret","nzValue","SharedSecret"],["nz-input","","formControlName","Value"],["nz-input","","formControlName","Description"],["formControlName","Expiration","nzAllowClear","",2,"width","100%",3,"nzFormat","ngModelChange"],[1,"ui","bottom","attached","segment","modal-footer",2,"margin-bottom","0px"],["nz-button","","nzType","primary","nzBlock","",2,"margin-right","1px",3,"disabled","click"],["nz-button","","nzType","default","nzBlock","",1,"secondary",2,"margin-left","1px",3,"click"]],template:function(e,t){1&e&&(M.Vb(0,"div",0),M.Vb(1,"div",1),M.Vb(2,"div",2),M.Hc(3," Secret "),M.Ub(),M.Vb(4,"div",3),M.Rb(5,4),M.Ub(),M.Ub(),M.Qb(6,"div",5),M.Qb(7,"div",6),M.Ub(),M.Vb(8,"div",7),M.Vb(9,"form",8),M.Vb(10,"div",9),M.Vb(11,"label"),M.Hc(12,"Type"),M.Ub(),M.Vb(13,"nz-select",10),M.Qb(14,"nz-option",11),M.Ub(),M.Ub(),M.Vb(15,"div",9),M.Vb(16,"label"),M.Hc(17,"Value"),M.Ub(),M.Qb(18,"input",12),M.Ub(),M.Vb(19,"div",9),M.Vb(20,"label"),M.Hc(21,"Description"),M.Ub(),M.Qb(22,"input",13),M.Ub(),M.Vb(23,"div",9),M.Vb(24,"label"),M.Hc(25,"Description"),M.Ub(),M.Vb(26,"nz-date-picker",14),M.dc("ngModelChange",function(e){return t.onOk(e)}),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Vb(27,"div",15),M.Vb(28,"button",16),M.dc("click",function(){return t.ok()}),M.Hc(29,"Save"),M.Ub(),M.Vb(30,"button",17),M.dc("click",function(){return t.cancel()}),M.Hc(31,"Cancel"),M.Ub(),M.Ub()),2&e&&(M.Bb(9),M.nc("formGroup",t.form),M.Bb(17),M.nc("nzFormat","dd.MM.yyyy 23:59"),M.Bb(2),M.nc("disabled",!t.form.valid))},directives:[de.d,k.r,k.n,T.b,k.h,dn.b,k.m,k.g,dn.a,B.b,k.d,je.b,N.a,Q.a,G.a],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}.secretCalendar[_ngcontent-%COMP%]  .ant-picker-calendar-mode-switch{display:none}"]}),un),fn=["itemsContextMenu"],pn=function(){return["far","plus-square"]};function hn(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",4),M.Vb(1,"li",5),M.dc("click",function(){return M.yc(n),M.gc().AddSecret()}),M.Qb(2,"fa-icon",6),M.Hc(3," Add Secret "),M.Ub(),M.Ub()}2&e&&(M.Bb(2),M.nc("icon",M.pc(1,pn)))}function mn(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",5),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().RemoveSecret(e.SelectedData)}),M.Qb(1,"i",8),M.Hc(2," Delete "),M.Ub()}}function vn(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",4),M.Vb(1,"li",5),M.dc("click",function(){return M.yc(n),M.gc().AddSecret()}),M.Qb(2,"fa-icon",6),M.Hc(3," Add Secret "),M.Ub(),M.Fc(4,mn,3,0,"li",7),M.Ub()}if(2&e){var i=t.$implicit;M.Bb(2),M.nc("icon",M.pc(2,pn)),M.Bb(2),M.nc("ngIf",i.Any)}}var gn,yn=((gn=function(){function e(t,n,i){var o=this;l(this,e),this.overlay=t,this.viewContainerRef=n,this.modal=i,this.secretsSubject$=new O.a(null),this._secrets=[],this.sideBarOpen=!1,this._disabled=!1,this.secretsChange=new M.n,this.grid=(new R.d).SetColumns(function(e){return e.Default("Type").SetInitialWidth(160,!0).Resizeable(!1)},function(e){return e.Default("Description")},function(e){return e.Date("Expiration").SetInitialWidth(200,!0)}).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnDataUpdate(function(e){return o.propagateChange(e)}).OnCellContextMenu(function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);var n=new R.a(e.api,e.event);o.contextMenu=o.overlay.OpenContextMenu(e.event,o.itemsContextMenu,o.viewContainerRef,n)}).OnViewPortContextMenu(function(e,t){var n=new R.a(t,e);o.contextMenu=o.overlay.OpenContextMenu(e,o.itemsContextMenu,o.viewContainerRef,n)}).OnRowDoubleClicked(function(e){o.createSecret(e.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(function(e){e.api.sizeColumnsToFit()}).OnViewPortClick(function(e,t){t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}),this.registered=[],this.onTouched=function(){}}return d(e,[{key:"secrets",get:function(){return this._secrets},set:function(e){var t,n=e||[];0==n.length&&(n=[]),this._secrets=n.sort(ln),this.secretsSubject$.next(this._secrets),null===(t=this.grid)||void 0===t||t.SetData(this._secrets)}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=null!=e&&!1!==e&&!!e}},{key:"createSecret",value:function(e){var n,i=this,o=null!=e?e:new sn;this.modal.FromComponent(bn).SetData(o).SetMetaData({create:!e}).SetModalOptions({overlayConfig:{width:"400px"}}).OnClose(function(){}).AddEventHandler("ok",function(n){var o=n.payload;return o.Id=null==e?void 0:e.Id,i.secrets=e?i.secrets.map(function(t){return t==e?o:t}):[].concat(t(i.secrets),[o]),console.log(o),Object(Mt.a)(!0)}).Open(),null===(n=this.contextMenu)||void 0===n||n.Close()}},{key:"RemoveSecret",value:function(e){this.secrets=this.secrets.filter(function(t){return!e.includes(t)}),this.contextMenu.Close()}},{key:"AddSecret",value:function(){this.createSecret(),this.contextMenu.Close()}},{key:"SecretsChanged",value:function(e){this.secrets=e,this.propagateChange(e)}},{key:"propagateChange",value:function(e){this.secretsChange.emit(e),this.registered.forEach(function(t){t(e)})}},{key:"writeValue",value:function(e){this.secrets=e}},{key:"registerOnChange",value:function(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}}]),e}()).\u0275fac=function(e){return new(e||gn)(M.Pb(D.c),M.Pb(M.Q),M.Pb(D.b))},gn.\u0275cmp=M.Jb({type:gn,selectors:[["secrets-manager"]],viewQuery:function(e,t){var n;1&e&&M.Lc(fn,1),2&e&&M.uc(n=M.ec())&&(t.itemsContextMenu=n.first)},inputs:{secrets:"secrets",disabled:"disabled"},outputs:{secretsChange:"secretsChange"},features:[M.Ab([{provide:k.k,useExisting:gn,multi:!0}])],decls:6,vars:1,consts:[[2,"flex-grow","1","display","flex","position","relative"],["cdkDropList","",1,"ag-theme-balham","no-scrollbar",3,"dbGrid"],["viewportContextMenu",""],["itemsContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","",3,"icon"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(M.Vb(0,"div",0),M.Qb(1,"ag-grid-angular",1),M.Ub(),M.Fc(2,hn,4,2,"ng-template",null,2,M.Gc),M.Fc(4,vn,5,3,"ng-template",null,3,M.Gc)),2&e&&(M.Bb(1),M.nc("dbGrid",t.grid))},directives:[ue.a,R.b,At.c,be.c,G.a,be.e,rt.b,fe.a,U.o],styles:["[_nghost-%COMP%]{width:100%;flex-grow:1;display:flex;flex-direction:column;overflow:hidden}.editable-cell[_ngcontent-%COMP%]{position:relative;padding:5px 12px;cursor:pointer;min-height:32px}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px;padding:4px 11px}.editable-row[_ngcontent-%COMP%]{height:49px}nz-table[_ngcontent-%COMP%]{flex-grow:1}.secrets-manager-sidebar[_ngcontent-%COMP%]{position:absolute;right:0;width:40%;height:100%;transition:.3s;border-left:1px solid grey;padding:0 1px 1px 0;transform:translate3d(100%,0,0)}.secrets-manager-sidebar.open[_ngcontent-%COMP%]{transform:translateZ(0)}"]}),gn),Cn=r("z4wI");function zn(e,t){if(1&e&&(M.Vb(0,"div",1),M.Vb(1,"div",2),M.Vb(2,"div",3),M.Hc(3),M.Ub(),M.Vb(4,"div",4),M.Hc(5),M.Ub(),M.Ub(),M.Vb(6,"div",5),M.Hc(7),M.Ub(),M.Ub()),2&e){var n=t.$implicit;M.Bb(3),M.Ic(n.DisplayName),M.Bb(2),M.Jc("(",n.Name,")"),M.Bb(2),M.Ic(n.Description)}}var Sn,xn=((Sn=function(){function e(){l(this,e),this.scopeSubject$=new O.a(null),this.scope$=this.scopeSubject$.pipe(Object(P.a)(function(e){var t,n=null===(t=e.Description)||void 0===t?void 0:t.replace(/\r/g,"").split(/\n/);return Object.assign(Object.assign({},e),{Description:n&&n[0]})}))}return d(e,[{key:"agInit",value:function(e){this.scopeSubject$.next(e.data)}},{key:"refresh",value:function(e){return!1}},{key:"afterGuiAttached",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||Sn)},Sn.\u0275cmp=M.Jb({type:Sn,selectors:[["scope-cell"]],decls:2,vars:3,consts:[["class","scope",4,"ngIf"],[1,"scope"],[1,"first-row"],[1,"displayname"],[1,"name"],[1,"description"]],template:function(e,t){1&e&&(M.Fc(0,zn,8,3,"div",0),M.hc(1,"async")),2&e&&M.nc("ngIf",M.ic(1,1,t.scope$))},directives:[U.o],pipes:[U.b],styles:[".displayname[_ngcontent-%COMP%]{font-weight:700;padding-right:4px}.name[_ngcontent-%COMP%]{font-size:x-small}.description[_ngcontent-%COMP%]{font-size:smaller;line-height:normal}.scope[_ngcontent-%COMP%]{height:50px}.first-row[_ngcontent-%COMP%]{display:flex}"]}),Sn),wn=["itemsContextMenu"],Un=["availableContextMenu"];function kn(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",9),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().Remove(e.SelectedData)}),M.Qb(1,"i",10),M.Hc(2," Remove "),M.Ub()}}function Vn(e,t){if(1&e&&(M.Vb(0,"ul",7),M.Fc(1,kn,3,0,"li",8),M.Ub()),2&e){var n=t.$implicit;M.Bb(1),M.nc("ngIf",n.Any)}}function Rn(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",9),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().Add(e.SelectedData)}),M.Qb(1,"i",10),M.Hc(2," Add "),M.Ub()}}function Pn(e,t){if(1&e&&(M.Vb(0,"ul",7),M.Fc(1,Rn,3,0,"li",8),M.Ub()),2&e){var n=t.$implicit;M.Bb(1),M.nc("ngIf",n.Any)}}var On,An=((On=function(){function n(i,o,r){var c=this;l(this,n),this.idService=i,this.overlay=o,this.viewContainerRef=r,this.assignedScopesSubject$=new O.a([]),this._disabled=!1,this.assignedScopesChange=new M.n,this.availableScopes$=Object(Qe.a)(this.idService.GetAllApiScopes(),this.idService.GetAllIdentityResources()).pipe(Object(P.a)(function(n){var i=e(n,2),o=i[0],r=i[1];return[].concat(t(o),t(r)).sort(function(e,t){return e.Name>t.Name?1:e.Name<t.Name?-1:0})}),Object(P.a)(function(e){return e.map(function(e){return c.NormalizeScopeProperties(e)})})),this.filteredAvailableScopes$=Object(Qe.a)(this.availableScopes$,this.assignedScopesSubject$).pipe(Object(P.a)(function(t){var n=e(t,2),i=n[0],o=n[1];return i.filter(function(e){return-1===o.map(function(e){return e.Id}).indexOf(e.Id)})})),this.normalizedAssignedScopes$=this.assignedScopesSubject$.pipe(Object(P.a)(function(e){return e.sort(function(e,t){return e.Name>t.Name?1:e.Name<t.Name?-1:0})}),Object(P.a)(function(e){return e.map(function(e){return c.NormalizeScopeProperties(e)})})),this.grid=(new R.d).SetColumns(function(e){return e.Default("Type").SetRenderer(Je).SetCssClass("scope-type").SetFixedWidth(50)},function(e){return e.Default("Name").SetRenderer(xn).Set(function(e){e.autoHeight=!0})},function(e){return e.Default("").SetCssClass("action-column").SetRenderer(Je).SetRendererParams({icon:"delete",onClick:function(e,t){var n=c.grid.GetGridApi(),i=c.grid.GetSelectedData();c.Remove(!i||i.length<=1?[t.data]:i),n.deselectAll()}}).SetFixedWidth(50)}).WithRowSelection("multiple").OnDataUpdate(function(e){c.propagateChange(e)}).SetData(this.normalizedAssignedScopes$).OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnCellContextMenu(function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);var n=new R.a(e.api,e.event);c.contextMenu=c.overlay.OpenContextMenu(e.event,c.itemsContextMenu,c.viewContainerRef,n)}).OnViewPortClick(function(e,t){t.deselectAll()}).SetDataImmutable(function(e){return e.Id}),this.availablegrid=(new R.d).SetColumns(function(e){return e.Default("").SetRenderer(Je).SetCssClass("action-column").SetRendererParams({icon:"left",onClick:function(e,t){var n=c.availablegrid.GetGridApi(),i=n.getSelectedNodes().map(function(e){return e.data});c.Add(!i||i.length<=1?[t.data]:i),n.deselectAll()}}).SetFixedWidth(50)},function(e){return e.Default("Type").SetRenderer(Je).SetCssClass("scope-type").SetFixedWidth(50)},function(e){return e.Default("Name").SetRenderer(xn).Set(function(e){e.autoHeight=!0})}).WithRowSelection("multiple").OnCellContextMenu(function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);var n=new R.a(e.api,e.event);c.contextMenu=c.overlay.OpenContextMenu(e.event,c.availableContextMenu,c.viewContainerRef,n)}).SetData(this.filteredAvailableScopes$).OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnViewPortClick(function(e,t){t.deselectAll()}).SetDataImmutable(function(e){return e.Id}),this.registered=[],this.onTouched=function(){}}return d(n,[{key:"assignedScopes",get:function(){return this.assignedScopesSubject$.value},set:function(e){var t=e||[];0==t.length&&(t=[]),this.assignedScopesSubject$.next(e)}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=null!=e&&!1!==e&&!!e}},{key:"NormalizeScopeProperties",value:function(e){var t=e.Type;switch(t){case"ApiScope":t="fa#cube";break;case"IdentityResource":t="fa#far|address-card"}return Object.assign(Object.assign({},e),{Type:t})}},{key:"Remove",value:function(e){var t;this.assignedScopes=this.grid.GetData().filter(function(t){return!e.map(function(e){return e.Id}).includes(t.Id)}),null===(t=this.contextMenu)||void 0===t||t.Close()}},{key:"Add",value:function(e){var n,i=this;this.assignedScopes=[].concat(t(this.assignedScopes),t(e.filter(function(e){return!i.assignedScopes.map(function(e){return e.Id}).includes(e.Id)}))),null===(n=this.contextMenu)||void 0===n||n.Close()}},{key:"propagateChange",value:function(e){this.assignedScopesChange.emit(e),this.registered.forEach(function(t){t(e)})}},{key:"writeValue",value:function(e){this.assignedScopes=e}},{key:"registerOnChange",value:function(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}}]),n}()).\u0275fac=function(e){return new(e||On)(M.Pb(le),M.Pb(D.c),M.Pb(M.Q))},On.\u0275cmp=M.Jb({type:On,selectors:[["scopes-manager"]],viewQuery:function(e,t){var n;1&e&&(M.Lc(wn,1),M.Lc(Un,1)),2&e&&(M.uc(n=M.ec())&&(t.itemsContextMenu=n.first),M.uc(n=M.ec())&&(t.availableContextMenu=n.first))},inputs:{assignedScopes:"assignedScopes",disabled:"disabled"},outputs:{assignedScopesChange:"assignedScopesChange"},features:[M.Ab([{provide:k.k,useExisting:On,multi:!0}])],decls:14,vars:2,consts:[[2,"display","flex","flex-direction","row","padding","3px","height","100%","width","100%"],[2,"flex-grow","1","display","flex","flex-direction","column"],[2,"text-align","center"],[1,"ag-theme-balham","no-header","no-scrollbar",3,"dbGrid"],[2,"width","30px"],["itemsContextMenu",""],["availableContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(M.Vb(0,"div",0),M.Vb(1,"div",1),M.Vb(2,"h3",2),M.Hc(3,"Assigned Scopes"),M.Ub(),M.Qb(4,"ag-grid-angular",3),M.Ub(),M.Qb(5,"div",4),M.Vb(6,"div",1),M.Vb(7,"h3",2),M.Hc(8,"Available Scopes"),M.Ub(),M.Qb(9,"ag-grid-angular",3),M.Ub(),M.Ub(),M.Fc(10,Vn,2,1,"ng-template",null,5,M.Gc),M.Fc(12,Pn,2,1,"ng-template",null,6,M.Gc)),2&e&&(M.Bb(4),M.nc("dbGrid",t.grid),M.Bb(5),M.nc("dbGrid",t.availablegrid))},directives:[ue.a,R.b,be.c,U.o,G.a,be.e,fe.a],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex}.ag-theme-balham[_ngcontent-%COMP%]   .scopes-manager-list[_ngcontent-%COMP%], [_nghost-%COMP%]{height:100%}.ag-center-cols-viewport[_ngcontent-%COMP%] {overflow-x:hidden!important}"],changeDetection:0}),On),In=["itemsContextMenu"],Mn=function(){return["far","plus-square"]};function Dn(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",3),M.Vb(1,"li",4),M.dc("click",function(){return M.yc(n),M.gc().AddEntry()}),M.Qb(2,"fa-icon",5),M.Hc(3," Add Entry "),M.Ub(),M.Ub()}2&e&&(M.Bb(2),M.nc("icon",M.pc(1,Mn)))}function Tn(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().RemoveEntry(e.SelectedData)}),M.Qb(1,"i",7),M.Hc(2," Delete "),M.Ub()}}function Hn(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",3),M.Vb(1,"li",4),M.dc("click",function(){return M.yc(n),M.gc().AddEntry()}),M.Qb(2,"fa-icon",5),M.Hc(3," Add Entry "),M.Ub(),M.Fc(4,Tn,3,0,"li",6),M.Ub()}if(2&e){var i=t.$implicit;M.Bb(2),M.nc("icon",M.pc(2,Mn)),M.Bb(2),M.nc("ngIf",i.Any)}}var Bn,Fn=((Bn=function(){function e(t,n,i){l(this,e),this.overlay=t,this.viewContainerRef=n,this.element=i,this._entries=[],this._disabled=!1,this._noScrollbar=!1,this.checkboxSelection=!1,this.entriesChange=new M.n,this.registered=[],this.onTouched=function(){}}return d(e,[{key:"entries",get:function(){return this._entries.map(function(e){return e.Value})},set:function(e){var t=e||[];0==t.length&&(t=[]),this.SetListEntries(t.map(function(e){return new Nn(e)}))}},{key:"SetListEntries",value:function(e){var t;this._entries=e,null===(t=this.grid)||void 0===t||t.SetData(this._entries)}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=null!=e&&!1!==e&&!!e}},{key:"noScrollbar",get:function(){return this._noScrollbar},set:function(e){this._noScrollbar=null!=e&&!1!==e&&!!e}},{key:"ngOnInit",value:function(){var e=this,t=this.element.nativeElement;t.attributes.getNamedItem("disabled")&&(this.disabled=!0),t.attributes.getNamedItem("no-scrollbar")&&(this.noScrollbar=!0);var n=new R.d;this.checkboxSelection&&n.SetColumns(function(t){return t.Default("").SetMaxWidth(40).SetMaxWidth(40).SuppressSizeToFit().Set(function(t){t.headerCheckboxSelection=e.checkboxSelection,t.checkboxSelection=e.checkboxSelection})}),this.grid=n.SetColumns(function(t){return t.Default("Value").SetHeader(e.header).Editable()}).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnDataUpdate(function(t){return e.propagateChange(t)}).OnCellContextMenu(function(t){var n=t.api.getSelectedNodes();0!=n.length&&n.includes(t.node)||t.node.setSelected(!0,!0);var i=new R.a(t.api,t.event);e.contextMenu=e.overlay.OpenContextMenu(t.event,e.itemsContextMenu,e.viewContainerRef,i)}).OnViewPortContextMenu(function(t,n){n.deselectAll();var i=new R.a(n,t);e.contextMenu=e.overlay.OpenContextMenu(t,e.itemsContextMenu,e.viewContainerRef,i)}).OnRowDoubleClicked(function(e){}).SetData(this.entries).StopEditingWhenGridLosesFocus().OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnViewPortClick(function(e,t){t.deselectAll()}).SetGridOptions({onCellEditingStopped:function(t){var n=[];t.api.forEachNode(function(e){n.push(e.data)}),e.propagateChange(n)}})}},{key:"AddEntry",value:function(){this.entries=[].concat(t(this.entries),[null]),this.contextMenu.Close()}},{key:"RemoveEntry",value:function(e){this.SetListEntries(this._entries.filter(function(t){return!e.includes(t)})),this.contextMenu.Close()}},{key:"propagateChange",value:function(e){var t=e.map(function(e){return e.Value}).filter(Boolean);this.entriesChange.emit(t),this.registered.forEach(function(e){e(t)})}},{key:"writeValue",value:function(e){this.entries=e}},{key:"registerOnChange",value:function(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}}]),e}()).\u0275fac=function(e){return new(e||Bn)(M.Pb(D.c),M.Pb(M.Q),M.Pb(M.l))},Bn.\u0275cmp=M.Jb({type:Bn,selectors:[["simple-list"]],viewQuery:function(e,t){var n;1&e&&M.Lc(In,1),2&e&&M.uc(n=M.ec())&&(t.itemsContextMenu=n.first)},inputs:{entries:"entries",header:"header",disabled:"disabled",noScrollbar:["no-scrollbar","noScrollbar"],checkboxSelection:"checkboxSelection"},outputs:{entriesChange:"entriesChange"},features:[M.Ab([{provide:k.k,useExisting:Bn,multi:!0}])],decls:5,vars:5,consts:[[1,"ag-theme-balham",3,"dbGrid"],["viewportContextMenu",""],["itemsContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","",3,"icon"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(M.Qb(0,"ag-grid-angular",0),M.Fc(1,Dn,4,2,"ng-template",null,1,M.Gc),M.Fc(3,Hn,5,3,"ng-template",null,2,M.Gc)),2&e&&(M.Hb("no-header",!t.header)("no-scrollbar",t.noScrollbar),M.nc("dbGrid",t.grid))},directives:[ue.a,R.b,be.c,G.a,be.e,rt.b,fe.a,U.o],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:100%}"]}),Bn),Nn=function e(t){l(this,e),this.Value=t};function Qn(e,t){1&e&&(M.Qb(0,"i",52),M.Hc(1,"Basic Configuration "))}function Gn(e,t){1&e&&(M.Qb(0,"i",52),M.Hc(1,"Consent Settings "))}function _n(e,t){1&e&&(M.Vb(0,"div",6),M.Vb(1,"div",7),M.Vb(2,"div",8),M.Vb(3,"div",15),M.Vb(4,"nz-form-label",53),M.Hc(5,"ClientUri"),M.Ub(),M.Vb(6,"nz-form-control"),M.Qb(7,"input",54),M.Ub(),M.Ub(),M.Ub(),M.Vb(8,"div",8),M.Vb(9,"div",15),M.Vb(10,"nz-form-label",55),M.Hc(11,"LogoUri"),M.Ub(),M.Vb(12,"nz-form-control"),M.Qb(13,"input",56),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Qb(14,"div",19),M.Vb(15,"div",20),M.Vb(16,"nz-collapse",57),M.Vb(17,"nz-collapse-panel",22),M.Vb(18,"label",58),M.Hc(19," Require Consent "),M.Ub(),M.Qb(20,"br"),M.Vb(21,"label",59),M.Hc(22," Allow Remember Consent "),M.Ub(),M.Qb(23,"br"),M.Ub(),M.Vb(24,"nz-collapse-panel",60),M.Qb(25,"nz-input-number",61),M.Vb(26,"span"),M.Hc(27,"Lifetime of a user consent in seconds. Defaults to null (no expiration)."),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub()),2&e&&(M.Bb(2),M.nc("nzGutter",8),M.Bb(6),M.nc("nzGutter",8),M.Bb(8),M.nc("nzBordered",!0),M.Bb(1),M.nc("nzActive",!0),M.Bb(7),M.nc("nzActive",!0),M.Bb(1),M.nc("nzStep",1))}function Ln(e,t){1&e&&(M.Qb(0,"i",52),M.Hc(1,"AllowedScopes "))}function jn(e,t){1&e&&(M.Vb(0,"div",62),M.Qb(1,"scopes-manager",63),M.Ub())}function En(e,t){1&e&&(M.Qb(0,"i",52),M.Hc(1,"Configure URIs "))}function Wn(e,t){1&e&&(M.Vb(0,"div",64),M.Qb(1,"simple-list",65),M.Qb(2,"simple-list",66),M.Qb(3,"simple-list",67),M.Ub())}function $n(e,t){1&e&&(M.Qb(0,"i",52),M.Hc(1,"Claims "))}function qn(e,t){1&e&&(M.Vb(0,"div",68),M.Vb(1,"div",69),M.Qb(2,"claims-manager",70),M.Ub(),M.Qb(3,"div",19),M.Vb(4,"div",71),M.Vb(5,"nz-collapse",57),M.Vb(6,"nz-collapse-panel",22),M.Vb(7,"label",72),M.Hc(8," Always Send Client Claims "),M.Ub(),M.Qb(9,"br"),M.Vb(10,"label",73),M.Hc(11," Always Include User Claims In IdToken "),M.Ub(),M.Qb(12,"br"),M.Vb(13,"label",74),M.Hc(14," Update AccessToken Claims On Refresh "),M.Ub(),M.Qb(15,"br"),M.Ub(),M.Vb(16,"nz-collapse-panel",75),M.Vb(17,"nz-form-control"),M.Qb(18,"input",76),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub()),2&e&&(M.Bb(5),M.nc("nzBordered",!0),M.Bb(1),M.nc("nzActive",!0))}function Jn(e,t){1&e&&(M.Qb(0,"i",52),M.Hc(1,"Advanced Settings "))}function Zn(e,t){1&e&&(M.Vb(0,"div",77),M.Vb(1,"nz-collapse",78),M.Vb(2,"nz-collapse-panel",79),M.Vb(3,"table",80),M.Vb(4,"thead"),M.Vb(5,"tr"),M.Qb(6,"th",81),M.Qb(7,"th",82),M.Ub(),M.Ub(),M.Vb(8,"tbody"),M.Vb(9,"tr"),M.Vb(10,"td"),M.Hc(11,"IdentityToken"),M.Ub(),M.Vb(12,"td"),M.Qb(13,"nz-input-number",83),M.Ub(),M.Ub(),M.Vb(14,"tr"),M.Vb(15,"td"),M.Hc(16,"AccessToken"),M.Ub(),M.Vb(17,"td"),M.Qb(18,"nz-input-number",84),M.Ub(),M.Ub(),M.Vb(19,"tr"),M.Vb(20,"td"),M.Hc(21,"AuthorizationCode"),M.Ub(),M.Vb(22,"td"),M.Qb(23,"nz-input-number",85),M.Ub(),M.Ub(),M.Vb(24,"tr"),M.Vb(25,"td"),M.Hc(26,"AbsoluteRefreshToken"),M.Ub(),M.Vb(27,"td"),M.Qb(28,"nz-input-number",86),M.Ub(),M.Ub(),M.Vb(29,"tr"),M.Vb(30,"td"),M.Hc(31,"SlidingRefreshToken"),M.Ub(),M.Vb(32,"td"),M.Qb(33,"nz-input-number",87),M.Ub(),M.Ub(),M.Vb(34,"tr"),M.Vb(35,"td"),M.Hc(36,"UserSsoLifetime"),M.Ub(),M.Vb(37,"td"),M.Qb(38,"nz-input-number",88),M.Ub(),M.Ub(),M.Vb(39,"tr"),M.Vb(40,"td"),M.Hc(41,"DeviceCodeLifetime"),M.Ub(),M.Vb(42,"td"),M.Qb(43,"nz-input-number",89),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub()),2&e&&(M.Bb(1),M.nc("nzBordered",!0),M.Bb(1),M.nc("nzActive",!0),M.Bb(11),M.nc("nzStep",1),M.Bb(5),M.nc("nzStep",1),M.Bb(5),M.nc("nzStep",1),M.Bb(5),M.nc("nzStep",1),M.Bb(5),M.nc("nzStep",1),M.Bb(5),M.nc("nzStep",1),M.Bb(5),M.nc("nzStep",1))}function Kn(e,t){1&e&&(M.Qb(0,"i",92),M.Hc(1,"Debug"))}function Xn(e,t){if(1&e&&(M.Vb(0,"nz-tab",4),M.Fc(1,Kn,2,0,"ng-template",null,90,M.Gc),M.Vb(3,"div",91),M.Vb(4,"pre"),M.Hc(5),M.hc(6,"json"),M.Ub(),M.Ub(),M.Ub()),2&e){var n=M.vc(2),i=M.gc(2);M.nc("nzTitle",n),M.Bb(5),M.Ic(M.ic(6,2,i.form.value))}}var Yn=function(){return{inkBar:!0,tabPane:!1}},ei=function(){return{minRows:4,maxRows:12}};function ti(e,t){if(1&e&&(M.Tb(0),M.Vb(1,"form",2),M.Vb(2,"nz-tabset",3),M.Vb(3,"nz-tab",4),M.Fc(4,Qn,2,0,"ng-template",null,5,M.Gc),M.Vb(6,"div",6),M.Vb(7,"div",7),M.Vb(8,"div",8),M.Vb(9,"div",9),M.Vb(10,"nz-form-label",10),M.Hc(11,"ClientId"),M.Ub(),M.Vb(12,"nz-form-control"),M.Qb(13,"input",11),M.Ub(),M.Ub(),M.Vb(14,"div",12),M.Vb(15,"nz-form-label",13),M.Hc(16,"ClientName"),M.Ub(),M.Vb(17,"nz-form-control"),M.Qb(18,"input",14),M.Ub(),M.Ub(),M.Ub(),M.Vb(19,"div",8),M.Vb(20,"div",15),M.Vb(21,"nz-form-label",16),M.Hc(22,"Description"),M.Ub(),M.Vb(23,"nz-form-control"),M.Qb(24,"textarea",17),M.Ub(),M.Ub(),M.Ub(),M.Vb(25,"div",8),M.Vb(26,"div",15),M.Vb(27,"nz-form-label",16),M.Hc(28,"Client Secrets"),M.Ub(),M.Vb(29,"nz-form-control"),M.Qb(30,"secrets-manager",18),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Qb(31,"div",19),M.Vb(32,"div",20),M.Vb(33,"nz-collapse",21),M.Vb(34,"nz-collapse-panel",22),M.Vb(35,"label",23),M.Hc(36," Enabled "),M.Ub(),M.Qb(37,"br"),M.Vb(38,"label",24),M.Hc(39," Require Client Secret "),M.Ub(),M.Qb(40,"br"),M.Vb(41,"label",25),M.Hc(42," Require Pkce "),M.Ub(),M.Qb(43,"br"),M.Vb(44,"label",26),M.Hc(45," Allow PlainText Pkce "),M.Ub(),M.Qb(46,"br"),M.Ub(),M.Vb(47,"nz-collapse-panel",27),M.Vb(48,"label",28),M.Hc(49," Implicit "),M.Ub(),M.Qb(50,"br"),M.Vb(51,"label",29),M.Hc(52," Hybrid "),M.Ub(),M.Qb(53,"br"),M.Vb(54,"label",30),M.Hc(55," Authorization Code "),M.Ub(),M.Qb(56,"br"),M.Vb(57,"label",31),M.Hc(58," Client Credentials "),M.Ub(),M.Qb(59,"br"),M.Vb(60,"label",32),M.Hc(61," Resource Owner Password "),M.Ub(),M.Qb(62,"br"),M.Vb(63,"label",33),M.Hc(64," Device Flow "),M.Ub(),M.Qb(65,"br"),M.Ub(),M.Vb(66,"nz-collapse-panel",34),M.Vb(67,"nz-form-label"),M.Hc(68,"AccessTokenType"),M.Ub(),M.Vb(69,"nz-form-control"),M.Vb(70,"nz-select",35),M.Qb(71,"nz-option",36),M.Qb(72,"nz-option",37),M.Ub(),M.Ub(),M.Vb(73,"nz-form-label"),M.Hc(74,"RefreshTokenUsage"),M.Ub(),M.Vb(75,"nz-form-control"),M.Vb(76,"nz-select",38),M.Qb(77,"nz-option",39),M.Qb(78,"nz-option",40),M.Ub(),M.Ub(),M.Vb(79,"nz-form-label"),M.Hc(80,"RefreshTokenExpiration"),M.Ub(),M.Vb(81,"nz-form-control"),M.Vb(82,"nz-select",41),M.Qb(83,"nz-option",42),M.Qb(84,"nz-option",43),M.Ub(),M.Ub(),M.Qb(85,"br"),M.Vb(86,"label",44),M.Hc(87," Allow AccessTokens via Browser "),M.Ub(),M.Qb(88,"br"),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Vb(89,"nz-tab",4),M.Fc(90,Gn,2,0,"ng-template",null,45,M.Gc),M.Fc(92,_n,28,6,"ng-template",46),M.Ub(),M.Vb(93,"nz-tab",4),M.Fc(94,Ln,2,0,"ng-template",null,47,M.Gc),M.Fc(96,jn,2,0,"ng-template",46),M.Ub(),M.Vb(97,"nz-tab",4),M.Fc(98,En,2,0,"ng-template",null,48,M.Gc),M.Fc(100,Wn,4,0,"ng-template",46),M.Ub(),M.Vb(101,"nz-tab",4),M.Fc(102,$n,2,0,"ng-template",null,49,M.Gc),M.Fc(104,qn,19,2,"ng-template",46),M.Ub(),M.Vb(105,"nz-tab",4),M.Fc(106,Jn,2,0,"ng-template",null,50,M.Gc),M.Fc(108,Zn,44,9,"ng-template",46),M.Ub(),M.Fc(109,Xn,7,4,"nz-tab",51),M.hc(110,"async"),M.Ub(),M.Ub(),M.Sb()),2&e){var n=M.vc(5),i=M.vc(91),o=M.vc(95),r=M.vc(99),c=M.vc(103),a=M.vc(107),s=M.gc();M.Bb(1),M.nc("formGroup",s.form),M.Bb(1),M.nc("nzAnimated",M.pc(17,Yn)),M.Bb(1),M.nc("nzTitle",n),M.Bb(5),M.nc("nzGutter",8),M.Bb(11),M.nc("nzGutter",8),M.Bb(5),M.nc("nzAutosize",M.pc(18,ei)),M.Bb(1),M.nc("nzGutter",8),M.Bb(8),M.nc("nzBordered",!0),M.Bb(1),M.nc("nzActive",!0),M.Bb(55),M.nc("nzTitle",i),M.Bb(4),M.nc("nzTitle",o),M.Bb(4),M.nc("nzTitle",r),M.Bb(4),M.nc("nzTitle",c),M.Bb(4),M.nc("nzTitle",a),M.Bb(4),M.nc("ngIf",M.ic(110,15,s.showDebugInformations$))}}function ni(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",93),M.dc("click",function(){return M.yc(n),M.gc().Reload()}),M.Qb(1,"i",94),M.Hc(2,"Reload"),M.Ub()}}var ii=["itemsContextMenu"];function oi(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().EditApiResource(e.First)}),M.Qb(1,"i",7),M.Hc(2," Edit ApiResource "),M.Ub()}}function ri(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().RemoveApiResource(e.SelectedData)}),M.Qb(1,"i",8),M.Hc(2," Delete ApiResource "),M.Ub()}}function ci(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",3),M.Vb(1,"li",4),M.dc("click",function(){return M.yc(n),M.gc().AddApiResource()}),M.Qb(2,"i",5),M.Hc(3," Add ApiResource "),M.Ub(),M.Fc(4,oi,3,0,"li",6),M.Fc(5,ri,3,0,"li",6),M.Ub()}if(2&e){var i=t.$implicit;M.Bb(4),M.nc("ngIf",i.Single),M.Bb(1),M.nc("ngIf",i.Any)}}function ai(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",9),M.dc("click",function(){return M.yc(n),M.gc().ReloadApiResourcesList()}),M.Qb(1,"i",10),M.Hc(2,"Reload Api-Resources"),M.Ub()}}function si(e,t){1&e&&(M.Qb(0,"i",29),M.Hc(1,"Basic "))}function li(e,t){1&e&&(M.Qb(0,"i",29),M.Hc(1,"Scopes "))}function ui(e,t){1&e&&(M.Vb(0,"div",30),M.Qb(1,"scopes-manager",31),M.Ub())}function di(e,t){1&e&&(M.Qb(0,"i",34),M.Hc(1,"Debug"))}function bi(e,t){if(1&e&&(M.Vb(0,"nz-tab",4),M.Fc(1,di,2,0,"ng-template",null,32,M.Gc),M.Vb(3,"div",33),M.Vb(4,"pre"),M.Hc(5),M.hc(6,"json"),M.Ub(),M.Ub(),M.Ub()),2&e){var n=M.vc(2),i=M.gc(2);M.nc("nzTitle",n),M.Bb(5),M.Ic(M.ic(6,2,i.form.value))}}var fi=function(){return{inkBar:!0,tabPane:!1}},pi=function(){return{minRows:4,maxRows:12}};function hi(e,t){if(1&e&&(M.Tb(0),M.Vb(1,"form",2),M.Vb(2,"nz-tabset",3),M.Vb(3,"nz-tab",4),M.Fc(4,si,2,0,"ng-template",null,5,M.Gc),M.Vb(6,"div",6),M.Vb(7,"div",7),M.Vb(8,"div",8),M.Vb(9,"div",9),M.Vb(10,"nz-form-label",10),M.Hc(11,"Name"),M.Ub(),M.Vb(12,"nz-form-control"),M.Qb(13,"input",11),M.Ub(),M.Ub(),M.Ub(),M.Vb(14,"div",8),M.Vb(15,"div",9),M.Vb(16,"nz-form-label",12),M.Hc(17,"DisplayName"),M.Ub(),M.Vb(18,"nz-form-control"),M.Qb(19,"input",13),M.Ub(),M.Ub(),M.Ub(),M.Vb(20,"div",8),M.Vb(21,"div",9),M.Vb(22,"nz-form-label",14),M.Hc(23,"Description"),M.Ub(),M.Vb(24,"nz-form-control"),M.Qb(25,"textarea",15),M.Ub(),M.Ub(),M.Ub(),M.Vb(26,"div",8),M.Vb(27,"div",9),M.Vb(28,"nz-form-label",14),M.Hc(29,"Secrets"),M.Ub(),M.Vb(30,"nz-form-control"),M.Qb(31,"secrets-manager",16),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Qb(32,"div",17),M.Vb(33,"div",18),M.Vb(34,"nz-collapse",19),M.Vb(35,"nz-collapse-panel",20),M.Vb(36,"label",21),M.Hc(37," Enabled "),M.Ub(),M.Qb(38,"br"),M.Vb(39,"label",22),M.Hc(40," Show in Discovery Document "),M.Ub(),M.Qb(41,"br"),M.Vb(42,"label",23),M.Hc(43," Allowed AccessToken SigningAlgorithms "),M.Ub(),M.Ub(),M.Vb(44,"nz-collapse-panel",24),M.Qb(45,"simple-list",25),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Vb(46,"nz-tab",4),M.Fc(47,li,2,0,"ng-template",null,26,M.Gc),M.Fc(49,ui,2,0,"ng-template",27),M.Ub(),M.Fc(50,bi,7,4,"nz-tab",28),M.hc(51,"async"),M.Ub(),M.Ub(),M.Sb()),2&e){var n=M.vc(5),i=M.vc(48),o=M.gc();M.Bb(1),M.nc("formGroup",o.form),M.Bb(1),M.nc("nzAnimated",M.pc(14,fi)),M.Bb(1),M.nc("nzTitle",n),M.Bb(5),M.nc("nzGutter",8),M.Bb(6),M.nc("nzGutter",8),M.Bb(6),M.nc("nzGutter",8),M.Bb(5),M.nc("nzAutosize",M.pc(15,pi)),M.Bb(1),M.nc("nzGutter",8),M.Bb(8),M.nc("nzBordered",!0),M.Bb(1),M.nc("nzActive",!0),M.Bb(11),M.nc("nzTitle",i),M.Bb(4),M.nc("ngIf",M.ic(51,12,o.showDebugInformations$))}}function mi(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",35),M.dc("click",function(){return M.yc(n),M.gc().Reload()}),M.Qb(1,"i",36),M.Hc(2,"Reload"),M.Ub()}}var vi=["itemsContextMenu"];function gi(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().EditIdentityResource(e.First)}),M.Qb(1,"i",7),M.Hc(2," Edit IdentityResource "),M.Ub()}}function yi(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().RemoveIdentityResource(e.SelectedData)}),M.Qb(1,"i",8),M.Hc(2," Delete IdentityResource "),M.Ub()}}function Ci(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",3),M.Vb(1,"li",4),M.dc("click",function(){return M.yc(n),M.gc().AddIdentityResource()}),M.Qb(2,"i",5),M.Hc(3," Add IdentityResource "),M.Ub(),M.Fc(4,gi,3,0,"li",6),M.Fc(5,yi,3,0,"li",6),M.Ub()}if(2&e){var i=t.$implicit;M.Bb(4),M.nc("ngIf",i.Single),M.Bb(1),M.nc("ngIf",i.Any)}}function zi(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",9),M.dc("click",function(){return M.yc(n),M.gc().ReloadIdentityResourcesList()}),M.Qb(1,"i",10),M.Hc(2,"Reload Identity-Resources"),M.Ub()}}function Si(e,t){1&e&&(M.Qb(0,"i",27),M.Hc(1,"Basic "))}function xi(e,t){1&e&&(M.Qb(0,"i",30),M.Hc(1,"Debug"))}function wi(e,t){if(1&e&&(M.Vb(0,"nz-tab",4),M.Fc(1,xi,2,0,"ng-template",null,28,M.Gc),M.Vb(3,"div",29),M.Vb(4,"pre"),M.Hc(5),M.hc(6,"json"),M.Ub(),M.Ub(),M.Ub()),2&e){var n=M.vc(2),i=M.gc(2);M.nc("nzTitle",n),M.Bb(5),M.Ic(M.ic(6,2,i.form.value))}}var Ui=function(){return{inkBar:!0,tabPane:!1}},ki=function(){return{minRows:4,maxRows:12}};function Vi(e,t){if(1&e&&(M.Tb(0),M.Vb(1,"form",2),M.Vb(2,"nz-tabset",3),M.Vb(3,"nz-tab",4),M.Fc(4,Si,2,0,"ng-template",null,5,M.Gc),M.Vb(6,"div",6),M.Vb(7,"div",7),M.Vb(8,"div",8),M.Vb(9,"div",9),M.Vb(10,"nz-form-label",10),M.Hc(11,"Name"),M.Ub(),M.Vb(12,"nz-form-control"),M.Qb(13,"input",11),M.Ub(),M.Ub(),M.Ub(),M.Vb(14,"div",8),M.Vb(15,"div",9),M.Vb(16,"nz-form-label",12),M.Hc(17,"DisplayName"),M.Ub(),M.Vb(18,"nz-form-control"),M.Qb(19,"input",13),M.Ub(),M.Ub(),M.Ub(),M.Vb(20,"div",8),M.Vb(21,"div",9),M.Vb(22,"nz-form-label",14),M.Hc(23,"Description"),M.Ub(),M.Vb(24,"nz-form-control"),M.Qb(25,"textarea",15),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Qb(26,"div",16),M.Vb(27,"div",17),M.Vb(28,"nz-collapse",18),M.Vb(29,"nz-collapse-panel",19),M.Vb(30,"label",20),M.Hc(31," Enabled "),M.Ub(),M.Qb(32,"br"),M.Vb(33,"label",21),M.Hc(34," Required "),M.Ub(),M.Qb(35,"br"),M.Vb(36,"label",22),M.Hc(37," Emphasize "),M.Ub(),M.Qb(38,"br"),M.Vb(39,"label",23),M.Hc(40," Show in Discovery Document "),M.Ub(),M.Ub(),M.Vb(41,"nz-collapse-panel",24),M.Qb(42,"simple-list",25),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Fc(43,wi,7,4,"nz-tab",26),M.hc(44,"async"),M.Ub(),M.Ub(),M.Sb()),2&e){var n=M.vc(5),i=M.gc();M.Bb(1),M.nc("formGroup",i.form),M.Bb(1),M.nc("nzAnimated",M.pc(12,Ui)),M.Bb(1),M.nc("nzTitle",n),M.Bb(5),M.nc("nzGutter",8),M.Bb(6),M.nc("nzGutter",8),M.Bb(6),M.nc("nzGutter",8),M.Bb(5),M.nc("nzAutosize",M.pc(13,ki)),M.Bb(3),M.nc("nzBordered",!0),M.Bb(1),M.nc("nzActive",!0),M.Bb(14),M.nc("ngIf",M.ic(44,10,i.showDebugInformations$))}}function Ri(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",31),M.dc("click",function(){return M.yc(n),M.gc().Reload()}),M.Qb(1,"i",32),M.Hc(2,"Reload"),M.Ub()}}var Pi=["itemsContextMenu"];function Oi(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().EditApiScope(e.First)}),M.Qb(1,"i",7),M.Hc(2," Edit ApiScope "),M.Ub()}}function Ai(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().RemoveApiScope(e.SelectedData)}),M.Qb(1,"i",8),M.Hc(2," Delete ApiScope "),M.Ub()}}function Ii(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",3),M.Vb(1,"li",4),M.dc("click",function(){return M.yc(n),M.gc().AddApiScope()}),M.Qb(2,"i",5),M.Hc(3," Add ApiScope "),M.Ub(),M.Fc(4,Oi,3,0,"li",6),M.Fc(5,Ai,3,0,"li",6),M.Ub()}if(2&e){var i=t.$implicit;M.Bb(4),M.nc("ngIf",i.Single),M.Bb(1),M.nc("ngIf",i.Any)}}function Mi(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",9),M.dc("click",function(){return M.yc(n),M.gc().ReloadApiScopesList()}),M.Qb(1,"i",10),M.Hc(2,"Reload Api-Resources"),M.Ub()}}function Di(e,t){1&e&&(M.Qb(0,"i",27),M.Hc(1,"Basic "))}function Ti(e,t){1&e&&(M.Qb(0,"i",30),M.Hc(1,"Debug"))}function Hi(e,t){if(1&e&&(M.Vb(0,"nz-tab",4),M.Fc(1,Ti,2,0,"ng-template",null,28,M.Gc),M.Vb(3,"div",29),M.Vb(4,"pre"),M.Hc(5),M.hc(6,"json"),M.Ub(),M.Ub(),M.Ub()),2&e){var n=M.vc(2),i=M.gc(2);M.nc("nzTitle",n),M.Bb(5),M.Ic(M.ic(6,2,i.form.value))}}var Bi=function(){return{inkBar:!0,tabPane:!1}},Fi=function(){return{minRows:4,maxRows:12}};function Ni(e,t){if(1&e&&(M.Tb(0),M.Vb(1,"form",2),M.Vb(2,"nz-tabset",3),M.Vb(3,"nz-tab",4),M.Fc(4,Di,2,0,"ng-template",null,5,M.Gc),M.Vb(6,"div",6),M.Vb(7,"div",7),M.Vb(8,"div",8),M.Vb(9,"div",9),M.Vb(10,"nz-form-label",10),M.Hc(11,"Name"),M.Ub(),M.Vb(12,"nz-form-control"),M.Qb(13,"input",11),M.Ub(),M.Ub(),M.Ub(),M.Vb(14,"div",8),M.Vb(15,"div",9),M.Vb(16,"nz-form-label",12),M.Hc(17,"DisplayName"),M.Ub(),M.Vb(18,"nz-form-control"),M.Qb(19,"input",13),M.Ub(),M.Ub(),M.Ub(),M.Vb(20,"div",8),M.Vb(21,"div",9),M.Vb(22,"nz-form-label",14),M.Hc(23,"Description"),M.Ub(),M.Vb(24,"nz-form-control"),M.Qb(25,"textarea",15),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Qb(26,"div",16),M.Vb(27,"div",17),M.Vb(28,"nz-collapse",18),M.Vb(29,"nz-collapse-panel",19),M.Vb(30,"label",20),M.Hc(31," Enabled "),M.Ub(),M.Qb(32,"br"),M.Vb(33,"label",21),M.Hc(34," Required "),M.Ub(),M.Qb(35,"br"),M.Vb(36,"label",22),M.Hc(37," Emphasize "),M.Ub(),M.Qb(38,"br"),M.Vb(39,"label",23),M.Hc(40," Show in Discovery Document "),M.Ub(),M.Ub(),M.Vb(41,"nz-collapse-panel",24),M.Qb(42,"simple-list",25),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Fc(43,Hi,7,4,"nz-tab",26),M.hc(44,"async"),M.Ub(),M.Ub(),M.Sb()),2&e){var n=M.vc(5),i=M.gc();M.Bb(1),M.nc("formGroup",i.form),M.Bb(1),M.nc("nzAnimated",M.pc(12,Bi)),M.Bb(1),M.nc("nzTitle",n),M.Bb(5),M.nc("nzGutter",8),M.Bb(6),M.nc("nzGutter",8),M.Bb(6),M.nc("nzGutter",8),M.Bb(5),M.nc("nzAutosize",M.pc(13,Fi)),M.Bb(3),M.nc("nzBordered",!0),M.Bb(1),M.nc("nzActive",!0),M.Bb(14),M.nc("ngIf",M.ic(44,10,i.showDebugInformations$))}}function Qi(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",31),M.dc("click",function(){return M.yc(n),M.gc().Reload()}),M.Qb(1,"i",32),M.Hc(2,"Reload"),M.Ub()}}var Gi=["itemsContextMenu"];function _i(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().Edit(e.First)}),M.Qb(1,"i",7),M.Hc(2," Edit Provider "),M.Ub()}}function Li(e,t){if(1&e){var n=M.Wb();M.Vb(0,"li",4),M.dc("click",function(){M.yc(n);var e=M.gc().$implicit;return M.gc().Remove(e.SelectedData)}),M.Qb(1,"i",8),M.Hc(2," Delete Provider "),M.Ub()}}function ji(e,t){if(1&e){var n=M.Wb();M.Vb(0,"ul",3),M.Vb(1,"li",4),M.dc("click",function(){return M.yc(n),M.gc().Add()}),M.Qb(2,"i",5),M.Hc(3," Add Provider "),M.Ub(),M.Fc(4,_i,3,0,"li",6),M.Fc(5,Li,3,0,"li",6),M.Ub()}if(2&e){var i=t.$implicit;M.Bb(4),M.nc("ngIf",i.Single),M.Bb(1),M.nc("ngIf",i.Any)}}function Ei(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",9),M.dc("click",function(){return M.yc(n),M.gc().Reload()}),M.Qb(1,"i",10),M.Hc(2,"Reload Providers"),M.Ub()}}function Wi(e,t){1&e&&(M.Qb(0,"i",24),M.Hc(1,"Basic "))}function $i(e,t){1&e&&(M.Qb(0,"i",27),M.Hc(1,"Debug"))}function qi(e,t){if(1&e&&(M.Vb(0,"nz-tab",4),M.Fc(1,$i,2,0,"ng-template",null,25,M.Gc),M.Vb(3,"div",26),M.Vb(4,"pre"),M.Hc(5),M.hc(6,"json"),M.Ub(),M.Ub(),M.Ub()),2&e){var n=M.vc(2),i=M.gc(2);M.nc("nzTitle",n),M.Bb(5),M.Ic(M.ic(6,2,i.form.value))}}var Ji=function(){return{inkBar:!0,tabPane:!1}},Zi=function(){return{minRows:4,maxRows:12}};function Ki(e,t){if(1&e&&(M.Tb(0),M.Vb(1,"form",2),M.Vb(2,"nz-tabset",3),M.Vb(3,"nz-tab",4),M.Fc(4,Wi,2,0,"ng-template",null,5,M.Gc),M.Vb(6,"div",6),M.Vb(7,"div",7),M.Vb(8,"div",8),M.Vb(9,"div",9),M.Vb(10,"nz-form-label",10),M.Hc(11,"Name"),M.Ub(),M.Vb(12,"nz-form-control"),M.Qb(13,"input",11),M.Ub(),M.Ub(),M.Ub(),M.Vb(14,"div",8),M.Vb(15,"div",9),M.Vb(16,"nz-form-label",12),M.Hc(17,"DisplayName"),M.Ub(),M.Vb(18,"nz-form-control"),M.Qb(19,"input",13),M.Ub(),M.Ub(),M.Ub(),M.Vb(20,"div",8),M.Vb(21,"div",9),M.Vb(22,"nz-form-label",14),M.Hc(23,"Description"),M.Ub(),M.Vb(24,"nz-form-control"),M.Qb(25,"textarea",15),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Qb(26,"div",16),M.Vb(27,"div",17),M.Vb(28,"nz-collapse",18),M.Vb(29,"nz-collapse-panel",19),M.Vb(30,"label",20),M.Hc(31," Enabled "),M.Ub(),M.Vb(32,"nz-form-label"),M.Hc(33,"Type"),M.Ub(),M.Vb(34,"nz-form-control"),M.Vb(35,"nz-select",21),M.Qb(36,"nz-option",22),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Ub(),M.Fc(37,qi,7,4,"nz-tab",23),M.hc(38,"async"),M.Ub(),M.Ub(),M.Sb()),2&e){var n=M.vc(5),i=M.gc();M.Bb(1),M.nc("formGroup",i.form),M.Bb(1),M.nc("nzAnimated",M.pc(12,Ji)),M.Bb(1),M.nc("nzTitle",n),M.Bb(5),M.nc("nzGutter",8),M.Bb(6),M.nc("nzGutter",8),M.Bb(6),M.nc("nzGutter",8),M.Bb(5),M.nc("nzAutosize",M.pc(13,Zi)),M.Bb(3),M.nc("nzBordered",!0),M.Bb(1),M.nc("nzActive",!0),M.Bb(8),M.nc("ngIf",M.ic(38,10,i.showDebugInformations$))}}function Xi(e,t){if(1&e){var n=M.Wb();M.Vb(0,"button",28),M.dc("click",function(){return M.yc(n),M.gc().Reload()}),M.Qb(1,"i",29),M.Hc(2,"Reload"),M.Ub()}}var Yi,eo,to,no,io,oo,ro,co,ao,so,lo,uo=[{path:"users",component:Ue},{path:"users/:id",component:Rt},{path:"roles",component:Ie},{path:"roles/:id",component:an},{path:"clients",component:Ne},{path:"clients/:id",component:(ao=function(){function t(n,i,o,r,c){var a=this;l(this,t),this.uiService=n,this.fb=i,this.route=o,this.idService=r,this.cref=c,this.user$=Object(Qe.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(P.a)(function(t){var n=e(t,3),i=n[0];return n[1],n[2],a.Id=i.get("id"),a.idService.GetClient(a.Id)}),Object(Ge.a)(),Object(E.a)(function(e){return a.setClient(e)})),this.showDebugInformations$=this.uiService.showDebugInformations$,this.initForm(),n.Set(function(e){e.Header.Title="Client",e.Content.Scrollable=!1,e.Header.Icon="fa#user",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=function(){return a.Save()},e.Footer.Button2.OnClick=function(){a.form.reset(a.BaseDto)}})}return d(t,[{key:"ngOnInit",value:function(){}},{key:"initForm",value:function(){this.form=this.fb.group({Id:[null],ClientId:[null],ClientName:[null],Description:[null],Enabled:[null],RequireClientSecret:[null],RequirePkce:[null],AllowPlainTextPkce:[!1],AllowedGrantTypes:[[]],ClientUri:[null],LogoUri:[null],RequireConsent:[null],AllowRememberConsent:[!1],ConsentLifetime:[null],Claims:[[]],AlwaysIncludeUserClaimsInIdToken:[!1],UpdateAccessTokenClaimsOnRefresh:[!1],AlwaysSendClientClaims:[!1],ClientClaimsPrefix:[null],IdentityTokenLifetime:[null],AccessTokenLifetime:[null],AuthorizationCodeLifetime:[null],AbsoluteRefreshTokenLifetime:[null],SlidingRefreshTokenLifetime:[null],UserSsoLifetime:[null],DeviceCodeLifetime:[null],ProtocolType:[null],ClientSecrets:[[]],RequireRequestObject:[!1],AllowAccessTokensViaBrowser:[!1],RedirectUris:[[]],PostLogoutRedirectUris:[[]],FrontChannelLogoutUri:[null],FrontChannelLogoutSessionRequired:[!1],BackChannelLogoutUri:[null],BackChannelLogoutSessionRequired:[!1],AllowOfflineAccess:[!1],AllowedScopes:[[]],AllowedIdentityTokenSigningAlgorithms:[null],RefreshTokenUsage:[null],RefreshTokenExpiration:[null],AccessTokenType:[null],EnableLocalLogin:[!1],IdentityProviderRestrictions:[[]],IncludeJwtId:[!1],PairWiseSubjectSalt:[null],AllowedCorsOrigins:[[]],UserCodeType:[null],NonEditable:[!1]})}},{key:"Save",value:function(){console.log(this),"create"==this.Id?this.idService.CreateClient(this.form.value).subscribe():this.idService.UpdateClient(this.form.value).subscribe()}},{key:"setClient",value:function(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(function(t){t.Header.Title="Client",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create Client",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}},{key:"Reload",value:function(){var e=this;this.idService.GetClient(this.Id).subscribe(function(t){e.setClient(t)})}},{key:"BaseDto",get:function(){return this._baseDto},set:function(e){this._baseDto=JSON.parse(JSON.stringify(e))}}]),t}(),ao.\u0275fac=function(e){return new(e||ao)(M.Pb(L.a),M.Pb(k.e),M.Pb(V.a),M.Pb(le),M.Pb(M.h))},ao.\u0275cmp=M.Jb({type:ao,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","7"],["nzRequired","","nzFor","ClientId"],["nz-input","","formControlName","ClientId","id","ClientId",2,"flex-grow","1"],["nz-col","","nzSpan","17"],["nzRequired","","nzFor","ClientName"],["nz-input","","formControlName","ClientName","id","ClientName",2,"width","100%"],["nz-col","","nzSpan","24"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],["formControlName","ClientSecrets",2,"height","200px"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["nzAccordion","",3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["nz-checkbox","","formControlName","RequireClientSecret"],["nz-checkbox","","formControlName","RequirePkce"],["nz-checkbox","","formControlName","AllowPlainTextPkce"],["nzHeader","AllowedGrantTypes","dbCheckboxGroup","","formControlName","AllowedGrantTypes","returnType","array"],["nz-checkbox","","nzValue","implicit"],["nz-checkbox","","nzValue","hybrid"],["nz-checkbox","","nzValue","authorization_code"],["nz-checkbox","","nzValue","client_credentials"],["nz-checkbox","","nzValue","password"],["nz-checkbox","","nzValue","urn:ietf:params:oauth:grant-type:device_code"],["nzHeader","Token Options",1,"tokenOptionsPanel"],["formControlName","AccessTokenType"],["nzValue","Reference","nzLabel","Reference"],["nzValue","Jwt","nzLabel","JWT"],["formControlName","RefreshTokenUsage"],["nzValue","OneTimeOnly","nzLabel","OneTimeOnly"],["nzValue","ReUse","nzLabel","ReUse"],["formControlName","RefreshTokenExpiration"],["nzValue","Absolute","nzLabel","Absolute"],["nzValue","Sliding","nzLabel","Sliding"],["nz-checkbox","","formControlName","AllowAccessTokensViaBrowser"],["ConsentTitle",""],["nz-tab",""],["ScopesTitle",""],["UrisTitle",""],["ClaimsTitle",""],["AdvancedTitle",""],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["nzFor","ClientUri"],["nz-input","","formControlName","ClientUri","id","ClientUri",2,"width","100%"],["nzFor","LogoUri"],["nz-input","","formControlName","LogoUri","id","LogoUri",2,"width","100%"],[3,"nzBordered"],["nz-checkbox","","formControlName","RequireConsent"],["nz-checkbox","","formControlName","AllowRememberConsent"],["nzHeader","Consent Lifetime",3,"nzActive"],["formControlName","ConsentLifetime",2,"width","100%",3,"nzStep"],[2,"display","flex","flex-direction","row","padding","3px","height","100%","width","100%"],["formControlName","AllowedScopes"],[2,"display","flex","flex-direction","column","flex-grow","1","padding-bottom","3px"],["header","Redirect Uri's","formControlName","RedirectUris","no-scrollbar","",2,"height","100%","padding-top","3px","flex-grow","1","min-height","200px"],["header","Post Logout Redirect Uri's","formControlName","PostLogoutRedirectUris","no-scrollbar","",2,"height","100%","padding-top","3px","flex-grow","1","min-height","200px"],["header","Allowed Cors Origins","formControlName","AllowedCorsOrigins","no-scrollbar","",2,"height","100%","padding-top","3px","flex-grow","1","min-height","200px"],[2,"display","flex","flex-direction","row","padding","3px","flex-grow","1"],[2,"display","flex","flex-direction","row","flex-grow","1"],["formControlName","Claims"],[2,"width","25%"],["nz-checkbox","","formControlName","AlwaysSendClientClaims"],["nz-checkbox","","formControlName","AlwaysIncludeUserClaimsInIdToken"],["nz-checkbox","","formControlName","UpdateAccessTokenClaimsOnRefresh"],["nzHeader","Client Claims Prefix"],["nz-input","","formControlName","ClientClaimsPrefix","id","ClientClaimsPrefix",2,"width","100%"],[2,"display","flex","flex-direction","column","padding","3px 0px","flex-grow","1"],[1,"bold-header",3,"nzBordered"],["nzHeader","Lifetime Options (in seconds)",3,"nzActive"],[1,"ui","table","compact"],[2,"width","200px"],[2,"width","300px"],["formControlName","IdentityTokenLifetime",2,"width","100%",3,"nzStep"],["formControlName","AccessTokenLifetime",2,"width","100%",3,"nzStep"],["formControlName","AuthorizationCodeLifetime",2,"width","100%",3,"nzStep"],["formControlName","AbsoluteRefreshTokenLifetime",2,"width","100%",3,"nzStep"],["formControlName","SlidingRefreshTokenLifetime",2,"width","100%",3,"nzStep"],["formControlName","UserSsoLifetime",2,"width","100%",3,"nzStep"],["formControlName","DeviceCodeLifetime",2,"width","100%",3,"nzStep"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Fc(0,ti,111,19,"ng-container",0),M.hc(1,"async"),M.Fc(2,ni,3,0,"ng-template",1)),2&e&&M.nc("ngIf",M.ic(1,1,t.user$))},directives:[U.o,de.e,k.r,k.n,T.b,k.h,_e.c,_e.a,H.c,H.a,T.d,T.a,B.b,k.d,k.m,k.g,B.a,yn,Le.a,Le.c,F.a,pe.b,dn.b,dn.a,_e.b,G.a,fe.a,Cn.a,An,Fn,ft,N.a,Q.a],pipes:[U.b,U.i],styles:[".tokenOptionsPanel[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{width:100%}"]}),ao)},{path:"api-resources",component:(co=function(){function e(t,n,i,o,r,c,a){var s=this;l(this,e),this.uiService=t,this.idService=n,this.router=i,this.route=o,this.overlay=r,this.viewContainerRef=c,this.apiResourcesQuery=a,this.grid=(new R.d).SetColumns(function(e){return e.Default("Name").SetInitialWidth(200,!0).SetLeftFixed().SetCssClass("pValue")},function(e){return e.Default("DisplayName")},function(e){return e.Default("Description")}).SetData(this.idService.GetAllApiResources()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);var n=new R.a(e.api,e.event);s.contextMenu=s.overlay.OpenContextMenu(e.event,s.itemsContextMenu,s.viewContainerRef,n)}).OnViewPortContextMenu(function(e,t){var n=new R.a(t,e);s.contextMenu=s.overlay.OpenContextMenu(e,s.itemsContextMenu,s.viewContainerRef,n)}).OnRowDoubleClicked(function(e){s.EditApiResource(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnViewPortClick(function(e,t){t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetDataImmutable(function(e){return e.Id}),t.Set(function(e){e.Header.Title="IDP / Api-Resources",e.Content.Scrollable=!1,e.Header.Icon="fa#cubes"})}return d(e,[{key:"AddApiResource",value:function(){var e;this.router.navigate(["create"],{relativeTo:this.route}),null===(e=this.contextMenu)||void 0===e||e.Close()}},{key:"EditApiResource",value:function(e){var t;this.router.navigate([e.Id],{relativeTo:this.route}),null===(t=this.contextMenu)||void 0===t||t.Close()}},{key:"RemoveApiResource",value:function(e){var n,i;(n=this.idService).DeleteApiResource.apply(n,t(e.map(function(e){return e.Id}))).subscribe(),null===(i=this.contextMenu)||void 0===i||i.Close()}},{key:"ReloadApiResourcesList",value:function(){this.idService.ReLoadApiResources()}}]),e}(),co.\u0275fac=function(e){return new(e||co)(M.Pb(L.a),M.Pb(le),M.Pb(V.i),M.Pb(V.a),M.Pb(D.c),M.Pb(M.Q),M.Pb(te))},co.\u0275cmp=M.Jb({type:co,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&M.Lc(ii,1),2&e&&M.uc(n=M.ec())&&(t.itemsContextMenu=n.first)},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Qb(0,"ag-grid-angular",0),M.Fc(1,ci,6,2,"ng-template",null,1,M.Gc),M.Fc(3,ai,3,0,"ng-template",2)),2&e&&M.nc("dbGrid",t.grid)},directives:[ue.a,R.b,de.e,be.c,G.a,be.e,fe.a,U.o,N.a,Q.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),co)},{path:"api-resources/:id",component:(ro=function(){function t(n,i,o,r,c){var a=this;l(this,t),this.uiService=n,this.fb=i,this.route=o,this.idService=r,this.cref=c,this.user$=Object(Qe.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(P.a)(function(t){var n=e(t,3),i=n[0];return n[1],n[2],a.Id=i.get("id"),a.idService.GetApiResource(a.Id)}),Object(Ge.a)(),Object(E.a)(function(e){return a.setApiResource(e)})),this.showDebugInformations$=this.uiService.showDebugInformations$,n.Set(function(e){e.Header.Title="ApiResource",e.Content.Scrollable=!1,e.Header.Icon="fa#cubes",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=function(){return a.Save()},e.Footer.Button2.OnClick=function(){a.form.reset(a.BaseDto)}})}return d(t,[{key:"ngOnInit",value:function(){this.form=this.fb.group({Id:[null],Name:[null,k.q.required],DisplayName:[null,k.q.required],Description:[null],Enabled:[],AllowedAccessTokenSigningAlgorithms:[],ShowInDiscoveryDocument:[],Secrets:[[]],Scopes:[[]],UserClaims:[[]],Properties:[]})}},{key:"onOk",value:function(e){e.setHours(23,59,0,0)}},{key:"Save",value:function(){console.log(this),"create"==this.Id?this.idService.CreateApiResource(this.form.value).subscribe():this.idService.UpdateApiResource(this.form.value).subscribe()}},{key:"setApiResource",value:function(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(function(t){t.Header.Title="ApiResource",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create ApiResource",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}},{key:"Reload",value:function(){var e=this;this.idService.GetApiResource(this.Id).subscribe(function(t){e.setApiResource(t),e.idService.ReLoadUsers()})}},{key:"BaseDto",get:function(){return this._baseDto},set:function(e){this._baseDto=JSON.parse(JSON.stringify(e))}}]),t}(),ro.\u0275fac=function(e){return new(e||ro)(M.Pb(L.a),M.Pb(k.e),M.Pb(V.a),M.Pb(le),M.Pb(M.h))},ro.\u0275cmp=M.Jb({type:ro,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","DisplayName"],["nz-input","","formControlName","DisplayName","id","DisplayName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],["formControlName","Secrets",2,"height","200px"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["nzAccordion","",3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["nz-checkbox","","formControlName","ShowInDiscoveryDocument"],["nz-checkbox","","formControlName","AllowedAccessTokenSigningAlgorithms"],["nzHeader","User Claims",1,"small-padding"],["header","Name","formControlName","UserClaims",2,"height","300px"],["ScopesTitle",""],["nz-tab",""],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],[2,"display","flex","flex-direction","row","padding","3px","height","100%","width","100%"],["formControlName","Scopes"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Fc(0,hi,52,16,"ng-container",0),M.hc(1,"async"),M.Fc(2,mi,3,0,"ng-template",1)),2&e&&M.nc("ngIf",M.ic(1,1,t.user$))},directives:[U.o,de.e,k.r,k.n,T.b,k.h,_e.c,_e.a,H.c,H.a,T.d,T.a,B.b,k.d,k.m,k.g,B.a,yn,Le.a,Le.c,F.a,Fn,_e.b,G.a,fe.a,An,N.a,Q.a],pipes:[U.b,U.i],styles:[""]}),ro)},{path:"identity-resources",component:(oo=function(){function e(t,n,i,o,r,c,a){var s=this;l(this,e),this.uiService=t,this.idService=n,this.router=i,this.route=o,this.overlay=r,this.viewContainerRef=c,this.identityResourcesQuery=a,this.grid=(new R.d).SetColumns(function(e){return e.Default("Name").SetInitialWidth(200,!0).SetLeftFixed().SetCssClass("pValue")},function(e){return e.Default("DisplayName")},function(e){return e.Default("Description")}).SetData(this.idService.GetAllIdentityResources()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);var n=new R.a(e.api,e.event);s.contextMenu=s.overlay.OpenContextMenu(e.event,s.itemsContextMenu,s.viewContainerRef,n)}).OnViewPortContextMenu(function(e,t){var n=new R.a(t,e);s.contextMenu=s.overlay.OpenContextMenu(e,s.itemsContextMenu,s.viewContainerRef,n)}).OnRowDoubleClicked(function(e){s.EditIdentityResource(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnViewPortClick(function(e,t){t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetDataImmutable(function(e){return e.Id}),t.Set(function(e){e.Header.Title="IDP / Identity-Resources",e.Content.Scrollable=!1,e.Header.Icon="fa#far|address-card"})}return d(e,[{key:"AddIdentityResource",value:function(){var e;this.router.navigate(["create"],{relativeTo:this.route}),null===(e=this.contextMenu)||void 0===e||e.Close()}},{key:"EditIdentityResource",value:function(e){var t;this.router.navigate([e.Id],{relativeTo:this.route}),null===(t=this.contextMenu)||void 0===t||t.Close()}},{key:"RemoveIdentityResource",value:function(e){var n,i;(n=this.idService).DeleteIdentityResource.apply(n,t(e.map(function(e){return e.Id}))).subscribe(),null===(i=this.contextMenu)||void 0===i||i.Close()}},{key:"ReloadIdentityResourcesList",value:function(){this.idService.ReLoadIdentityResources()}}]),e}(),oo.\u0275fac=function(e){return new(e||oo)(M.Pb(L.a),M.Pb(le),M.Pb(V.i),M.Pb(V.a),M.Pb(D.c),M.Pb(M.Q),M.Pb(re))},oo.\u0275cmp=M.Jb({type:oo,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&M.Lc(vi,1),2&e&&M.uc(n=M.ec())&&(t.itemsContextMenu=n.first)},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Qb(0,"ag-grid-angular",0),M.Fc(1,Ci,6,2,"ng-template",null,1,M.Gc),M.Fc(3,zi,3,0,"ng-template",2)),2&e&&M.nc("dbGrid",t.grid)},directives:[ue.a,R.b,de.e,be.c,G.a,be.e,fe.a,U.o,N.a,Q.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),oo)},{path:"identity-resources/:id",component:(io=function(){function t(n,i,o,r,c){var a=this;l(this,t),this.uiService=n,this.fb=i,this.route=o,this.idService=r,this.cref=c,this.user$=Object(Qe.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(P.a)(function(t){var n=e(t,3),i=n[0];return n[1],n[2],a.Id=i.get("id"),a.idService.GetIdentityResource(a.Id)}),Object(Ge.a)(),Object(E.a)(function(e){return a.setIdentityResource(e)})),this.showDebugInformations$=this.uiService.showDebugInformations$,n.Set(function(e){e.Header.Title="IdentityResource",e.Content.Scrollable=!1,e.Header.Icon="fa#cubes",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=function(){return a.Save()},e.Footer.Button2.OnClick=function(){a.form.reset(a.BaseDto)}})}return d(t,[{key:"ngOnInit",value:function(){this.form=this.fb.group({Id:[null],Enabled:[],Name:[null,k.q.required],DisplayName:[null,k.q.required],Description:[null],Required:[],Emphasize:[],ShowInDiscoveryDocument:[],UserClaims:[[]],Properties:[]})}},{key:"onOk",value:function(e){e.setHours(23,59,0,0)}},{key:"Save",value:function(){console.log(this),"create"==this.Id?this.idService.CreateIdentityResource(this.form.value).subscribe():this.idService.UpdateIdentityResource(this.form.value).subscribe()}},{key:"setIdentityResource",value:function(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(function(t){t.Header.Title="IdentityResource",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create IdentityResource",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}},{key:"Reload",value:function(){var e=this;this.idService.GetIdentityResource(this.Id).subscribe(function(t){e.setIdentityResource(t),e.idService.ReLoadUsers()})}},{key:"BaseDto",get:function(){return this._baseDto},set:function(e){this._baseDto=JSON.parse(JSON.stringify(e))}}]),t}(),io.\u0275fac=function(e){return new(e||io)(M.Pb(L.a),M.Pb(k.e),M.Pb(V.a),M.Pb(le),M.Pb(M.h))},io.\u0275cmp=M.Jb({type:io,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","DisplayName"],["nz-input","","formControlName","DisplayName","id","DisplayName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["nzAccordion","",3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["nz-checkbox","","formControlName","Required"],["nz-checkbox","","formControlName","Emphasize"],["nz-checkbox","","formControlName","ShowInDiscoveryDocument"],["nzHeader","User Claims"],["header","Type","formControlName","UserClaims","no-scrollbar","",2,"height","300px"],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Fc(0,Vi,45,14,"ng-container",0),M.hc(1,"async"),M.Fc(2,Ri,3,0,"ng-template",1)),2&e&&M.nc("ngIf",M.ic(1,1,t.user$))},directives:[U.o,de.e,k.r,k.n,T.b,k.h,_e.c,_e.a,H.c,H.a,T.d,T.a,B.b,k.d,k.m,k.g,B.a,Le.a,Le.c,F.a,Fn,G.a,fe.a,N.a,Q.a],pipes:[U.b,U.i],styles:[""]}),io)},{path:"api-scopes",component:(no=function(){function e(t,n,i,o,r,c,a){var s=this;l(this,e),this.uiService=t,this.idService=n,this.router=i,this.route=o,this.overlay=r,this.viewContainerRef=c,this.apiResourcesQuery=a,this.grid=(new R.d).SetColumns(function(e){return e.Default("Name").SetInitialWidth(200,!0).SetLeftFixed().SetCssClass("pValue")},function(e){return e.Default("DisplayName")},function(e){return e.Default("Description")}).SetData(this.idService.GetAllApiScopes()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);var n=new R.a(e.api,e.event);s.contextMenu=s.overlay.OpenContextMenu(e.event,s.itemsContextMenu,s.viewContainerRef,n)}).OnViewPortContextMenu(function(e,t){var n=new R.a(t,e);s.contextMenu=s.overlay.OpenContextMenu(e,s.itemsContextMenu,s.viewContainerRef,n)}).OnRowDoubleClicked(function(e){s.EditApiScope(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnViewPortClick(function(e,t){t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetDataImmutable(function(e){return e.Id}),t.Set(function(e){e.Header.Title="IDP / Api-Scopes",e.Content.Scrollable=!1,e.Header.Icon="fa#cube"})}return d(e,[{key:"AddApiScope",value:function(){var e;this.router.navigate(["create"],{relativeTo:this.route}),null===(e=this.contextMenu)||void 0===e||e.Close()}},{key:"EditApiScope",value:function(e){var t;this.router.navigate([e.Id],{relativeTo:this.route}),null===(t=this.contextMenu)||void 0===t||t.Close()}},{key:"RemoveApiScope",value:function(e){var n,i;(n=this.idService).DeleteApiScope.apply(n,t(e.map(function(e){return e.Id}))).subscribe(),null===(i=this.contextMenu)||void 0===i||i.Close()}},{key:"ReloadApiScopesList",value:function(){this.idService.ReLoadApiScopes()}}]),e}(),no.\u0275fac=function(e){return new(e||no)(M.Pb(L.a),M.Pb(le),M.Pb(V.i),M.Pb(V.a),M.Pb(D.c),M.Pb(M.Q),M.Pb(ie))},no.\u0275cmp=M.Jb({type:no,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&M.Lc(Pi,1),2&e&&M.uc(n=M.ec())&&(t.itemsContextMenu=n.first)},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Qb(0,"ag-grid-angular",0),M.Fc(1,Ii,6,2,"ng-template",null,1,M.Gc),M.Fc(3,Mi,3,0,"ng-template",2)),2&e&&M.nc("dbGrid",t.grid)},directives:[ue.a,R.b,de.e,be.c,G.a,be.e,fe.a,U.o,N.a,Q.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),no)},{path:"api-scopes/:id",component:(to=function(){function t(n,i,o,r,c){var a=this;l(this,t),this.uiService=n,this.fb=i,this.route=o,this.idService=r,this.cref=c,this.user$=Object(Qe.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(P.a)(function(t){var n=e(t,3),i=n[0];return n[1],n[2],a.Id=i.get("id"),a.idService.GetApiScope(a.Id)}),Object(Ge.a)(),Object(E.a)(function(e){return a.setApiScope(e)})),this.showDebugInformations$=this.uiService.showDebugInformations$,n.Set(function(e){e.Header.Title="ApiScope",e.Content.Scrollable=!1,e.Header.Icon="fa#cube",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=function(){return a.Save()},e.Footer.Button2.OnClick=function(){a.form.reset(a.BaseDto)}})}return d(t,[{key:"ngOnInit",value:function(){this.form=this.fb.group({Id:[null],Enabled:[],Name:[null,k.q.required],DisplayName:[null,k.q.required],Description:[null],Required:[],Emphasize:[],ShowInDiscoveryDocument:[],UserClaims:[[]],Properties:[]})}},{key:"onOk",value:function(e){e.setHours(23,59,0,0)}},{key:"Save",value:function(){console.log(this),"create"==this.Id?this.idService.CreateApiScope(this.form.value).subscribe():this.idService.UpdateApiScope(this.form.value).subscribe()}},{key:"setApiScope",value:function(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(function(t){t.Header.Title="ApiScope",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create ApiScope",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}},{key:"Reload",value:function(){var e=this;this.idService.GetApiScope(this.Id).subscribe(function(t){e.setApiScope(t),e.idService.ReLoadUsers()})}},{key:"BaseDto",get:function(){return this._baseDto},set:function(e){this._baseDto=JSON.parse(JSON.stringify(e))}}]),t}(),to.\u0275fac=function(e){return new(e||to)(M.Pb(L.a),M.Pb(k.e),M.Pb(V.a),M.Pb(le),M.Pb(M.h))},to.\u0275cmp=M.Jb({type:to,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","DisplayName"],["nz-input","","formControlName","DisplayName","id","DisplayName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["nzAccordion","",3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["nz-checkbox","","formControlName","Required"],["nz-checkbox","","formControlName","Emphasize"],["nz-checkbox","","formControlName","ShowInDiscoveryDocument"],["nzHeader","User Claims"],["header","Type","formControlName","UserClaims","no-scrollbar","",2,"height","300px"],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Fc(0,Ni,45,14,"ng-container",0),M.hc(1,"async"),M.Fc(2,Qi,3,0,"ng-template",1)),2&e&&M.nc("ngIf",M.ic(1,1,t.user$))},directives:[U.o,de.e,k.r,k.n,T.b,k.h,_e.c,_e.a,H.c,H.a,T.d,T.a,B.b,k.d,k.m,k.g,B.a,Le.a,Le.c,F.a,Fn,G.a,fe.a,N.a,Q.a],pipes:[U.b,U.i],styles:[""]}),to)},{path:"authentication-providers",component:(eo=function(){function e(t,n,i,o,r,c){var a=this;l(this,e),this.uiService=t,this.idService=n,this.router=i,this.route=o,this.overlay=r,this.viewContainerRef=c,this.grid=(new R.d).SetColumns(function(e){return e.Default("Name").SetInitialWidth(200,!0).SetLeftFixed().SetCssClass("pValue")},function(e){return e.Default("DisplayName")},function(e){return e.Default("Description")}).SetData(this.idService.GetAllAuthenticationProvidersList()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);var n=new R.a(e.api,e.event);a.contextMenu=a.overlay.OpenContextMenu(e.event,a.itemsContextMenu,a.viewContainerRef,n)}).OnViewPortContextMenu(function(e,t){var n=new R.a(t,e);a.contextMenu=a.overlay.OpenContextMenu(e,a.itemsContextMenu,a.viewContainerRef,n)}).OnRowDoubleClicked(function(e){a.Edit(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(function(e){return e.api.sizeColumnsToFit()}).OnViewPortClick(function(e,t){t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetDataImmutable(function(e){return e.Id}),t.Set(function(e){e.Header.Title="IDP / Authentication Providers",e.Content.Scrollable=!1,e.Header.Icon="fa#shield-alt"})}return d(e,[{key:"Add",value:function(){var e;this.router.navigate(["create"],{relativeTo:this.route}),null===(e=this.contextMenu)||void 0===e||e.Close()}},{key:"Edit",value:function(e){var t;this.router.navigate([e.Id],{relativeTo:this.route}),null===(t=this.contextMenu)||void 0===t||t.Close()}},{key:"Remove",value:function(e){var n,i;(n=this.idService).DeleteAuthenticationProvider.apply(n,t(e.map(function(e){return e.Id}))).subscribe(),null===(i=this.contextMenu)||void 0===i||i.Close()}},{key:"Reload",value:function(){this.idService.ReLoadAuthenticationProviders()}}]),e}(),eo.\u0275fac=function(e){return new(e||eo)(M.Pb(L.a),M.Pb(le),M.Pb(V.i),M.Pb(V.a),M.Pb(D.c),M.Pb(M.Q))},eo.\u0275cmp=M.Jb({type:eo,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&M.Lc(Gi,1),2&e&&M.uc(n=M.ec())&&(t.itemsContextMenu=n.first)},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Qb(0,"ag-grid-angular",0),M.Fc(1,ji,6,2,"ng-template",null,1,M.Gc),M.Fc(3,Ei,3,0,"ng-template",2)),2&e&&M.nc("dbGrid",t.grid)},directives:[ue.a,R.b,de.e,be.c,G.a,be.e,fe.a,U.o,N.a,Q.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),eo)},{path:"authentication-providers/:id",component:(Yi=function(){function t(n,i,o,r,c){var a=this;l(this,t),this.uiService=n,this.fb=i,this.route=o,this.idService=r,this.cref=c,this.provider$=Object(Qe.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(P.a)(function(t){var n=e(t,3),i=n[0];return n[1],n[2],a.Id=i.get("id"),a.idService.GetAuthenticationProvider(a.Id)}),Object(Ge.a)(),Object(E.a)(function(e){return a.setProvider(e)})),this.showDebugInformations$=this.uiService.showDebugInformations$,n.Set(function(e){e.Header.Title="Authentication Provider",e.Content.Scrollable=!1,e.Header.Icon="fa#shield-alt",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=function(){return a.Save()},e.Footer.Button2.OnClick=function(){a.form.reset(a.BaseDto)}})}return d(t,[{key:"ngOnInit",value:function(){this.form=this.fb.group({Id:[null],Type:[null],Enabled:[!1],Name:[null,k.q.required],DisplayName:[null,k.q.required],Description:[null],Parameters:[]})}},{key:"Save",value:function(){console.log(this),"create"==this.Id?this.idService.CreateAuthenticationProvider(this.form.value).subscribe():this.idService.UpdateAuthenticationProvider(this.form.value).subscribe()}},{key:"setProvider",value:function(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(function(t){t.Header.Title="Authentication Provider",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create ApiScope",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}},{key:"Reload",value:function(){var e=this;this.idService.GetAuthenticationProvider(this.Id).subscribe(function(t){e.setProvider(t),e.idService.ReLoadAuthenticationProviders()})}},{key:"BaseDto",get:function(){return this._baseDto},set:function(e){this._baseDto=JSON.parse(JSON.stringify(e))}}]),t}(),Yi.\u0275fac=function(e){return new(e||Yi)(M.Pb(L.a),M.Pb(k.e),M.Pb(V.a),M.Pb(le),M.Pb(M.h))},Yi.\u0275cmp=M.Jb({type:Yi,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","DisplayName"],["nz-input","","formControlName","DisplayName","id","DisplayName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["nzAccordion","",3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["formControlName","Type"],["nzValue","Windows","nzLabel","Windows"],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(M.Fc(0,Ki,39,14,"ng-container",0),M.hc(1,"async"),M.Fc(2,Xi,3,0,"ng-template",1)),2&e&&M.nc("ngIf",M.ic(1,1,t.provider$))},directives:[U.o,de.e,k.r,k.n,T.b,k.h,_e.c,_e.a,H.c,H.a,T.d,T.a,B.b,k.d,k.m,k.g,B.a,Le.a,Le.c,F.a,dn.b,dn.a,G.a,fe.a,N.a,Q.a],pipes:[U.b,U.i],styles:[""]}),Yi)}],bo=((so=function e(){l(this,e)}).\u0275mod=M.Nb({type:so}),so.\u0275inj=M.Mb({factory:function(e){return new(e||so)},imports:[[V.l.forChild(uo)],V.l]}),so),fo=r("FG6W"),po=((lo=function e(){l(this,e)}).\u0275mod=M.Nb({type:lo}),lo.\u0275inj=M.Mb({factory:function(e){return new(e||lo)},imports:[[U.c,k.p,k.j,bo,D.a,R.c,fo.a]]}),lo)}}])}();